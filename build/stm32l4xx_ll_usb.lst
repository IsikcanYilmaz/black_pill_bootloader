ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"stm32l4xx_ll_usb.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.USB_CoreInit,"ax",%progbits
  18              		.align	1
  19              		.global	USB_CoreInit
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	USB_CoreInit:
  27              	.LFB292:
  28              		.file 1 "Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c"
   1:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
   2:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   ******************************************************************************
   3:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @file    stm32l4xx_ll_usb.c
   4:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @author  MCD Application Team
   5:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief   USB Low Layer HAL module driver.
   6:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *
   7:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *          This file provides firmware functions to manage the following
   8:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *          functionalities of the USB Peripheral Controller:
   9:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *           + Initialization/de-initialization functions
  10:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *           + I/O operation functions
  11:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *           + Peripheral Control functions
  12:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *           + Peripheral State functions
  13:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *
  14:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   ******************************************************************************
  15:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @attention
  16:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *
  17:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * Copyright (c) 2017 STMicroelectronics.
  18:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * All rights reserved.
  19:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *
  20:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * This software is licensed under terms that can be found in the LICENSE file
  21:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * in the root directory of this software component.
  22:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * If no LICENSE file comes with this software, it is provided AS-IS.
  23:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *
  24:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   ******************************************************************************
  25:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   @verbatim
  26:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   ==============================================================================
  27:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                     ##### How to use this driver #####
  28:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   ==============================================================================
  29:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     [..]
  30:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       (#) Fill parameters of Init structure in USB_OTG_CfgTypeDef structure.
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 2


  31:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
  32:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       (#) Call USB_CoreInit() API to initialize the USB Core peripheral.
  33:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
  34:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       (#) The upper HAL HCD/PCD driver will call the right routines for its internal processes.
  35:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
  36:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   @endverbatim
  37:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
  38:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   ******************************************************************************
  39:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
  40:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
  41:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /* Includes ------------------------------------------------------------------*/
  42:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** #include "stm32l4xx_hal.h"
  43:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
  44:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /** @addtogroup STM32L4xx_LL_USB_DRIVER
  45:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @{
  46:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
  47:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
  48:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** #if defined (HAL_PCD_MODULE_ENABLED) || defined (HAL_HCD_MODULE_ENABLED)
  49:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** #if defined (USB) || defined (USB_OTG_FS)
  50:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /* Private typedef -----------------------------------------------------------*/
  51:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /* Private define ------------------------------------------------------------*/
  52:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /* Private macro -------------------------------------------------------------*/
  53:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /* Private variables ---------------------------------------------------------*/
  54:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /* Private function prototypes -----------------------------------------------*/
  55:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /* Private functions ---------------------------------------------------------*/
  56:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** #if defined (USB_OTG_FS)
  57:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** static HAL_StatusTypeDef USB_CoreReset(USB_OTG_GlobalTypeDef *USBx);
  58:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
  59:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /* Exported functions --------------------------------------------------------*/
  60:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /** @defgroup USB_LL_Exported_Functions USB Low Layer Exported Functions
  61:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @{
  62:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
  63:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
  64:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /** @defgroup USB_LL_Exported_Functions_Group1 Initialization/de-initialization functions
  65:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *  @brief    Initialization and Configuration functions
  66:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *
  67:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** @verbatim
  68:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****  ===============================================================================
  69:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                       ##### Initialization/de-initialization functions #####
  70:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****  ===============================================================================
  71:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
  72:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** @endverbatim
  73:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @{
  74:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
  75:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
  76:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
  77:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  Initializes the USB Core
  78:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx USB Instance
  79:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  cfg pointer to a USB_OTG_CfgTypeDef structure that contains
  80:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *         the configuration information for the specified USBx peripheral.
  81:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
  82:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
  83:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_CoreInit(USB_OTG_GlobalTypeDef *USBx, USB_OTG_CfgTypeDef cfg)
  84:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
  85:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   HAL_StatusTypeDef ret;
  86:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
  87:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Select FS Embedded PHY */
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 3


  88:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GUSBCFG |= USB_OTG_GUSBCFG_PHYSEL;
  89:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
  90:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Reset after a PHY select */
  91:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   ret = USB_CoreReset(USBx);
  92:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
  93:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (cfg.battery_charging_enable == 0U)
  94:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
  95:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     /* Activate the USB Transceiver */
  96:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx->GCCFG |= USB_OTG_GCCFG_PWRDWN;
  97:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
  98:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else
  99:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 100:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     /* Deactivate the USB Transceiver */
 101:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx->GCCFG &= ~(USB_OTG_GCCFG_PWRDWN);
 102:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 103:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 104:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return ret;
 105:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 106:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 107:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 108:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
 109:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  Set the USB turnaround time
 110:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx USB Instance
 111:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  hclk: AHB clock frequency
 112:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval USB turnaround time In PHY Clocks number
 113:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
 114:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_SetTurnaroundTime(USB_OTG_GlobalTypeDef *USBx,
 115:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                         uint32_t hclk, uint8_t speed)
 116:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 117:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t UsbTrd;
 118:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 119:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* The USBTRD is configured according to the tables below, depending on AHB frequency
 120:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   used by application. In the low AHB frequency range it is used to stretch enough the USB response
 121:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   time to IN tokens, the USB turnaround time, so to compensate for the longer AHB read access
 122:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   latency to the Data FIFO */
 123:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (speed == USBD_FS_SPEED)
 124:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 125:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if ((hclk >= 14200000U) && (hclk < 15000000U))
 126:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 127:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       /* hclk Clock Range between 14.2-15 MHz */
 128:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       UsbTrd = 0xFU;
 129:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 130:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     else if ((hclk >= 15000000U) && (hclk < 16000000U))
 131:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 132:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       /* hclk Clock Range between 15-16 MHz */
 133:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       UsbTrd = 0xEU;
 134:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 135:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     else if ((hclk >= 16000000U) && (hclk < 17200000U))
 136:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 137:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       /* hclk Clock Range between 16-17.2 MHz */
 138:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       UsbTrd = 0xDU;
 139:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 140:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     else if ((hclk >= 17200000U) && (hclk < 18500000U))
 141:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 142:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       /* hclk Clock Range between 17.2-18.5 MHz */
 143:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       UsbTrd = 0xCU;
 144:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 4


 145:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     else if ((hclk >= 18500000U) && (hclk < 20000000U))
 146:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 147:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       /* hclk Clock Range between 18.5-20 MHz */
 148:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       UsbTrd = 0xBU;
 149:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 150:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     else if ((hclk >= 20000000U) && (hclk < 21800000U))
 151:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 152:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       /* hclk Clock Range between 20-21.8 MHz */
 153:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       UsbTrd = 0xAU;
 154:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 155:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     else if ((hclk >= 21800000U) && (hclk < 24000000U))
 156:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 157:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       /* hclk Clock Range between 21.8-24 MHz */
 158:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       UsbTrd = 0x9U;
 159:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 160:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     else if ((hclk >= 24000000U) && (hclk < 27700000U))
 161:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 162:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       /* hclk Clock Range between 24-27.7 MHz */
 163:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       UsbTrd = 0x8U;
 164:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 165:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     else if ((hclk >= 27700000U) && (hclk < 32000000U))
 166:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 167:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       /* hclk Clock Range between 27.7-32 MHz */
 168:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       UsbTrd = 0x7U;
 169:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 170:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     else /* if(hclk >= 32000000) */
 171:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 172:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       /* hclk Clock Range between 32-200 MHz */
 173:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       UsbTrd = 0x6U;
 174:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 175:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 176:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else
 177:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 178:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     UsbTrd = USBD_DEFAULT_TRDT_VALUE;
 179:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 180:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 181:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GUSBCFG &= ~USB_OTG_GUSBCFG_TRDT;
 182:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GUSBCFG |= (uint32_t)((UsbTrd << 10) & USB_OTG_GUSBCFG_TRDT);
 183:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 184:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 185:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 186:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 187:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
 188:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_EnableGlobalInt
 189:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *         Enables the controller's Global Int in the AHB Config reg
 190:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
 191:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
 192:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
 193:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_EnableGlobalInt(USB_OTG_GlobalTypeDef *USBx)
 194:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 195:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GAHBCFG |= USB_OTG_GAHBCFG_GINT;
 196:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 197:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 198:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 199:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
 200:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_DisableGlobalInt
 201:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *         Disable the controller's Global Int in the AHB Config reg
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 5


 202:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
 203:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
 204:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
 205:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_DisableGlobalInt(USB_OTG_GlobalTypeDef *USBx)
 206:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 207:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GAHBCFG &= ~USB_OTG_GAHBCFG_GINT;
 208:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 209:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 210:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 211:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
 212:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_SetCurrentMode Set functional mode
 213:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
 214:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  mode  current core mode
 215:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *          This parameter can be one of these values:
 216:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *            @arg USB_DEVICE_MODE Peripheral mode
 217:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *            @arg USB_HOST_MODE Host mode
 218:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
 219:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
 220:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_SetCurrentMode(USB_OTG_GlobalTypeDef *USBx, USB_ModeTypeDef mode)
 221:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 222:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t ms = 0U;
 223:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 224:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GUSBCFG &= ~(USB_OTG_GUSBCFG_FHMOD | USB_OTG_GUSBCFG_FDMOD);
 225:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 226:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (mode == USB_HOST_MODE)
 227:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 228:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx->GUSBCFG |= USB_OTG_GUSBCFG_FHMOD;
 229:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 230:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     do
 231:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 232:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       HAL_Delay(1U);
 233:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       ms++;
 234:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     } while ((USB_GetMode(USBx) != (uint32_t)USB_HOST_MODE) && (ms < 50U));
 235:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 236:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else if (mode == USB_DEVICE_MODE)
 237:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 238:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx->GUSBCFG |= USB_OTG_GUSBCFG_FDMOD;
 239:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 240:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     do
 241:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 242:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       HAL_Delay(1U);
 243:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       ms++;
 244:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     } while ((USB_GetMode(USBx) != (uint32_t)USB_DEVICE_MODE) && (ms < 50U));
 245:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 246:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else
 247:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 248:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     return HAL_ERROR;
 249:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 250:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 251:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (ms == 50U)
 252:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 253:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     return HAL_ERROR;
 254:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 255:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 256:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 257:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 258:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 6


 259:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
 260:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_DevInit Initializes the USB_OTG controller registers
 261:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *         for device mode
 262:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
 263:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  cfg   pointer to a USB_OTG_CfgTypeDef structure that contains
 264:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *         the configuration information for the specified USBx peripheral.
 265:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
 266:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
 267:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_DevInit(USB_OTG_GlobalTypeDef *USBx, USB_OTG_CfgTypeDef cfg)
 268:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 269:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   HAL_StatusTypeDef ret = HAL_OK;
 270:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 271:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t i;
 272:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 273:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   for (i = 0U; i < 15U; i++)
 274:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 275:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx->DIEPTXF[i] = 0U;
 276:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 277:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 278:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* VBUS Sensing setup */
 279:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (cfg.vbus_sensing_enable == 0U)
 280:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 281:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_DEVICE->DCTL |= USB_OTG_DCTL_SDIS;
 282:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 283:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     /* Deactivate VBUS Sensing B */
 284:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx->GCCFG &= ~USB_OTG_GCCFG_VBDEN;
 285:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 286:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     /* B-peripheral session valid override enable */
 287:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx->GOTGCTL |= USB_OTG_GOTGCTL_BVALOEN;
 288:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx->GOTGCTL |= USB_OTG_GOTGCTL_BVALOVAL;
 289:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 290:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else
 291:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 292:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     /* Enable HW VBUS sensing */
 293:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx->GCCFG |= USB_OTG_GCCFG_VBDEN;
 294:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 295:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 296:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Restart the Phy Clock */
 297:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_PCGCCTL = 0U;
 298:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 299:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Device mode configuration */
 300:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_DEVICE->DCFG |= DCFG_FRAME_INTERVAL_80;
 301:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 302:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Set Core speed to Full speed mode */
 303:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   (void)USB_SetDevSpeed(USBx, USB_OTG_SPEED_FULL);
 304:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 305:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Flush the FIFOs */
 306:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (USB_FlushTxFifo(USBx, 0x10U) != HAL_OK) /* all Tx FIFOs */
 307:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 308:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     ret = HAL_ERROR;
 309:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 310:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 311:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (USB_FlushRxFifo(USBx) != HAL_OK)
 312:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 313:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     ret = HAL_ERROR;
 314:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 315:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 7


 316:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Clear all pending Device Interrupts */
 317:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_DEVICE->DIEPMSK = 0U;
 318:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_DEVICE->DOEPMSK = 0U;
 319:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_DEVICE->DAINTMSK = 0U;
 320:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 321:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   for (i = 0U; i < cfg.dev_endpoints; i++)
 322:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 323:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if ((USBx_INEP(i)->DIEPCTL & USB_OTG_DIEPCTL_EPENA) == USB_OTG_DIEPCTL_EPENA)
 324:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 325:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       if (i == 0U)
 326:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
 327:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         USBx_INEP(i)->DIEPCTL = USB_OTG_DIEPCTL_SNAK;
 328:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
 329:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       else
 330:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
 331:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         USBx_INEP(i)->DIEPCTL = USB_OTG_DIEPCTL_EPDIS | USB_OTG_DIEPCTL_SNAK;
 332:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
 333:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 334:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     else
 335:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 336:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(i)->DIEPCTL = 0U;
 337:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 338:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 339:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_INEP(i)->DIEPTSIZ = 0U;
 340:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_INEP(i)->DIEPINT  = 0xFB7FU;
 341:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 342:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 343:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   for (i = 0U; i < cfg.dev_endpoints; i++)
 344:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 345:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if ((USBx_OUTEP(i)->DOEPCTL & USB_OTG_DOEPCTL_EPENA) == USB_OTG_DOEPCTL_EPENA)
 346:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 347:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       if (i == 0U)
 348:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
 349:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         USBx_OUTEP(i)->DOEPCTL = USB_OTG_DOEPCTL_SNAK;
 350:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
 351:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       else
 352:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
 353:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         USBx_OUTEP(i)->DOEPCTL = USB_OTG_DOEPCTL_EPDIS | USB_OTG_DOEPCTL_SNAK;
 354:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
 355:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 356:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     else
 357:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 358:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_OUTEP(i)->DOEPCTL = 0U;
 359:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 360:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 361:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_OUTEP(i)->DOEPTSIZ = 0U;
 362:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_OUTEP(i)->DOEPINT  = 0xFB7FU;
 363:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 364:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 365:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_DEVICE->DIEPMSK &= ~(USB_OTG_DIEPMSK_TXFURM);
 366:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 367:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Disable all interrupts. */
 368:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GINTMSK = 0U;
 369:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 370:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Clear any pending interrupts */
 371:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GINTSTS = 0xBFFFFFFFU;
 372:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 8


 373:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Enable the common interrupts */
 374:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GINTMSK |= USB_OTG_GINTMSK_RXFLVLM;
 375:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 376:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Enable interrupts matching to the Device mode ONLY */
 377:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GINTMSK |= USB_OTG_GINTMSK_USBSUSPM | USB_OTG_GINTMSK_USBRST |
 378:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                    USB_OTG_GINTMSK_ENUMDNEM | USB_OTG_GINTMSK_IEPINT |
 379:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                    USB_OTG_GINTMSK_OEPINT   | USB_OTG_GINTMSK_IISOIXFRM |
 380:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                    USB_OTG_GINTMSK_PXFRM_IISOOXFRM | USB_OTG_GINTMSK_WUIM;
 381:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 382:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (cfg.Sof_enable != 0U)
 383:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 384:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx->GINTMSK |= USB_OTG_GINTMSK_SOFM;
 385:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 386:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 387:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (cfg.vbus_sensing_enable == 1U)
 388:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 389:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx->GINTMSK |= (USB_OTG_GINTMSK_SRQIM | USB_OTG_GINTMSK_OTGINT);
 390:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 391:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 392:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return ret;
 393:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 394:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 395:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
 396:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_FlushTxFifo Flush a Tx FIFO
 397:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
 398:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  num  FIFO number
 399:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *         This parameter can be a value from 1 to 15
 400:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****             15 means Flush all Tx FIFOs
 401:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
 402:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
 403:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_FlushTxFifo(USB_OTG_GlobalTypeDef *USBx, uint32_t num)
 404:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 405:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   __IO uint32_t count = 0U;
 406:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 407:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Wait for AHB master IDLE state. */
 408:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   do
 409:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 410:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     count++;
 411:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 412:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (count > 200000U)
 413:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 414:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       return HAL_TIMEOUT;
 415:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 416:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   } while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_AHBIDL) == 0U);
 417:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 418:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Flush TX Fifo */
 419:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   count = 0U;
 420:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GRSTCTL = (USB_OTG_GRSTCTL_TXFFLSH | (num << 6));
 421:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 422:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   do
 423:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 424:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     count++;
 425:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 426:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (count > 200000U)
 427:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 428:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       return HAL_TIMEOUT;
 429:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 9


 430:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   } while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_TXFFLSH) == USB_OTG_GRSTCTL_TXFFLSH);
 431:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 432:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 433:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 434:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 435:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
 436:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_FlushRxFifo  Flush Rx FIFO
 437:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
 438:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
 439:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
 440:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_FlushRxFifo(USB_OTG_GlobalTypeDef *USBx)
 441:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 442:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   __IO uint32_t count = 0U;
 443:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 444:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Wait for AHB master IDLE state. */
 445:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   do
 446:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 447:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     count++;
 448:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 449:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (count > 200000U)
 450:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 451:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       return HAL_TIMEOUT;
 452:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 453:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   } while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_AHBIDL) == 0U);
 454:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 455:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Flush RX Fifo */
 456:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   count = 0U;
 457:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GRSTCTL = USB_OTG_GRSTCTL_RXFFLSH;
 458:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 459:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   do
 460:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 461:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     count++;
 462:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 463:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (count > 200000U)
 464:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 465:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       return HAL_TIMEOUT;
 466:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 467:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   } while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_RXFFLSH) == USB_OTG_GRSTCTL_RXFFLSH);
 468:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 469:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 470:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 471:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 472:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
 473:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_SetDevSpeed  Initializes the DevSpd field of DCFG register
 474:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *         depending the PHY type and the enumeration speed of the device.
 475:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
 476:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  speed  device speed
 477:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *          This parameter can be one of these values:
 478:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_FULL: Full speed mode
 479:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval  Hal status
 480:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
 481:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_SetDevSpeed(USB_OTG_GlobalTypeDef *USBx, uint8_t speed)
 482:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 483:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 484:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 485:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_DEVICE->DCFG |= speed;
 486:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 10


 487:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 488:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 489:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
 490:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_GetDevSpeed  Return the Dev Speed
 491:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
 492:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval speed  device speed
 493:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *          This parameter can be one of these values:
 494:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *            @arg USBD_FS_SPEED: Full speed mode
 495:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
 496:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** uint8_t USB_GetDevSpeed(USB_OTG_GlobalTypeDef *USBx)
 497:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 498:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 499:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint8_t speed;
 500:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t DevEnumSpeed = USBx_DEVICE->DSTS & USB_OTG_DSTS_ENUMSPD;
 501:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 502:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if ((DevEnumSpeed == DSTS_ENUMSPD_FS_PHY_30MHZ_OR_60MHZ) ||
 503:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       (DevEnumSpeed == DSTS_ENUMSPD_FS_PHY_48MHZ))
 504:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 505:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     speed = USBD_FS_SPEED;
 506:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 507:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else
 508:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 509:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     speed = 0xFU;
 510:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 511:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 512:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return speed;
 513:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 514:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 515:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
 516:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  Activate and configure an endpoint
 517:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
 518:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 519:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
 520:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
 521:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_ActivateEndpoint(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
 522:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 523:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 524:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 525:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 526:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (ep->is_in == 1U)
 527:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 528:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK |= USB_OTG_DAINTMSK_IEPM & (uint32_t)(1UL << (ep->num & EP_ADDR_MSK));
 529:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 530:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if ((USBx_INEP(epnum)->DIEPCTL & USB_OTG_DIEPCTL_USBAEP) == 0U)
 531:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 532:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= (ep->maxpacket & USB_OTG_DIEPCTL_MPSIZ) |
 533:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                    ((uint32_t)ep->type << 18) | (epnum << 22) |
 534:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_SD0PID_SEVNFRM |
 535:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_USBAEP;
 536:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 537:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 538:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else
 539:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 540:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK |= USB_OTG_DAINTMSK_OEPM & ((uint32_t)(1UL << (ep->num & EP_ADDR_MSK)) <<
 541:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 542:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (((USBx_OUTEP(epnum)->DOEPCTL) & USB_OTG_DOEPCTL_USBAEP) == 0U)
 543:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 11


 544:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL |= (ep->maxpacket & USB_OTG_DOEPCTL_MPSIZ) |
 545:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                     ((uint32_t)ep->type << 18) |
 546:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                     USB_OTG_DIEPCTL_SD0PID_SEVNFRM |
 547:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                     USB_OTG_DOEPCTL_USBAEP;
 548:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 549:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 550:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 551:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 552:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 553:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
 554:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  Activate and configure a dedicated endpoint
 555:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
 556:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 557:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
 558:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
 559:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_ActivateDedicatedEndpoint(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
 560:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 561:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 562:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 563:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 564:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Read DEPCTLn register */
 565:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (ep->is_in == 1U)
 566:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 567:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (((USBx_INEP(epnum)->DIEPCTL) & USB_OTG_DIEPCTL_USBAEP) == 0U)
 568:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 569:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= (ep->maxpacket & USB_OTG_DIEPCTL_MPSIZ) |
 570:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                    ((uint32_t)ep->type << 18) | (epnum << 22) |
 571:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_SD0PID_SEVNFRM |
 572:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_USBAEP;
 573:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 574:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 575:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_DEVICE->DEACHMSK |= USB_OTG_DAINTMSK_IEPM & (uint32_t)(1UL << (ep->num & EP_ADDR_MSK));
 576:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 577:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else
 578:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 579:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (((USBx_OUTEP(epnum)->DOEPCTL) & USB_OTG_DOEPCTL_USBAEP) == 0U)
 580:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 581:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL |= (ep->maxpacket & USB_OTG_DOEPCTL_MPSIZ) |
 582:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                     ((uint32_t)ep->type << 18) | (epnum << 22) |
 583:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                     USB_OTG_DOEPCTL_USBAEP;
 584:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 585:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 586:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_DEVICE->DEACHMSK |= USB_OTG_DAINTMSK_OEPM & ((uint32_t)(1UL << (ep->num & EP_ADDR_MSK)) <<
 587:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 588:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 589:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 590:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 591:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 592:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
 593:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  De-activate and de-initialize an endpoint
 594:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
 595:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 596:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
 597:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
 598:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_DeactivateEndpoint(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
 599:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 600:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 12


 601:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 602:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 603:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Read DEPCTLn register */
 604:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (ep->is_in == 1U)
 605:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 606:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if ((USBx_INEP(epnum)->DIEPCTL & USB_OTG_DIEPCTL_EPENA) == USB_OTG_DIEPCTL_EPENA)
 607:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 608:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_SNAK;
 609:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_EPDIS;
 610:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 611:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 612:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_DEVICE->DEACHMSK &= ~(USB_OTG_DAINTMSK_IEPM & (uint32_t)(1UL << (ep->num & EP_ADDR_MSK)));
 613:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK &= ~(USB_OTG_DAINTMSK_IEPM & (uint32_t)(1UL << (ep->num & EP_ADDR_MSK)));
 614:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_INEP(epnum)->DIEPCTL &= ~(USB_OTG_DIEPCTL_USBAEP |
 615:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_MPSIZ |
 616:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_TXFNUM |
 617:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_SD0PID_SEVNFRM |
 618:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_EPTYP);
 619:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 620:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else
 621:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 622:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if ((USBx_OUTEP(epnum)->DOEPCTL & USB_OTG_DOEPCTL_EPENA) == USB_OTG_DOEPCTL_EPENA)
 623:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 624:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL |= USB_OTG_DOEPCTL_SNAK;
 625:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL |= USB_OTG_DOEPCTL_EPDIS;
 626:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 627:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 628:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_DEVICE->DEACHMSK &= ~(USB_OTG_DAINTMSK_OEPM & ((uint32_t)(1UL << (ep->num & EP_ADDR_MSK)) 
 629:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK &= ~(USB_OTG_DAINTMSK_OEPM & ((uint32_t)(1UL << (ep->num & EP_ADDR_MSK)) 
 630:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPCTL &= ~(USB_OTG_DOEPCTL_USBAEP |
 631:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                     USB_OTG_DOEPCTL_MPSIZ |
 632:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                     USB_OTG_DOEPCTL_SD0PID_SEVNFRM |
 633:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                     USB_OTG_DOEPCTL_EPTYP);
 634:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 635:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 636:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 637:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 638:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 639:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
 640:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  De-activate and de-initialize a dedicated endpoint
 641:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
 642:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 643:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
 644:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
 645:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_DeactivateDedicatedEndpoint(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *e
 646:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 647:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 648:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 649:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 650:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Read DEPCTLn register */
 651:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (ep->is_in == 1U)
 652:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 653:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if ((USBx_INEP(epnum)->DIEPCTL & USB_OTG_DIEPCTL_EPENA) == USB_OTG_DIEPCTL_EPENA)
 654:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 655:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL  |= USB_OTG_DIEPCTL_SNAK;
 656:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL  |= USB_OTG_DIEPCTL_EPDIS;
 657:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 13


 658:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 659:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_INEP(epnum)->DIEPCTL &= ~ USB_OTG_DIEPCTL_USBAEP;
 660:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK &= ~(USB_OTG_DAINTMSK_IEPM & (uint32_t)(1UL << (ep->num & EP_ADDR_MSK)));
 661:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 662:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else
 663:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 664:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if ((USBx_OUTEP(epnum)->DOEPCTL & USB_OTG_DOEPCTL_EPENA) == USB_OTG_DOEPCTL_EPENA)
 665:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 666:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL  |= USB_OTG_DOEPCTL_SNAK;
 667:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL  |= USB_OTG_DOEPCTL_EPDIS;
 668:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 669:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 670:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPCTL &= ~USB_OTG_DOEPCTL_USBAEP;
 671:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK &= ~(USB_OTG_DAINTMSK_OEPM & ((uint32_t)(1UL << (ep->num & EP_ADDR_MSK)) 
 672:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 673:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 674:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 675:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 676:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 677:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
 678:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_EPStartXfer : setup and starts a transfer over an EP
 679:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
 680:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 681:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
 682:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
 683:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_EPStartXfer(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
 684:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 685:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 686:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 687:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint16_t pktcnt;
 688:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 689:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* IN endpoint */
 690:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (ep->is_in == 1U)
 691:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 692:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     /* Zero Length Packet? */
 693:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (ep->xfer_len == 0U)
 694:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 695:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_PKTCNT);
 696:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT & (1U << 19));
 697:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_XFRSIZ);
 698:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 699:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     else
 700:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 701:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       /* Program the transfer size and packet count
 702:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       * as follows: xfersize = N * maxpacket +
 703:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       * short_packet pktcnt = N + (short_packet
 704:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       * exist ? 1 : 0)
 705:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       */
 706:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_XFRSIZ);
 707:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_PKTCNT);
 708:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT &
 709:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                      (((ep->xfer_len + ep->maxpacket - 1U) / ep->maxpacket) << 19))
 710:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 711:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_XFRSIZ & ep->xfer_len);
 712:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 713:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       if (ep->type == EP_TYPE_ISOC)
 714:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 14


 715:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_MULCNT);
 716:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_MULCNT & (1U << 29));
 717:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
 718:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 719:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     /* EP enable, IN data in FIFO */
 720:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_INEP(epnum)->DIEPCTL |= (USB_OTG_DIEPCTL_CNAK | USB_OTG_DIEPCTL_EPENA);
 721:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 722:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (ep->type != EP_TYPE_ISOC)
 723:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 724:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       /* Enable the Tx FIFO Empty Interrupt for this EP */
 725:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       if (ep->xfer_len > 0U)
 726:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
 727:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         USBx_DEVICE->DIEPEMPMSK |= 1UL << (ep->num & EP_ADDR_MSK);
 728:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
 729:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 730:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     else
 731:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 732:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       if ((USBx_DEVICE->DSTS & (1U << 8)) == 0U)
 733:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
 734:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_SODDFRM;
 735:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
 736:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       else
 737:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
 738:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_SD0PID_SEVNFRM;
 739:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
 740:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 741:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       (void)USB_WritePacket(USBx, ep->xfer_buff, ep->num, (uint16_t)ep->xfer_len);
 742:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 743:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 744:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else /* OUT endpoint */
 745:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 746:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     /* Program the transfer size and packet count as follows:
 747:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     * pktcnt = N
 748:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     * xfersize = N * maxpacket
 749:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     */
 750:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPTSIZ &= ~(USB_OTG_DOEPTSIZ_XFRSIZ);
 751:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPTSIZ &= ~(USB_OTG_DOEPTSIZ_PKTCNT);
 752:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 753:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (ep->xfer_len == 0U)
 754:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 755:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_XFRSIZ & ep->maxpacket);
 756:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_PKTCNT & (1U << 19));
 757:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 758:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     else
 759:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 760:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       pktcnt = (uint16_t)((ep->xfer_len + ep->maxpacket - 1U) / ep->maxpacket);
 761:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       ep->xfer_size = ep->maxpacket * pktcnt;
 762:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 763:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPTSIZ |= USB_OTG_DOEPTSIZ_PKTCNT & ((uint32_t)pktcnt << 19);
 764:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPTSIZ |= USB_OTG_DOEPTSIZ_XFRSIZ & ep->xfer_size;
 765:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 766:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 767:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (ep->type == EP_TYPE_ISOC)
 768:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 769:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       if ((USBx_DEVICE->DSTS & (1U << 8)) == 0U)
 770:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
 771:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         USBx_OUTEP(epnum)->DOEPCTL |= USB_OTG_DOEPCTL_SODDFRM;
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 15


 772:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
 773:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       else
 774:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
 775:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         USBx_OUTEP(epnum)->DOEPCTL |= USB_OTG_DOEPCTL_SD0PID_SEVNFRM;
 776:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
 777:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 778:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     /* EP enable */
 779:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPCTL |= (USB_OTG_DOEPCTL_CNAK | USB_OTG_DOEPCTL_EPENA);
 780:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 781:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 782:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 783:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 784:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 785:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
 786:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_EP0StartXfer : setup and starts a transfer over the EP  0
 787:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
 788:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 789:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
 790:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
 791:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_EP0StartXfer(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
 792:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 793:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 794:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 795:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 796:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* IN endpoint */
 797:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (ep->is_in == 1U)
 798:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 799:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     /* Zero Length Packet? */
 800:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (ep->xfer_len == 0U)
 801:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 802:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_PKTCNT);
 803:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT & (1U << 19));
 804:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_XFRSIZ);
 805:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 806:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     else
 807:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 808:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       /* Program the transfer size and packet count
 809:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       * as follows: xfersize = N * maxpacket +
 810:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       * short_packet pktcnt = N + (short_packet
 811:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       * exist ? 1 : 0)
 812:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       */
 813:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_XFRSIZ);
 814:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_PKTCNT);
 815:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 816:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       if (ep->xfer_len > ep->maxpacket)
 817:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
 818:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         ep->xfer_len = ep->maxpacket;
 819:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
 820:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT & (1U << 19));
 821:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_XFRSIZ & ep->xfer_len);
 822:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 823:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 824:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     /* EP enable, IN data in FIFO */
 825:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_INEP(epnum)->DIEPCTL |= (USB_OTG_DIEPCTL_CNAK | USB_OTG_DIEPCTL_EPENA);
 826:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 827:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     /* Enable the Tx FIFO Empty Interrupt for this EP */
 828:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (ep->xfer_len > 0U)
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 16


 829:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 830:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_DEVICE->DIEPEMPMSK |= 1UL << (ep->num & EP_ADDR_MSK);
 831:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 832:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 833:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else /* OUT endpoint */
 834:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 835:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     /* Program the transfer size and packet count as follows:
 836:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     * pktcnt = N
 837:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     * xfersize = N * maxpacket
 838:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     */
 839:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPTSIZ &= ~(USB_OTG_DOEPTSIZ_XFRSIZ);
 840:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPTSIZ &= ~(USB_OTG_DOEPTSIZ_PKTCNT);
 841:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 842:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (ep->xfer_len > 0U)
 843:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 844:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       ep->xfer_len = ep->maxpacket;
 845:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 846:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 847:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     /* Store transfer size, for EP0 this is equal to endpoint max packet size */
 848:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     ep->xfer_size = ep->maxpacket;
 849:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 850:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_PKTCNT & (1U << 19));
 851:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_XFRSIZ & ep->xfer_size);
 852:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 853:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     /* EP enable */
 854:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPCTL |= (USB_OTG_DOEPCTL_CNAK | USB_OTG_DOEPCTL_EPENA);
 855:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 856:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 857:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 858:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 859:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 860:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 861:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
 862:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****    * @brief  USB_EPStoptXfer  Stop transfer on an EP
 863:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****    * @param  USBx  usb device instance
 864:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****    * @param  ep pointer to endpoint structure
 865:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****    * @retval HAL status
 866:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****    */
 867:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_EPStopXfer(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
 868:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 869:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   __IO uint32_t count = 0U;
 870:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   HAL_StatusTypeDef ret = HAL_OK;
 871:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 872:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 873:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* IN endpoint */
 874:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (ep->is_in == 1U)
 875:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 876:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     /* EP enable, IN data in FIFO */
 877:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (((USBx_INEP(ep->num)->DIEPCTL) & USB_OTG_DIEPCTL_EPENA) == USB_OTG_DIEPCTL_EPENA)
 878:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 879:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPCTL |= (USB_OTG_DIEPCTL_SNAK);
 880:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPCTL |= (USB_OTG_DIEPCTL_EPDIS);
 881:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 882:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       do
 883:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
 884:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         count++;
 885:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 17


 886:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         if (count > 10000U)
 887:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         {
 888:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           ret = HAL_ERROR;
 889:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           break;
 890:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         }
 891:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       } while (((USBx_INEP(ep->num)->DIEPCTL) & USB_OTG_DIEPCTL_EPENA) ==  USB_OTG_DIEPCTL_EPENA);
 892:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 893:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 894:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else /* OUT endpoint */
 895:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 896:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (((USBx_OUTEP(ep->num)->DOEPCTL) & USB_OTG_DOEPCTL_EPENA) == USB_OTG_DOEPCTL_EPENA)
 897:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 898:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_OUTEP(ep->num)->DOEPCTL |= (USB_OTG_DOEPCTL_SNAK);
 899:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_OUTEP(ep->num)->DOEPCTL |= (USB_OTG_DOEPCTL_EPDIS);
 900:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 901:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       do
 902:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
 903:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         count++;
 904:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 905:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         if (count > 10000U)
 906:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         {
 907:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           ret = HAL_ERROR;
 908:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           break;
 909:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         }
 910:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       } while (((USBx_OUTEP(ep->num)->DOEPCTL) & USB_OTG_DOEPCTL_EPENA) ==  USB_OTG_DOEPCTL_EPENA);
 911:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 912:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 913:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 914:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return ret;
 915:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 916:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 917:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 918:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
 919:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_WritePacket : Writes a packet into the Tx FIFO associated
 920:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *         with the EP/channel
 921:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
 922:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  src   pointer to source buffer
 923:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  ch_ep_num  endpoint or host channel number
 924:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  len  Number of bytes to write
 925:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
 926:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
 927:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_WritePacket(USB_OTG_GlobalTypeDef *USBx, uint8_t *src,
 928:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                   uint8_t ch_ep_num, uint16_t len)
 929:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 930:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 931:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint8_t *pSrc = src;
 932:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t count32b;
 933:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t i;
 934:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 935:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   count32b = ((uint32_t)len + 3U) / 4U;
 936:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   for (i = 0U; i < count32b; i++)
 937:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 938:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_DFIFO((uint32_t)ch_ep_num) = __UNALIGNED_UINT32_READ(pSrc);
 939:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     pSrc++;
 940:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     pSrc++;
 941:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     pSrc++;
 942:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     pSrc++;
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 18


 943:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 944:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 945:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 946:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 947:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 948:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
 949:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_ReadPacket : read a packet from the RX FIFO
 950:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
 951:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  dest  source pointer
 952:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  len  Number of bytes to read
 953:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval pointer to destination buffer
 954:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
 955:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** void *USB_ReadPacket(USB_OTG_GlobalTypeDef *USBx, uint8_t *dest, uint16_t len)
 956:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 957:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 958:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint8_t *pDest = dest;
 959:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t pData;
 960:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t i;
 961:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t count32b = (uint32_t)len >> 2U;
 962:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint16_t remaining_bytes = len % 4U;
 963:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 964:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   for (i = 0U; i < count32b; i++)
 965:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 966:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     __UNALIGNED_UINT32_WRITE(pDest, USBx_DFIFO(0U));
 967:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     pDest++;
 968:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     pDest++;
 969:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     pDest++;
 970:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     pDest++;
 971:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 972:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 973:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* When Number of data is not word aligned, read the remaining byte */
 974:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (remaining_bytes != 0U)
 975:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 976:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     i = 0U;
 977:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     __UNALIGNED_UINT32_WRITE(&pData, USBx_DFIFO(0U));
 978:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 979:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     do
 980:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 981:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       *(uint8_t *)pDest = (uint8_t)(pData >> (8U * (uint8_t)(i)));
 982:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       i++;
 983:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       pDest++;
 984:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       remaining_bytes--;
 985:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     } while (remaining_bytes != 0U);
 986:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 987:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 988:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return ((void *)pDest);
 989:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 990:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 991:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
 992:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_EPSetStall : set a stall condition over an EP
 993:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
 994:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 995:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
 996:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
 997:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_EPSetStall(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
 998:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 999:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 19


1000:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
1001:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1002:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (ep->is_in == 1U)
1003:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1004:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (((USBx_INEP(epnum)->DIEPCTL & USB_OTG_DIEPCTL_EPENA) == 0U) && (epnum != 0U))
1005:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
1006:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL &= ~(USB_OTG_DIEPCTL_EPDIS);
1007:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
1008:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_STALL;
1009:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1010:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else
1011:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1012:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (((USBx_OUTEP(epnum)->DOEPCTL & USB_OTG_DOEPCTL_EPENA) == 0U) && (epnum != 0U))
1013:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
1014:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL &= ~(USB_OTG_DOEPCTL_EPDIS);
1015:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
1016:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPCTL |= USB_OTG_DOEPCTL_STALL;
1017:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1018:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1019:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
1020:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
1021:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1022:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1023:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_EPClearStall : Clear a stall condition over an EP
1024:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1025:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
1026:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
1027:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1028:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_EPClearStall(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
1029:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
1030:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
1031:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
1032:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1033:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (ep->is_in == 1U)
1034:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1035:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_INEP(epnum)->DIEPCTL &= ~USB_OTG_DIEPCTL_STALL;
1036:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if ((ep->type == EP_TYPE_INTR) || (ep->type == EP_TYPE_BULK))
1037:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
1038:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_SD0PID_SEVNFRM; /* DATA0 */
1039:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
1040:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1041:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else
1042:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1043:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPCTL &= ~USB_OTG_DOEPCTL_STALL;
1044:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if ((ep->type == EP_TYPE_INTR) || (ep->type == EP_TYPE_BULK))
1045:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
1046:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL |= USB_OTG_DOEPCTL_SD0PID_SEVNFRM; /* DATA0 */
1047:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
1048:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1049:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
1050:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
1051:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1052:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1053:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_StopDevice : Stop the usb device mode
1054:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1055:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
1056:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 20


1057:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_StopDevice(USB_OTG_GlobalTypeDef *USBx)
1058:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
1059:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   HAL_StatusTypeDef ret;
1060:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
1061:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t i;
1062:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1063:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Clear Pending interrupt */
1064:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   for (i = 0U; i < 15U; i++)
1065:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1066:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_INEP(i)->DIEPINT = 0xFB7FU;
1067:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_OUTEP(i)->DOEPINT = 0xFB7FU;
1068:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1069:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1070:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Clear interrupt masks */
1071:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_DEVICE->DIEPMSK  = 0U;
1072:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_DEVICE->DOEPMSK  = 0U;
1073:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_DEVICE->DAINTMSK = 0U;
1074:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1075:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Flush the FIFO */
1076:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   ret = USB_FlushRxFifo(USBx);
1077:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (ret != HAL_OK)
1078:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1079:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     return ret;
1080:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1081:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1082:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   ret = USB_FlushTxFifo(USBx,  0x10U);
1083:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (ret != HAL_OK)
1084:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1085:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     return ret;
1086:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1087:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1088:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return ret;
1089:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
1090:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1091:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1092:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_SetDevAddress : Stop the usb device mode
1093:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1094:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  address  new device address to be assigned
1095:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *          This parameter can be a value from 0 to 255
1096:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
1097:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1098:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef  USB_SetDevAddress(USB_OTG_GlobalTypeDef *USBx, uint8_t address)
1099:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
1100:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
1101:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1102:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_DEVICE->DCFG &= ~(USB_OTG_DCFG_DAD);
1103:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_DEVICE->DCFG |= ((uint32_t)address << 4) & USB_OTG_DCFG_DAD;
1104:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1105:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
1106:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
1107:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1108:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1109:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_DevConnect : Connect the USB device by enabling Rpu
1110:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1111:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
1112:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1113:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef  USB_DevConnect(USB_OTG_GlobalTypeDef *USBx)
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 21


1114:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
1115:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
1116:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1117:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* In case phy is stopped, ensure to ungate and restore the phy CLK */
1118:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_PCGCCTL &= ~(USB_OTG_PCGCCTL_STOPCLK | USB_OTG_PCGCCTL_GATECLK);
1119:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1120:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_DEVICE->DCTL &= ~USB_OTG_DCTL_SDIS;
1121:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1122:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
1123:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
1124:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1125:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1126:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_DevDisconnect : Disconnect the USB device by disabling Rpu
1127:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1128:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
1129:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1130:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef  USB_DevDisconnect(USB_OTG_GlobalTypeDef *USBx)
1131:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
1132:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
1133:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1134:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* In case phy is stopped, ensure to ungate and restore the phy CLK */
1135:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_PCGCCTL &= ~(USB_OTG_PCGCCTL_STOPCLK | USB_OTG_PCGCCTL_GATECLK);
1136:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1137:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_DEVICE->DCTL |= USB_OTG_DCTL_SDIS;
1138:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1139:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
1140:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
1141:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1142:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1143:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_ReadInterrupts: return the global USB interrupt status
1144:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1145:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
1146:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1147:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** uint32_t  USB_ReadInterrupts(USB_OTG_GlobalTypeDef *USBx)
1148:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
1149:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t tmpreg;
1150:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1151:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   tmpreg = USBx->GINTSTS;
1152:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   tmpreg &= USBx->GINTMSK;
1153:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1154:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return tmpreg;
1155:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
1156:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1157:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1158:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_ReadDevAllOutEpInterrupt: return the USB device OUT endpoints interrupt status
1159:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1160:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
1161:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1162:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** uint32_t USB_ReadDevAllOutEpInterrupt(USB_OTG_GlobalTypeDef *USBx)
1163:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
1164:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
1165:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t tmpreg;
1166:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1167:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   tmpreg  = USBx_DEVICE->DAINT;
1168:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   tmpreg &= USBx_DEVICE->DAINTMSK;
1169:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1170:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return ((tmpreg & 0xffff0000U) >> 16);
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 22


1171:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
1172:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1173:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1174:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_ReadDevAllInEpInterrupt: return the USB device IN endpoints interrupt status
1175:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1176:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
1177:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1178:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** uint32_t USB_ReadDevAllInEpInterrupt(USB_OTG_GlobalTypeDef *USBx)
1179:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
1180:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
1181:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t tmpreg;
1182:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1183:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   tmpreg  = USBx_DEVICE->DAINT;
1184:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   tmpreg &= USBx_DEVICE->DAINTMSK;
1185:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1186:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return ((tmpreg & 0xFFFFU));
1187:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
1188:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1189:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1190:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  Returns Device OUT EP Interrupt register
1191:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1192:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  epnum  endpoint number
1193:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *          This parameter can be a value from 0 to 15
1194:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval Device OUT EP Interrupt register
1195:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1196:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** uint32_t USB_ReadDevOutEPInterrupt(USB_OTG_GlobalTypeDef *USBx, uint8_t epnum)
1197:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
1198:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
1199:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t tmpreg;
1200:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1201:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   tmpreg  = USBx_OUTEP((uint32_t)epnum)->DOEPINT;
1202:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   tmpreg &= USBx_DEVICE->DOEPMSK;
1203:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1204:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return tmpreg;
1205:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
1206:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1207:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1208:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  Returns Device IN EP Interrupt register
1209:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1210:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  epnum  endpoint number
1211:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *          This parameter can be a value from 0 to 15
1212:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval Device IN EP Interrupt register
1213:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1214:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** uint32_t USB_ReadDevInEPInterrupt(USB_OTG_GlobalTypeDef *USBx, uint8_t epnum)
1215:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
1216:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
1217:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t tmpreg;
1218:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t msk;
1219:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t emp;
1220:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1221:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   msk = USBx_DEVICE->DIEPMSK;
1222:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   emp = USBx_DEVICE->DIEPEMPMSK;
1223:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   msk |= ((emp >> (epnum & EP_ADDR_MSK)) & 0x1U) << 7;
1224:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   tmpreg = USBx_INEP((uint32_t)epnum)->DIEPINT & msk;
1225:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1226:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return tmpreg;
1227:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 23


1228:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1229:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1230:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_ClearInterrupts: clear a USB interrupt
1231:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1232:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  interrupt  flag
1233:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval None
1234:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1235:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** void  USB_ClearInterrupts(USB_OTG_GlobalTypeDef *USBx, uint32_t interrupt)
1236:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
1237:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GINTSTS |= interrupt;
1238:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
1239:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1240:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1241:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  Returns USB core mode
1242:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1243:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval return core mode : Host or Device
1244:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *          This parameter can be one of these values:
1245:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *           0 : Host
1246:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *           1 : Device
1247:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1248:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** uint32_t USB_GetMode(USB_OTG_GlobalTypeDef *USBx)
1249:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
1250:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return ((USBx->GINTSTS) & 0x1U);
1251:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
1252:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1253:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1254:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  Activate EP0 for Setup transactions
1255:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1256:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
1257:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1258:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef  USB_ActivateSetup(USB_OTG_GlobalTypeDef *USBx)
1259:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
1260:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
1261:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1262:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Set the MPS of the IN EP0 to 64 bytes */
1263:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_INEP(0U)->DIEPCTL &= ~USB_OTG_DIEPCTL_MPSIZ;
1264:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1265:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_DEVICE->DCTL |= USB_OTG_DCTL_CGINAK;
1266:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1267:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
1268:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
1269:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1270:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1271:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  Prepare the EP0 to start the first control setup
1272:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1273:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  psetup  pointer to setup packet
1274:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
1275:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1276:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_EP0_OutStart(USB_OTG_GlobalTypeDef *USBx, uint8_t *psetup)
1277:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
1278:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
1279:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t gSNPSiD = *(__IO uint32_t *)(&USBx->CID + 0x1U);
1280:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   UNUSED(psetup);
1281:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1282:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (gSNPSiD > USB_OTG_CORE_ID_300A)
1283:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1284:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if ((USBx_OUTEP(0U)->DOEPCTL & USB_OTG_DOEPCTL_EPENA) == USB_OTG_DOEPCTL_EPENA)
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 24


1285:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
1286:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       return HAL_OK;
1287:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
1288:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1289:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1290:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_OUTEP(0U)->DOEPTSIZ = 0U;
1291:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_OUTEP(0U)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_PKTCNT & (1U << 19));
1292:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_OUTEP(0U)->DOEPTSIZ |= (3U * 8U);
1293:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_OUTEP(0U)->DOEPTSIZ |=  USB_OTG_DOEPTSIZ_STUPCNT;
1294:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1295:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
1296:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
1297:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1298:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1299:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  Reset the USB Core (needed after USB clock settings change)
1300:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1301:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
1302:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1303:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** static HAL_StatusTypeDef USB_CoreReset(USB_OTG_GlobalTypeDef *USBx)
1304:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
1305:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   __IO uint32_t count = 0U;
1306:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1307:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Wait for AHB master IDLE state. */
1308:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   do
1309:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1310:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     count++;
1311:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1312:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (count > 200000U)
1313:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
1314:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       return HAL_TIMEOUT;
1315:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
1316:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   } while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_AHBIDL) == 0U);
1317:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1318:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Core Soft Reset */
1319:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   count = 0U;
1320:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GRSTCTL |= USB_OTG_GRSTCTL_CSRST;
1321:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1322:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   do
1323:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1324:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     count++;
1325:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1326:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (count > 200000U)
1327:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
1328:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       return HAL_TIMEOUT;
1329:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
1330:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   } while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_CSRST) == USB_OTG_GRSTCTL_CSRST);
1331:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1332:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
1333:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
1334:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1335:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1336:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_HostInit : Initializes the USB OTG controller registers
1337:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *         for Host mode
1338:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1339:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  cfg   pointer to a USB_OTG_CfgTypeDef structure that contains
1340:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *         the configuration information for the specified USBx peripheral.
1341:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 25


1342:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1343:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_HostInit(USB_OTG_GlobalTypeDef *USBx, USB_OTG_CfgTypeDef cfg)
1344:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
1345:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   HAL_StatusTypeDef ret = HAL_OK;
1346:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
1347:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t i;
1348:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1349:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Restart the Phy Clock */
1350:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_PCGCCTL = 0U;
1351:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1352:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Disable VBUS sensing */
1353:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GCCFG &= ~(USB_OTG_GCCFG_VBDEN);
1354:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1355:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Disable Battery chargin detector */
1356:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GCCFG &= ~(USB_OTG_GCCFG_BCDEN);
1357:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1358:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Set default Max speed support */
1359:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_HOST->HCFG &= ~(USB_OTG_HCFG_FSLSS);
1360:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1361:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Make sure the FIFOs are flushed. */
1362:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (USB_FlushTxFifo(USBx, 0x10U) != HAL_OK) /* all Tx FIFOs */
1363:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1364:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     ret = HAL_ERROR;
1365:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1366:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1367:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (USB_FlushRxFifo(USBx) != HAL_OK)
1368:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1369:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     ret = HAL_ERROR;
1370:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1371:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1372:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Clear all pending HC Interrupts */
1373:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   for (i = 0U; i < cfg.Host_channels; i++)
1374:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1375:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_HC(i)->HCINT = 0xFFFFFFFFU;
1376:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_HC(i)->HCINTMSK = 0U;
1377:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1378:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1379:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Disable all interrupts. */
1380:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GINTMSK = 0U;
1381:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1382:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Clear any pending interrupts */
1383:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GINTSTS = 0xFFFFFFFFU;
1384:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1385:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* set Rx FIFO size */
1386:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GRXFSIZ  = 0x80U;
1387:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->DIEPTXF0_HNPTXFSIZ = (uint32_t)(((0x60U << 16) & USB_OTG_NPTXFD) | 0x80U);
1388:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->HPTXFSIZ = (uint32_t)(((0x40U << 16)& USB_OTG_HPTXFSIZ_PTXFD) | 0xE0U);
1389:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Enable the common interrupts */
1390:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GINTMSK |= USB_OTG_GINTMSK_RXFLVLM;
1391:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1392:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Enable interrupts matching to the Host mode ONLY */
1393:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GINTMSK |= (USB_OTG_GINTMSK_PRTIM            | USB_OTG_GINTMSK_HCIM | \
1394:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                     USB_OTG_GINTMSK_SOFM             | USB_OTG_GINTSTS_DISCINT | \
1395:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                     USB_OTG_GINTMSK_PXFRM_IISOOXFRM  | USB_OTG_GINTMSK_WUIM);
1396:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1397:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return ret;
1398:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 26


1399:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1400:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1401:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_InitFSLSPClkSel : Initializes the FSLSPClkSel field of the
1402:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *         HCFG register on the PHY type and set the right frame interval
1403:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1404:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  freq  clock frequency
1405:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *          This parameter can be one of these values:
1406:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *           HCFG_48_MHZ : Full Speed 48 MHz Clock
1407:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *           HCFG_6_MHZ : Low Speed 6 MHz Clock
1408:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
1409:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1410:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_InitFSLSPClkSel(USB_OTG_GlobalTypeDef *USBx, uint8_t freq)
1411:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
1412:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
1413:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1414:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_HOST->HCFG &= ~(USB_OTG_HCFG_FSLSPCS);
1415:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_HOST->HCFG |= (uint32_t)freq & USB_OTG_HCFG_FSLSPCS;
1416:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1417:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (freq == HCFG_48_MHZ)
1418:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1419:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_HOST->HFIR = 48000U;
1420:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1421:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else if (freq == HCFG_6_MHZ)
1422:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1423:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_HOST->HFIR = 6000U;
1424:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1425:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else
1426:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1427:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     /* ... */
1428:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1429:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1430:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
1431:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
1432:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1433:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1434:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_OTG_ResetPort : Reset Host Port
1435:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1436:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
1437:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @note (1)The application must wait at least 10 ms
1438:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *   before clearing the reset bit.
1439:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1440:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_ResetPort(USB_OTG_GlobalTypeDef *USBx)
1441:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
1442:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
1443:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1444:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   __IO uint32_t hprt0 = 0U;
1445:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1446:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   hprt0 = USBx_HPRT0;
1447:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1448:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   hprt0 &= ~(USB_OTG_HPRT_PENA | USB_OTG_HPRT_PCDET |
1449:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****              USB_OTG_HPRT_PENCHNG | USB_OTG_HPRT_POCCHNG);
1450:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1451:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_HPRT0 = (USB_OTG_HPRT_PRST | hprt0);
1452:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   HAL_Delay(100U);                                 /* See Note #1 */
1453:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_HPRT0 = ((~USB_OTG_HPRT_PRST) & hprt0);
1454:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   HAL_Delay(10U);
1455:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 27


1456:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
1457:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
1458:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1459:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1460:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_DriveVbus : activate or de-activate vbus
1461:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  state  VBUS state
1462:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *          This parameter can be one of these values:
1463:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *           0 : Deactivate VBUS
1464:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *           1 : Activate VBUS
1465:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
1466:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1467:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_DriveVbus(USB_OTG_GlobalTypeDef *USBx, uint8_t state)
1468:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
1469:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
1470:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   __IO uint32_t hprt0 = 0U;
1471:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1472:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   hprt0 = USBx_HPRT0;
1473:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1474:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   hprt0 &= ~(USB_OTG_HPRT_PENA | USB_OTG_HPRT_PCDET |
1475:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****              USB_OTG_HPRT_PENCHNG | USB_OTG_HPRT_POCCHNG);
1476:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1477:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (((hprt0 & USB_OTG_HPRT_PPWR) == 0U) && (state == 1U))
1478:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1479:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_HPRT0 = (USB_OTG_HPRT_PPWR | hprt0);
1480:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1481:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (((hprt0 & USB_OTG_HPRT_PPWR) == USB_OTG_HPRT_PPWR) && (state == 0U))
1482:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1483:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_HPRT0 = ((~USB_OTG_HPRT_PPWR) & hprt0);
1484:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1485:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
1486:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
1487:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1488:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1489:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  Return Host Core speed
1490:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1491:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval speed : Host speed
1492:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *          This parameter can be one of these values:
1493:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *            @arg HCD_SPEED_FULL: Full speed mode
1494:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *            @arg HCD_SPEED_LOW: Low speed mode
1495:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1496:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** uint32_t USB_GetHostSpeed(USB_OTG_GlobalTypeDef *USBx)
1497:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
1498:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
1499:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   __IO uint32_t hprt0 = 0U;
1500:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1501:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   hprt0 = USBx_HPRT0;
1502:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return ((hprt0 & USB_OTG_HPRT_PSPD) >> 17);
1503:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
1504:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1505:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1506:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  Return Host Current Frame number
1507:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1508:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval current frame number
1509:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1510:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** uint32_t USB_GetCurrentFrame(USB_OTG_GlobalTypeDef *USBx)
1511:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
1512:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 28


1513:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1514:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return (USBx_HOST->HFNUM & USB_OTG_HFNUM_FRNUM);
1515:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
1516:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1517:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1518:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  Initialize a host channel
1519:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1520:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  ch_num  Channel number
1521:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *         This parameter can be a value from 1 to 15
1522:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  epnum  Endpoint number
1523:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *          This parameter can be a value from 1 to 15
1524:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  dev_address  Current device address
1525:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *          This parameter can be a value from 0 to 255
1526:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  speed  Current device speed
1527:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *          This parameter can be one of these values:
1528:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_FULL: Full speed mode
1529:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_LOW: Low speed mode
1530:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  ep_type  Endpoint Type
1531:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *          This parameter can be one of these values:
1532:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *            @arg EP_TYPE_CTRL: Control type
1533:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *            @arg EP_TYPE_ISOC: Isochronous type
1534:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *            @arg EP_TYPE_BULK: Bulk type
1535:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *            @arg EP_TYPE_INTR: Interrupt type
1536:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  mps  Max Packet Size
1537:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *          This parameter can be a value from 0 to 32K
1538:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL state
1539:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1540:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_HC_Init(USB_OTG_GlobalTypeDef *USBx, uint8_t ch_num,
1541:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                               uint8_t epnum, uint8_t dev_address, uint8_t speed,
1542:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                               uint8_t ep_type, uint16_t mps)
1543:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
1544:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   HAL_StatusTypeDef ret = HAL_OK;
1545:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
1546:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t HCcharEpDir;
1547:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t HCcharLowSpeed;
1548:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t HostCoreSpeed;
1549:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1550:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Clear old interrupt conditions for this host channel. */
1551:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_HC((uint32_t)ch_num)->HCINT = 0xFFFFFFFFU;
1552:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1553:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Enable channel interrupts required for this transfer. */
1554:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   switch (ep_type)
1555:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1556:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     case EP_TYPE_CTRL:
1557:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     case EP_TYPE_BULK:
1558:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_HC((uint32_t)ch_num)->HCINTMSK = USB_OTG_HCINTMSK_XFRCM  |
1559:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_STALLM |
1560:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_TXERRM |
1561:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_DTERRM |
1562:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_AHBERR |
1563:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_NAKM;
1564:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1565:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       if ((epnum & 0x80U) == 0x80U)
1566:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
1567:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         USBx_HC((uint32_t)ch_num)->HCINTMSK |= USB_OTG_HCINTMSK_BBERRM;
1568:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
1569:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       break;
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 29


1570:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1571:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     case EP_TYPE_INTR:
1572:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_HC((uint32_t)ch_num)->HCINTMSK = USB_OTG_HCINTMSK_XFRCM  |
1573:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_STALLM |
1574:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_TXERRM |
1575:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_DTERRM |
1576:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_NAKM   |
1577:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_AHBERR |
1578:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_FRMORM;
1579:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1580:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       if ((epnum & 0x80U) == 0x80U)
1581:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
1582:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         USBx_HC((uint32_t)ch_num)->HCINTMSK |= USB_OTG_HCINTMSK_BBERRM;
1583:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
1584:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1585:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       break;
1586:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1587:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     case EP_TYPE_ISOC:
1588:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_HC((uint32_t)ch_num)->HCINTMSK = USB_OTG_HCINTMSK_XFRCM  |
1589:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_ACKM   |
1590:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_AHBERR |
1591:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_FRMORM;
1592:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1593:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       if ((epnum & 0x80U) == 0x80U)
1594:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
1595:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         USBx_HC((uint32_t)ch_num)->HCINTMSK |= (USB_OTG_HCINTMSK_TXERRM | USB_OTG_HCINTMSK_BBERRM);
1596:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
1597:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       break;
1598:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1599:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     default:
1600:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       ret = HAL_ERROR;
1601:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       break;
1602:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1603:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1604:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Enable host channel Halt interrupt */
1605:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_HC((uint32_t)ch_num)->HCINTMSK |= USB_OTG_HCINTMSK_CHHM;
1606:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1607:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Enable the top level host channel interrupt. */
1608:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_HOST->HAINTMSK |= 1UL << (ch_num & 0xFU);
1609:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1610:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Make sure host channel interrupts are enabled. */
1611:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GINTMSK |= USB_OTG_GINTMSK_HCIM;
1612:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1613:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Program the HCCHAR register */
1614:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if ((epnum & 0x80U) == 0x80U)
1615:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1616:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     HCcharEpDir = (0x1U << 15) & USB_OTG_HCCHAR_EPDIR;
1617:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1618:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else
1619:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1620:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     HCcharEpDir = 0U;
1621:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1622:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1623:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   HostCoreSpeed = USB_GetHostSpeed(USBx);
1624:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1625:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* LS device plugged to HUB */
1626:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if ((speed == HPRT0_PRTSPD_LOW_SPEED) && (HostCoreSpeed != HPRT0_PRTSPD_LOW_SPEED))
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 30


1627:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1628:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     HCcharLowSpeed = (0x1U << 17) & USB_OTG_HCCHAR_LSDEV;
1629:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1630:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else
1631:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1632:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     HCcharLowSpeed = 0U;
1633:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1634:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1635:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_HC((uint32_t)ch_num)->HCCHAR = (((uint32_t)dev_address << 22) & USB_OTG_HCCHAR_DAD) |
1636:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                       ((((uint32_t)epnum & 0x7FU) << 11) & USB_OTG_HCCHAR_EPNUM) |
1637:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                       (((uint32_t)ep_type << 18) & USB_OTG_HCCHAR_EPTYP) |
1638:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                       ((uint32_t)mps & USB_OTG_HCCHAR_MPSIZ) | HCcharEpDir | HCchar
1639:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1640:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if ((ep_type == EP_TYPE_INTR) || (ep_type == EP_TYPE_ISOC))
1641:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1642:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_HC((uint32_t)ch_num)->HCCHAR |= USB_OTG_HCCHAR_ODDFRM;
1643:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1644:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1645:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return ret;
1646:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
1647:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1648:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1649:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  Start a transfer over a host channel
1650:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1651:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  hc  pointer to host channel structure
1652:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL state
1653:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1654:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_HC_StartXfer(USB_OTG_GlobalTypeDef *USBx, USB_OTG_HCTypeDef *hc)
1655:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
1656:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
1657:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t ch_num = (uint32_t)hc->ch_num;
1658:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   __IO uint32_t tmpreg;
1659:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint8_t  is_oddframe;
1660:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint16_t len_words;
1661:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint16_t num_packets;
1662:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint16_t max_hc_pkt_count = 256U;
1663:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1664:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Compute the expected number of packets associated to the transfer */
1665:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (hc->xfer_len > 0U)
1666:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1667:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     num_packets = (uint16_t)((hc->xfer_len + hc->max_packet - 1U) / hc->max_packet);
1668:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1669:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (num_packets > max_hc_pkt_count)
1670:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
1671:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       num_packets = max_hc_pkt_count;
1672:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       hc->XferSize = (uint32_t)num_packets * hc->max_packet;
1673:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
1674:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1675:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else
1676:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1677:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     num_packets = 1U;
1678:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1679:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1680:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /*
1681:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****    * For IN channel HCTSIZ.XferSize is expected to be an integer multiple of
1682:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****    * max_packet size.
1683:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****    */
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 31


1684:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (hc->ep_is_in != 0U)
1685:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1686:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     hc->XferSize = (uint32_t)num_packets * hc->max_packet;
1687:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1688:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else
1689:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1690:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     hc->XferSize = hc->xfer_len;
1691:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1692:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1693:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Initialize the HCTSIZn register */
1694:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_HC(ch_num)->HCTSIZ = (hc->XferSize & USB_OTG_HCTSIZ_XFRSIZ) |
1695:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                             (((uint32_t)num_packets << 19) & USB_OTG_HCTSIZ_PKTCNT) |
1696:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                             (((uint32_t)hc->data_pid << 29) & USB_OTG_HCTSIZ_DPID);
1697:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1698:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   is_oddframe = (((uint32_t)USBx_HOST->HFNUM & 0x01U) != 0U) ? 0U : 1U;
1699:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_HC(ch_num)->HCCHAR &= ~USB_OTG_HCCHAR_ODDFRM;
1700:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_HC(ch_num)->HCCHAR |= (uint32_t)is_oddframe << 29;
1701:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1702:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Set host channel enable */
1703:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   tmpreg = USBx_HC(ch_num)->HCCHAR;
1704:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   tmpreg &= ~USB_OTG_HCCHAR_CHDIS;
1705:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1706:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* make sure to set the correct ep direction */
1707:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (hc->ep_is_in != 0U)
1708:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1709:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     tmpreg |= USB_OTG_HCCHAR_EPDIR;
1710:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1711:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else
1712:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1713:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     tmpreg &= ~USB_OTG_HCCHAR_EPDIR;
1714:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1715:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   tmpreg |= USB_OTG_HCCHAR_CHENA;
1716:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_HC(ch_num)->HCCHAR = tmpreg;
1717:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1718:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if ((hc->ep_is_in == 0U) && (hc->xfer_len > 0U))
1719:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1720:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     switch (hc->ep_type)
1721:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
1722:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       /* Non periodic transfer */
1723:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       case EP_TYPE_CTRL:
1724:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       case EP_TYPE_BULK:
1725:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1726:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         len_words = (uint16_t)((hc->xfer_len + 3U) / 4U);
1727:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1728:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         /* check if there is enough space in FIFO space */
1729:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         if (len_words > (USBx->HNPTXSTS & 0xFFFFU))
1730:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         {
1731:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           /* need to process data in nptxfempty interrupt */
1732:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           USBx->GINTMSK |= USB_OTG_GINTMSK_NPTXFEM;
1733:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         }
1734:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         break;
1735:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1736:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       /* Periodic transfer */
1737:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       case EP_TYPE_INTR:
1738:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       case EP_TYPE_ISOC:
1739:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         len_words = (uint16_t)((hc->xfer_len + 3U) / 4U);
1740:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         /* check if there is enough space in FIFO space */
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 32


1741:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         if (len_words > (USBx_HOST->HPTXSTS & 0xFFFFU)) /* split the transfer */
1742:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         {
1743:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           /* need to process data in ptxfempty interrupt */
1744:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           USBx->GINTMSK |= USB_OTG_GINTMSK_PTXFEM;
1745:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         }
1746:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         break;
1747:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1748:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       default:
1749:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         break;
1750:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
1751:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1752:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     /* Write packet into the Tx FIFO. */
1753:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     (void)USB_WritePacket(USBx, hc->xfer_buff, hc->ch_num, (uint16_t)hc->xfer_len);
1754:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1755:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1756:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
1757:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
1758:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1759:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1760:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief Read all host channel interrupts status
1761:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1762:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL state
1763:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1764:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** uint32_t USB_HC_ReadInterrupt(USB_OTG_GlobalTypeDef *USBx)
1765:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
1766:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
1767:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1768:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return ((USBx_HOST->HAINT) & 0xFFFFU);
1769:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
1770:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1771:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1772:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  Halt a host channel
1773:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1774:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  hc_num  Host Channel number
1775:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *         This parameter can be a value from 1 to 15
1776:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL state
1777:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1778:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_HC_Halt(USB_OTG_GlobalTypeDef *USBx, uint8_t hc_num)
1779:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
1780:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
1781:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t hcnum = (uint32_t)hc_num;
1782:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   __IO uint32_t count = 0U;
1783:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t HcEpType = (USBx_HC(hcnum)->HCCHAR & USB_OTG_HCCHAR_EPTYP) >> 18;
1784:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t ChannelEna = (USBx_HC(hcnum)->HCCHAR & USB_OTG_HCCHAR_CHENA) >> 31;
1785:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1786:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (((USBx->GAHBCFG & USB_OTG_GAHBCFG_DMAEN) == USB_OTG_GAHBCFG_DMAEN) &&
1787:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       (ChannelEna == 0U))
1788:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1789:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     return HAL_OK;
1790:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1791:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1792:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Check for space in the request queue to issue the halt. */
1793:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if ((HcEpType == HCCHAR_CTRL) || (HcEpType == HCCHAR_BULK))
1794:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1795:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_HC(hcnum)->HCCHAR |= USB_OTG_HCCHAR_CHDIS;
1796:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1797:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if ((USBx->GAHBCFG & USB_OTG_GAHBCFG_DMAEN) == 0U)
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 33


1798:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
1799:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       if ((USBx->HNPTXSTS & (0xFFU << 16)) == 0U)
1800:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
1801:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         USBx_HC(hcnum)->HCCHAR &= ~USB_OTG_HCCHAR_CHENA;
1802:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         USBx_HC(hcnum)->HCCHAR |= USB_OTG_HCCHAR_CHENA;
1803:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         do
1804:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         {
1805:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           count++;
1806:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1807:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           if (count > 1000U)
1808:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           {
1809:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****             break;
1810:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           }
1811:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         } while ((USBx_HC(hcnum)->HCCHAR & USB_OTG_HCCHAR_CHENA) == USB_OTG_HCCHAR_CHENA);
1812:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
1813:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       else
1814:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
1815:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         USBx_HC(hcnum)->HCCHAR |= USB_OTG_HCCHAR_CHENA;
1816:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
1817:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
1818:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1819:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else
1820:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1821:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_HC(hcnum)->HCCHAR |= USB_OTG_HCCHAR_CHDIS;
1822:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1823:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if ((USBx_HOST->HPTXSTS & (0xFFU << 16)) == 0U)
1824:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
1825:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_HC(hcnum)->HCCHAR &= ~USB_OTG_HCCHAR_CHENA;
1826:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_HC(hcnum)->HCCHAR |= USB_OTG_HCCHAR_CHENA;
1827:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       do
1828:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
1829:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         count++;
1830:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1831:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         if (count > 1000U)
1832:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         {
1833:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           break;
1834:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         }
1835:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       } while ((USBx_HC(hcnum)->HCCHAR & USB_OTG_HCCHAR_CHENA) == USB_OTG_HCCHAR_CHENA);
1836:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
1837:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     else
1838:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
1839:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_HC(hcnum)->HCCHAR |= USB_OTG_HCCHAR_CHENA;
1840:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
1841:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1842:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1843:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
1844:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
1845:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1846:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1847:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  Initiate Do Ping protocol
1848:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1849:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  hc_num  Host Channel number
1850:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *         This parameter can be a value from 1 to 15
1851:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL state
1852:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1853:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_DoPing(USB_OTG_GlobalTypeDef *USBx, uint8_t ch_num)
1854:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 34


1855:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
1856:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t chnum = (uint32_t)ch_num;
1857:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t num_packets = 1U;
1858:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t tmpreg;
1859:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1860:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_HC(chnum)->HCTSIZ = ((num_packets << 19) & USB_OTG_HCTSIZ_PKTCNT) |
1861:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                            USB_OTG_HCTSIZ_DOPING;
1862:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1863:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Set host channel enable */
1864:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   tmpreg = USBx_HC(chnum)->HCCHAR;
1865:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   tmpreg &= ~USB_OTG_HCCHAR_CHDIS;
1866:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   tmpreg |= USB_OTG_HCCHAR_CHENA;
1867:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_HC(chnum)->HCCHAR = tmpreg;
1868:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1869:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
1870:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
1871:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1872:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1873:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  Stop Host Core
1874:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1875:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL state
1876:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1877:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_StopHost(USB_OTG_GlobalTypeDef *USBx)
1878:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
1879:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   HAL_StatusTypeDef ret = HAL_OK;
1880:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
1881:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   __IO uint32_t count = 0U;
1882:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t value;
1883:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t i;
1884:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1885:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   (void)USB_DisableGlobalInt(USBx);
1886:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1887:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Flush USB FIFO */
1888:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (USB_FlushTxFifo(USBx, 0x10U) != HAL_OK) /* all Tx FIFOs */
1889:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1890:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     ret = HAL_ERROR;
1891:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1892:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1893:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (USB_FlushRxFifo(USBx) != HAL_OK)
1894:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1895:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     ret = HAL_ERROR;
1896:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1897:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1898:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Flush out any leftover queued requests. */
1899:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   for (i = 0U; i <= 15U; i++)
1900:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1901:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     value = USBx_HC(i)->HCCHAR;
1902:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     value |=  USB_OTG_HCCHAR_CHDIS;
1903:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     value &= ~USB_OTG_HCCHAR_CHENA;
1904:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     value &= ~USB_OTG_HCCHAR_EPDIR;
1905:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_HC(i)->HCCHAR = value;
1906:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1907:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1908:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Halt all channels to put them into a known state. */
1909:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   for (i = 0U; i <= 15U; i++)
1910:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1911:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     value = USBx_HC(i)->HCCHAR;
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 35


1912:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     value |= USB_OTG_HCCHAR_CHDIS;
1913:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     value |= USB_OTG_HCCHAR_CHENA;
1914:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     value &= ~USB_OTG_HCCHAR_EPDIR;
1915:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_HC(i)->HCCHAR = value;
1916:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1917:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     do
1918:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
1919:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       count++;
1920:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1921:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       if (count > 1000U)
1922:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
1923:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         break;
1924:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
1925:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     } while ((USBx_HC(i)->HCCHAR & USB_OTG_HCCHAR_CHENA) == USB_OTG_HCCHAR_CHENA);
1926:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1927:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1928:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Clear any pending Host interrupts */
1929:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_HOST->HAINT = 0xFFFFFFFFU;
1930:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GINTSTS = 0xFFFFFFFFU;
1931:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1932:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   (void)USB_EnableGlobalInt(USBx);
1933:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1934:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return ret;
1935:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
1936:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1937:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1938:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_ActivateRemoteWakeup active remote wakeup signalling
1939:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx Selected device
1940:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
1941:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1942:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_ActivateRemoteWakeup(USB_OTG_GlobalTypeDef *USBx)
1943:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
1944:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
1945:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1946:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if ((USBx_DEVICE->DSTS & USB_OTG_DSTS_SUSPSTS) == USB_OTG_DSTS_SUSPSTS)
1947:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1948:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     /* active Remote wakeup signalling */
1949:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_DEVICE->DCTL |= USB_OTG_DCTL_RWUSIG;
1950:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1951:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1952:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
1953:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
1954:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1955:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1956:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_DeActivateRemoteWakeup de-active remote wakeup signalling
1957:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx Selected device
1958:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
1959:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1960:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_DeActivateRemoteWakeup(USB_OTG_GlobalTypeDef *USBx)
1961:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
1962:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
1963:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1964:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* active Remote wakeup signalling */
1965:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_DEVICE->DCTL &= ~(USB_OTG_DCTL_RWUSIG);
1966:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1967:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
1968:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 36


1969:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** #endif /* defined (USB_OTG_FS) */
1970:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1971:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** #if defined (USB)
1972:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1973:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  Initializes the USB Core
1974:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx USB Instance
1975:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  cfg pointer to a USB_CfgTypeDef structure that contains
1976:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *         the configuration information for the specified USBx peripheral.
1977:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
1978:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1979:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_CoreInit(USB_TypeDef *USBx, USB_CfgTypeDef cfg)
1980:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
  29              		.loc 1 1980 1
  30              		.cfi_startproc
  31              		@ args = 40, pretend = 16, frame = 8
  32              		@ frame_needed = 1, uses_anonymous_args = 0
  33              		@ link register save eliminated.
  34 0000 84B0     		sub	sp, sp, #16
  35              	.LCFI0:
  36              		.cfi_def_cfa_offset 16
  37 0002 80B4     		push	{r7}
  38              	.LCFI1:
  39              		.cfi_def_cfa_offset 20
  40              		.cfi_offset 7, -20
  41 0004 83B0     		sub	sp, sp, #12
  42              	.LCFI2:
  43              		.cfi_def_cfa_offset 32
  44 0006 00AF     		add	r7, sp, #0
  45              	.LCFI3:
  46              		.cfi_def_cfa_register 7
  47 0008 7860     		str	r0, [r7, #4]
  48 000a 07F11400 		add	r0, r7, #20
  49 000e 80E80E00 		stm	r0, {r1, r2, r3}
1981:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
1982:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   UNUSED(USBx);
1983:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   UNUSED(cfg);
1984:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1985:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* NOTE : - This function is not required by USB Device FS peripheral, it is used
1986:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****               only by USB OTG FS peripheral.
1987:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****             - This function is added to ensure compatibility across platforms.
1988:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****    */
1989:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1990:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
  50              		.loc 1 1990 10
  51 0012 0023     		movs	r3, #0
1991:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
  52              		.loc 1 1991 1
  53 0014 1846     		mov	r0, r3
  54 0016 0C37     		adds	r7, r7, #12
  55              	.LCFI4:
  56              		.cfi_def_cfa_offset 20
  57 0018 BD46     		mov	sp, r7
  58              	.LCFI5:
  59              		.cfi_def_cfa_register 13
  60              		@ sp needed
  61 001a 5DF8047B 		ldr	r7, [sp], #4
  62              	.LCFI6:
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 37


  63              		.cfi_restore 7
  64              		.cfi_def_cfa_offset 16
  65 001e 04B0     		add	sp, sp, #16
  66              	.LCFI7:
  67              		.cfi_def_cfa_offset 0
  68 0020 7047     		bx	lr
  69              		.cfi_endproc
  70              	.LFE292:
  72              		.section	.text.USB_EnableGlobalInt,"ax",%progbits
  73              		.align	1
  74              		.global	USB_EnableGlobalInt
  75              		.syntax unified
  76              		.thumb
  77              		.thumb_func
  78              		.fpu fpv4-sp-d16
  80              	USB_EnableGlobalInt:
  81              	.LFB293:
1992:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1993:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1994:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_EnableGlobalInt
1995:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *         Enables the controller's Global Int in the AHB Config reg
1996:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx Selected device
1997:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
1998:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1999:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_EnableGlobalInt(USB_TypeDef *USBx)
2000:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
  82              		.loc 1 2000 1
  83              		.cfi_startproc
  84              		@ args = 0, pretend = 0, frame = 16
  85              		@ frame_needed = 1, uses_anonymous_args = 0
  86              		@ link register save eliminated.
  87 0000 80B4     		push	{r7}
  88              	.LCFI8:
  89              		.cfi_def_cfa_offset 4
  90              		.cfi_offset 7, -4
  91 0002 85B0     		sub	sp, sp, #20
  92              	.LCFI9:
  93              		.cfi_def_cfa_offset 24
  94 0004 00AF     		add	r7, sp, #0
  95              	.LCFI10:
  96              		.cfi_def_cfa_register 7
  97 0006 7860     		str	r0, [r7, #4]
2001:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t winterruptmask;
2002:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2003:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Clear pending interrupts */
2004:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->ISTR = 0U;
  98              		.loc 1 2004 14
  99 0008 7B68     		ldr	r3, [r7, #4]
 100 000a 0022     		movs	r2, #0
 101 000c A3F84420 		strh	r2, [r3, #68]	@ movhi
2005:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2006:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Set winterruptmask variable */
2007:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   winterruptmask = USB_CNTR_CTRM  | USB_CNTR_WKUPM |
 102              		.loc 1 2007 18
 103 0010 4BF68073 		movw	r3, #49024
 104 0014 FB60     		str	r3, [r7, #12]
2008:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                    USB_CNTR_SUSPM | USB_CNTR_ERRM |
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 38


2009:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                    USB_CNTR_SOFM | USB_CNTR_ESOFM |
2010:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                    USB_CNTR_RESETM | USB_CNTR_L1REQM;
2011:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2012:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Set interrupt mask */
2013:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->CNTR = (uint16_t)winterruptmask;
 105              		.loc 1 2013 16
 106 0016 FB68     		ldr	r3, [r7, #12]
 107 0018 9AB2     		uxth	r2, r3
 108              		.loc 1 2013 14
 109 001a 7B68     		ldr	r3, [r7, #4]
 110 001c A3F84020 		strh	r2, [r3, #64]	@ movhi
2014:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2015:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 111              		.loc 1 2015 10
 112 0020 0023     		movs	r3, #0
2016:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 113              		.loc 1 2016 1
 114 0022 1846     		mov	r0, r3
 115 0024 1437     		adds	r7, r7, #20
 116              	.LCFI11:
 117              		.cfi_def_cfa_offset 4
 118 0026 BD46     		mov	sp, r7
 119              	.LCFI12:
 120              		.cfi_def_cfa_register 13
 121              		@ sp needed
 122 0028 5DF8047B 		ldr	r7, [sp], #4
 123              	.LCFI13:
 124              		.cfi_restore 7
 125              		.cfi_def_cfa_offset 0
 126 002c 7047     		bx	lr
 127              		.cfi_endproc
 128              	.LFE293:
 130              		.section	.text.USB_DisableGlobalInt,"ax",%progbits
 131              		.align	1
 132              		.global	USB_DisableGlobalInt
 133              		.syntax unified
 134              		.thumb
 135              		.thumb_func
 136              		.fpu fpv4-sp-d16
 138              	USB_DisableGlobalInt:
 139              	.LFB294:
2017:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2018:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
2019:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_DisableGlobalInt
2020:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *         Disable the controller's Global Int in the AHB Config reg
2021:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx Selected device
2022:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
2023:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
2024:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_DisableGlobalInt(USB_TypeDef *USBx)
2025:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 140              		.loc 1 2025 1
 141              		.cfi_startproc
 142              		@ args = 0, pretend = 0, frame = 16
 143              		@ frame_needed = 1, uses_anonymous_args = 0
 144              		@ link register save eliminated.
 145 0000 80B4     		push	{r7}
 146              	.LCFI14:
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 39


 147              		.cfi_def_cfa_offset 4
 148              		.cfi_offset 7, -4
 149 0002 85B0     		sub	sp, sp, #20
 150              	.LCFI15:
 151              		.cfi_def_cfa_offset 24
 152 0004 00AF     		add	r7, sp, #0
 153              	.LCFI16:
 154              		.cfi_def_cfa_register 7
 155 0006 7860     		str	r0, [r7, #4]
2026:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t winterruptmask;
2027:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2028:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Set winterruptmask variable */
2029:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   winterruptmask = USB_CNTR_CTRM  | USB_CNTR_WKUPM |
 156              		.loc 1 2029 18
 157 0008 4BF68073 		movw	r3, #49024
 158 000c FB60     		str	r3, [r7, #12]
2030:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                    USB_CNTR_SUSPM | USB_CNTR_ERRM |
2031:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                    USB_CNTR_SOFM | USB_CNTR_ESOFM |
2032:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                    USB_CNTR_RESETM | USB_CNTR_L1REQM;
2033:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2034:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Clear interrupt mask */
2035:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->CNTR &= (uint16_t)(~winterruptmask);
 159              		.loc 1 2035 14
 160 000e 7B68     		ldr	r3, [r7, #4]
 161 0010 B3F84030 		ldrh	r3, [r3, #64]	@ movhi
 162 0014 9AB2     		uxth	r2, r3
 163              		.loc 1 2035 17
 164 0016 FB68     		ldr	r3, [r7, #12]
 165 0018 9BB2     		uxth	r3, r3
 166 001a DB43     		mvns	r3, r3
 167 001c 9BB2     		uxth	r3, r3
 168              		.loc 1 2035 14
 169 001e 1340     		ands	r3, r3, r2
 170 0020 9AB2     		uxth	r2, r3
 171 0022 7B68     		ldr	r3, [r7, #4]
 172 0024 A3F84020 		strh	r2, [r3, #64]	@ movhi
2036:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2037:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 173              		.loc 1 2037 10
 174 0028 0023     		movs	r3, #0
2038:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 175              		.loc 1 2038 1
 176 002a 1846     		mov	r0, r3
 177 002c 1437     		adds	r7, r7, #20
 178              	.LCFI17:
 179              		.cfi_def_cfa_offset 4
 180 002e BD46     		mov	sp, r7
 181              	.LCFI18:
 182              		.cfi_def_cfa_register 13
 183              		@ sp needed
 184 0030 5DF8047B 		ldr	r7, [sp], #4
 185              	.LCFI19:
 186              		.cfi_restore 7
 187              		.cfi_def_cfa_offset 0
 188 0034 7047     		bx	lr
 189              		.cfi_endproc
 190              	.LFE294:
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 40


 192              		.section	.text.USB_SetCurrentMode,"ax",%progbits
 193              		.align	1
 194              		.global	USB_SetCurrentMode
 195              		.syntax unified
 196              		.thumb
 197              		.thumb_func
 198              		.fpu fpv4-sp-d16
 200              	USB_SetCurrentMode:
 201              	.LFB295:
2039:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2040:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
2041:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_SetCurrentMode Set functional mode
2042:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx Selected device
2043:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  mode current core mode
2044:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *          This parameter can be one of the these values:
2045:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *            @arg USB_DEVICE_MODE Peripheral mode
2046:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
2047:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
2048:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_SetCurrentMode(USB_TypeDef *USBx, USB_ModeTypeDef mode)
2049:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 202              		.loc 1 2049 1
 203              		.cfi_startproc
 204              		@ args = 0, pretend = 0, frame = 8
 205              		@ frame_needed = 1, uses_anonymous_args = 0
 206              		@ link register save eliminated.
 207 0000 80B4     		push	{r7}
 208              	.LCFI20:
 209              		.cfi_def_cfa_offset 4
 210              		.cfi_offset 7, -4
 211 0002 83B0     		sub	sp, sp, #12
 212              	.LCFI21:
 213              		.cfi_def_cfa_offset 16
 214 0004 00AF     		add	r7, sp, #0
 215              	.LCFI22:
 216              		.cfi_def_cfa_register 7
 217 0006 7860     		str	r0, [r7, #4]
 218 0008 0B46     		mov	r3, r1
 219 000a FB70     		strb	r3, [r7, #3]
2050:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
2051:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   UNUSED(USBx);
2052:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   UNUSED(mode);
2053:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2054:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* NOTE : - This function is not required by USB Device FS peripheral, it is used
2055:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****               only by USB OTG FS peripheral.
2056:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****             - This function is added to ensure compatibility across platforms.
2057:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****    */
2058:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 220              		.loc 1 2058 10
 221 000c 0023     		movs	r3, #0
2059:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 222              		.loc 1 2059 1
 223 000e 1846     		mov	r0, r3
 224 0010 0C37     		adds	r7, r7, #12
 225              	.LCFI23:
 226              		.cfi_def_cfa_offset 4
 227 0012 BD46     		mov	sp, r7
 228              	.LCFI24:
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 41


 229              		.cfi_def_cfa_register 13
 230              		@ sp needed
 231 0014 5DF8047B 		ldr	r7, [sp], #4
 232              	.LCFI25:
 233              		.cfi_restore 7
 234              		.cfi_def_cfa_offset 0
 235 0018 7047     		bx	lr
 236              		.cfi_endproc
 237              	.LFE295:
 239              		.section	.text.USB_DevInit,"ax",%progbits
 240              		.align	1
 241              		.global	USB_DevInit
 242              		.syntax unified
 243              		.thumb
 244              		.thumb_func
 245              		.fpu fpv4-sp-d16
 247              	USB_DevInit:
 248              	.LFB296:
2060:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2061:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
2062:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_DevInit Initializes the USB controller registers
2063:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *         for device mode
2064:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx Selected device
2065:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  cfg  pointer to a USB_CfgTypeDef structure that contains
2066:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *         the configuration information for the specified USBx peripheral.
2067:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
2068:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
2069:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_DevInit(USB_TypeDef *USBx, USB_CfgTypeDef cfg)
2070:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 249              		.loc 1 2070 1
 250              		.cfi_startproc
 251              		@ args = 40, pretend = 16, frame = 8
 252              		@ frame_needed = 1, uses_anonymous_args = 0
 253              		@ link register save eliminated.
 254 0000 84B0     		sub	sp, sp, #16
 255              	.LCFI26:
 256              		.cfi_def_cfa_offset 16
 257 0002 80B4     		push	{r7}
 258              	.LCFI27:
 259              		.cfi_def_cfa_offset 20
 260              		.cfi_offset 7, -20
 261 0004 83B0     		sub	sp, sp, #12
 262              	.LCFI28:
 263              		.cfi_def_cfa_offset 32
 264 0006 00AF     		add	r7, sp, #0
 265              	.LCFI29:
 266              		.cfi_def_cfa_register 7
 267 0008 7860     		str	r0, [r7, #4]
 268 000a 07F11400 		add	r0, r7, #20
 269 000e 80E80E00 		stm	r0, {r1, r2, r3}
2071:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
2072:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   UNUSED(cfg);
2073:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2074:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Init Device */
2075:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* CNTR_FRES = 1 */
2076:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->CNTR = (uint16_t)USB_CNTR_FRES;
 270              		.loc 1 2076 14
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 42


 271 0012 7B68     		ldr	r3, [r7, #4]
 272 0014 0122     		movs	r2, #1
 273 0016 A3F84020 		strh	r2, [r3, #64]	@ movhi
2077:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2078:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* CNTR_FRES = 0 */
2079:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->CNTR = 0U;
 274              		.loc 1 2079 14
 275 001a 7B68     		ldr	r3, [r7, #4]
 276 001c 0022     		movs	r2, #0
 277 001e A3F84020 		strh	r2, [r3, #64]	@ movhi
2080:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2081:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Clear pending interrupts */
2082:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->ISTR = 0U;
 278              		.loc 1 2082 14
 279 0022 7B68     		ldr	r3, [r7, #4]
 280 0024 0022     		movs	r2, #0
 281 0026 A3F84420 		strh	r2, [r3, #68]	@ movhi
2083:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2084:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /*Set Btable Address*/
2085:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->BTABLE = BTABLE_ADDRESS;
 282              		.loc 1 2085 16
 283 002a 7B68     		ldr	r3, [r7, #4]
 284 002c 0022     		movs	r2, #0
 285 002e A3F85020 		strh	r2, [r3, #80]	@ movhi
2086:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2087:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 286              		.loc 1 2087 10
 287 0032 0023     		movs	r3, #0
2088:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 288              		.loc 1 2088 1
 289 0034 1846     		mov	r0, r3
 290 0036 0C37     		adds	r7, r7, #12
 291              	.LCFI30:
 292              		.cfi_def_cfa_offset 20
 293 0038 BD46     		mov	sp, r7
 294              	.LCFI31:
 295              		.cfi_def_cfa_register 13
 296              		@ sp needed
 297 003a 5DF8047B 		ldr	r7, [sp], #4
 298              	.LCFI32:
 299              		.cfi_restore 7
 300              		.cfi_def_cfa_offset 16
 301 003e 04B0     		add	sp, sp, #16
 302              	.LCFI33:
 303              		.cfi_def_cfa_offset 0
 304 0040 7047     		bx	lr
 305              		.cfi_endproc
 306              	.LFE296:
 308              		.section	.text.USB_FlushTxFifo,"ax",%progbits
 309              		.align	1
 310              		.global	USB_FlushTxFifo
 311              		.syntax unified
 312              		.thumb
 313              		.thumb_func
 314              		.fpu fpv4-sp-d16
 316              	USB_FlushTxFifo:
 317              	.LFB297:
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 43


2089:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2090:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
2091:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_FlushTxFifo : Flush a Tx FIFO
2092:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx : Selected device
2093:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  num : FIFO number
2094:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *         This parameter can be a value from 1 to 15
2095:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****             15 means Flush all Tx FIFOs
2096:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
2097:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
2098:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_FlushTxFifo(USB_TypeDef *USBx, uint32_t num)
2099:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 318              		.loc 1 2099 1
 319              		.cfi_startproc
 320              		@ args = 0, pretend = 0, frame = 8
 321              		@ frame_needed = 1, uses_anonymous_args = 0
 322              		@ link register save eliminated.
 323 0000 80B4     		push	{r7}
 324              	.LCFI34:
 325              		.cfi_def_cfa_offset 4
 326              		.cfi_offset 7, -4
 327 0002 83B0     		sub	sp, sp, #12
 328              	.LCFI35:
 329              		.cfi_def_cfa_offset 16
 330 0004 00AF     		add	r7, sp, #0
 331              	.LCFI36:
 332              		.cfi_def_cfa_register 7
 333 0006 7860     		str	r0, [r7, #4]
 334 0008 3960     		str	r1, [r7]
2100:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
2101:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   UNUSED(USBx);
2102:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   UNUSED(num);
2103:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2104:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* NOTE : - This function is not required by USB Device FS peripheral, it is used
2105:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****               only by USB OTG FS peripheral.
2106:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****             - This function is added to ensure compatibility across platforms.
2107:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****    */
2108:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2109:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 335              		.loc 1 2109 10
 336 000a 0023     		movs	r3, #0
2110:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 337              		.loc 1 2110 1
 338 000c 1846     		mov	r0, r3
 339 000e 0C37     		adds	r7, r7, #12
 340              	.LCFI37:
 341              		.cfi_def_cfa_offset 4
 342 0010 BD46     		mov	sp, r7
 343              	.LCFI38:
 344              		.cfi_def_cfa_register 13
 345              		@ sp needed
 346 0012 5DF8047B 		ldr	r7, [sp], #4
 347              	.LCFI39:
 348              		.cfi_restore 7
 349              		.cfi_def_cfa_offset 0
 350 0016 7047     		bx	lr
 351              		.cfi_endproc
 352              	.LFE297:
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 44


 354              		.section	.text.USB_FlushRxFifo,"ax",%progbits
 355              		.align	1
 356              		.global	USB_FlushRxFifo
 357              		.syntax unified
 358              		.thumb
 359              		.thumb_func
 360              		.fpu fpv4-sp-d16
 362              	USB_FlushRxFifo:
 363              	.LFB298:
2111:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2112:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
2113:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_FlushRxFifo : Flush Rx FIFO
2114:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx : Selected device
2115:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
2116:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
2117:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_FlushRxFifo(USB_TypeDef *USBx)
2118:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 364              		.loc 1 2118 1
 365              		.cfi_startproc
 366              		@ args = 0, pretend = 0, frame = 8
 367              		@ frame_needed = 1, uses_anonymous_args = 0
 368              		@ link register save eliminated.
 369 0000 80B4     		push	{r7}
 370              	.LCFI40:
 371              		.cfi_def_cfa_offset 4
 372              		.cfi_offset 7, -4
 373 0002 83B0     		sub	sp, sp, #12
 374              	.LCFI41:
 375              		.cfi_def_cfa_offset 16
 376 0004 00AF     		add	r7, sp, #0
 377              	.LCFI42:
 378              		.cfi_def_cfa_register 7
 379 0006 7860     		str	r0, [r7, #4]
2119:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
2120:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   UNUSED(USBx);
2121:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2122:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* NOTE : - This function is not required by USB Device FS peripheral, it is used
2123:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****               only by USB OTG FS peripheral.
2124:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****             - This function is added to ensure compatibility across platforms.
2125:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****    */
2126:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2127:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 380              		.loc 1 2127 10
 381 0008 0023     		movs	r3, #0
2128:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 382              		.loc 1 2128 1
 383 000a 1846     		mov	r0, r3
 384 000c 0C37     		adds	r7, r7, #12
 385              	.LCFI43:
 386              		.cfi_def_cfa_offset 4
 387 000e BD46     		mov	sp, r7
 388              	.LCFI44:
 389              		.cfi_def_cfa_register 13
 390              		@ sp needed
 391 0010 5DF8047B 		ldr	r7, [sp], #4
 392              	.LCFI45:
 393              		.cfi_restore 7
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 45


 394              		.cfi_def_cfa_offset 0
 395 0014 7047     		bx	lr
 396              		.cfi_endproc
 397              	.LFE298:
 399              		.section	.text.USB_ActivateEndpoint,"ax",%progbits
 400              		.align	1
 401              		.global	USB_ActivateEndpoint
 402              		.syntax unified
 403              		.thumb
 404              		.thumb_func
 405              		.fpu fpv4-sp-d16
 407              	USB_ActivateEndpoint:
 408              	.LFB299:
2129:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2130:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** #if defined (HAL_PCD_MODULE_ENABLED)
2131:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
2132:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  Activate and configure an endpoint
2133:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx Selected device
2134:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
2135:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
2136:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
2137:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_ActivateEndpoint(USB_TypeDef *USBx, USB_EPTypeDef *ep)
2138:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 409              		.loc 1 2138 1
 410              		.cfi_startproc
 411              		@ args = 0, pretend = 0, frame = 112
 412              		@ frame_needed = 1, uses_anonymous_args = 0
 413              		@ link register save eliminated.
 414 0000 80B4     		push	{r7}
 415              	.LCFI46:
 416              		.cfi_def_cfa_offset 4
 417              		.cfi_offset 7, -4
 418 0002 9DB0     		sub	sp, sp, #116
 419              	.LCFI47:
 420              		.cfi_def_cfa_offset 120
 421 0004 00AF     		add	r7, sp, #0
 422              	.LCFI48:
 423              		.cfi_def_cfa_register 7
 424 0006 7860     		str	r0, [r7, #4]
 425 0008 3960     		str	r1, [r7]
2139:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   HAL_StatusTypeDef ret = HAL_OK;
 426              		.loc 1 2139 21
 427 000a 0023     		movs	r3, #0
 428 000c 87F86F30 		strb	r3, [r7, #111]
2140:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint16_t wEpRegVal;
2141:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2142:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   wEpRegVal = PCD_GET_ENDPOINT(USBx, ep->num) & USB_EP_T_MASK;
 429              		.loc 1 2142 15
 430 0010 7A68     		ldr	r2, [r7, #4]
 431 0012 3B68     		ldr	r3, [r7]
 432 0014 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 433 0016 9B00     		lsls	r3, r3, #2
 434 0018 1344     		add	r3, r3, r2
 435              		.loc 1 2142 47
 436 001a 1B88     		ldrh	r3, [r3]	@ movhi
 437 001c 9BB2     		uxth	r3, r3
 438              		.loc 1 2142 13
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 46


 439 001e 23F4EC43 		bic	r3, r3, #30208
 440 0022 23F07003 		bic	r3, r3, #112
 441 0026 A7F86C30 		strh	r3, [r7, #108]	@ movhi
2143:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2144:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* initialize Endpoint */
2145:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   switch (ep->type)
 442              		.loc 1 2145 13
 443 002a 3B68     		ldr	r3, [r7]
 444 002c DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 445 002e 032B     		cmp	r3, #3
 446 0030 1FD8     		bhi	.L16
 447 0032 01A2     		adr	r2, .L18
 448 0034 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 449              		.p2align 2
 450              	.L18:
 451 0038 49000000 		.word	.L21+1
 452 003c 65000000 		.word	.L20+1
 453 0040 7B000000 		.word	.L45+1
 454 0044 57000000 		.word	.L17+1
 455              		.p2align 1
 456              	.L21:
2146:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
2147:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     case EP_TYPE_CTRL:
2148:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       wEpRegVal |= USB_EP_CONTROL;
 457              		.loc 1 2148 17
 458 0048 B7F86C30 		ldrh	r3, [r7, #108]	@ movhi
 459 004c 43F40073 		orr	r3, r3, #512
 460 0050 A7F86C30 		strh	r3, [r7, #108]	@ movhi
2149:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       break;
 461              		.loc 1 2149 7
 462 0054 12E0     		b	.L22
 463              	.L17:
2150:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2151:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     case EP_TYPE_BULK:
2152:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       wEpRegVal |= USB_EP_BULK;
2153:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       break;
2154:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2155:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     case EP_TYPE_INTR:
2156:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       wEpRegVal |= USB_EP_INTERRUPT;
 464              		.loc 1 2156 17
 465 0056 B7F86C30 		ldrh	r3, [r7, #108]	@ movhi
 466 005a 43F4C063 		orr	r3, r3, #1536
 467 005e A7F86C30 		strh	r3, [r7, #108]	@ movhi
2157:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       break;
 468              		.loc 1 2157 7
 469 0062 0BE0     		b	.L22
 470              	.L20:
2158:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2159:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     case EP_TYPE_ISOC:
2160:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       wEpRegVal |= USB_EP_ISOCHRONOUS;
 471              		.loc 1 2160 17
 472 0064 B7F86C30 		ldrh	r3, [r7, #108]	@ movhi
 473 0068 43F48063 		orr	r3, r3, #1024
 474 006c A7F86C30 		strh	r3, [r7, #108]	@ movhi
2161:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       break;
 475              		.loc 1 2161 7
 476 0070 04E0     		b	.L22
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 47


 477              	.L16:
2162:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2163:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     default:
2164:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       ret = HAL_ERROR;
 478              		.loc 1 2164 11
 479 0072 0123     		movs	r3, #1
 480 0074 87F86F30 		strb	r3, [r7, #111]
2165:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       break;
 481              		.loc 1 2165 7
 482 0078 00E0     		b	.L22
 483              	.L45:
2153:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 484              		.loc 1 2153 7
 485 007a 00BF     		nop
 486              	.L22:
2166:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
2167:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2168:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   PCD_SET_ENDPOINT(USBx, ep->num, (wEpRegVal | USB_EP_CTR_RX | USB_EP_CTR_TX));
 487              		.loc 1 2168 3
 488 007c 7A68     		ldr	r2, [r7, #4]
 489 007e 3B68     		ldr	r3, [r7]
 490 0080 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 491 0082 9B00     		lsls	r3, r3, #2
 492 0084 1A44     		add	r2, r2, r3
 493 0086 B7F86C30 		ldrh	r3, [r7, #108]	@ movhi
 494 008a 43F07F43 		orr	r3, r3, #-16777216
 495 008e 43F47F03 		orr	r3, r3, #16711680
 496 0092 43F40043 		orr	r3, r3, #32768
 497 0096 43F08003 		orr	r3, r3, #128
 498 009a 9BB2     		uxth	r3, r3
 499 009c 1380     		strh	r3, [r2]	@ movhi
 500              	.LBB2:
2169:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2170:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   PCD_SET_EP_ADDRESS(USBx, ep->num, ep->num);
 501              		.loc 1 2170 3
 502 009e 7A68     		ldr	r2, [r7, #4]
 503 00a0 3B68     		ldr	r3, [r7]
 504 00a2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 505 00a4 9B00     		lsls	r3, r3, #2
 506 00a6 1344     		add	r3, r3, r2
 507 00a8 1B88     		ldrh	r3, [r3]	@ movhi
 508 00aa 9BB2     		uxth	r3, r3
 509 00ac 1BB2     		sxth	r3, r3
 510 00ae 23F4E043 		bic	r3, r3, #28672
 511 00b2 23F07003 		bic	r3, r3, #112
 512 00b6 1AB2     		sxth	r2, r3
 513 00b8 3B68     		ldr	r3, [r7]
 514 00ba 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 515 00bc 1BB2     		sxth	r3, r3
 516 00be 1343     		orrs	r3, r3, r2
 517 00c0 1BB2     		sxth	r3, r3
 518 00c2 A7F86630 		strh	r3, [r7, #102]	@ movhi
 519 00c6 7A68     		ldr	r2, [r7, #4]
 520 00c8 3B68     		ldr	r3, [r7]
 521 00ca 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 522 00cc 9B00     		lsls	r3, r3, #2
 523 00ce 1A44     		add	r2, r2, r3
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 48


 524 00d0 B7F86630 		ldrh	r3, [r7, #102]	@ movhi
 525 00d4 43F07F43 		orr	r3, r3, #-16777216
 526 00d8 43F47F03 		orr	r3, r3, #16711680
 527 00dc 43F40043 		orr	r3, r3, #32768
 528 00e0 43F08003 		orr	r3, r3, #128
 529 00e4 9BB2     		uxth	r3, r3
 530 00e6 1380     		strh	r3, [r2]	@ movhi
 531              	.LBE2:
2171:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2172:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (ep->doublebuffer == 0U)
 532              		.loc 1 2172 9
 533 00e8 3B68     		ldr	r3, [r7]
 534 00ea 1B7B     		ldrb	r3, [r3, #12]	@ zero_extendqisi2
 535              		.loc 1 2172 6
 536 00ec 002B     		cmp	r3, #0
 537 00ee 40F06E81 		bne	.L23
2173:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
2174:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (ep->is_in != 0U)
 538              		.loc 1 2174 11
 539 00f2 3B68     		ldr	r3, [r7]
 540 00f4 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 541              		.loc 1 2174 8
 542 00f6 002B     		cmp	r3, #0
 543 00f8 00F08480 		beq	.L24
 544              	.LBB3:
2175:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
2176:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       /*Set the endpoint Transmit buffer address */
2177:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       PCD_SET_EP_TX_ADDRESS(USBx, ep->num, ep->pmaadress);
 545              		.loc 1 2177 7
 546 00fc 7B68     		ldr	r3, [r7, #4]
 547 00fe BB61     		str	r3, [r7, #24]
 548 0100 7B68     		ldr	r3, [r7, #4]
 549 0102 B3F85030 		ldrh	r3, [r3, #80]	@ movhi
 550 0106 9BB2     		uxth	r3, r3
 551 0108 1A46     		mov	r2, r3
 552 010a BB69     		ldr	r3, [r7, #24]
 553 010c 1344     		add	r3, r3, r2
 554 010e BB61     		str	r3, [r7, #24]
 555 0110 3B68     		ldr	r3, [r7]
 556 0112 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 557 0114 DA00     		lsls	r2, r3, #3
 558 0116 BB69     		ldr	r3, [r7, #24]
 559 0118 1344     		add	r3, r3, r2
 560 011a 03F58063 		add	r3, r3, #1024
 561 011e 7B61     		str	r3, [r7, #20]
 562 0120 3B68     		ldr	r3, [r7]
 563 0122 DB88     		ldrh	r3, [r3, #6]
 564 0124 5B08     		lsrs	r3, r3, #1
 565 0126 9BB2     		uxth	r3, r3
 566 0128 5B00     		lsls	r3, r3, #1
 567 012a 9AB2     		uxth	r2, r3
 568 012c 7B69     		ldr	r3, [r7, #20]
 569 012e 1A80     		strh	r2, [r3]	@ movhi
 570              	.LBE3:
 571              	.LBB4:
2178:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       PCD_CLEAR_TX_DTOG(USBx, ep->num);
 572              		.loc 1 2178 7
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 49


 573 0130 7A68     		ldr	r2, [r7, #4]
 574 0132 3B68     		ldr	r3, [r7]
 575 0134 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 576 0136 9B00     		lsls	r3, r3, #2
 577 0138 1344     		add	r3, r3, r2
 578 013a 1B88     		ldrh	r3, [r3]	@ movhi
 579 013c 7B82     		strh	r3, [r7, #18]	@ movhi
 580 013e 7B8A     		ldrh	r3, [r7, #18]
 581 0140 03F04003 		and	r3, r3, #64
 582 0144 002B     		cmp	r3, #0
 583 0146 1BD0     		beq	.L25
 584              	.LBB5:
 585              		.loc 1 2178 7 is_stmt 0 discriminator 1
 586 0148 7A68     		ldr	r2, [r7, #4]
 587 014a 3B68     		ldr	r3, [r7]
 588 014c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 589 014e 9B00     		lsls	r3, r3, #2
 590 0150 1344     		add	r3, r3, r2
 591 0152 1B88     		ldrh	r3, [r3]	@ movhi
 592 0154 9BB2     		uxth	r3, r3
 593 0156 23F4E043 		bic	r3, r3, #28672
 594 015a 23F07003 		bic	r3, r3, #112
 595 015e 3B82     		strh	r3, [r7, #16]	@ movhi
 596 0160 7A68     		ldr	r2, [r7, #4]
 597 0162 3B68     		ldr	r3, [r7]
 598 0164 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 599 0166 9B00     		lsls	r3, r3, #2
 600 0168 1A44     		add	r2, r2, r3
 601 016a 3B8A     		ldrh	r3, [r7, #16]	@ movhi
 602 016c 43F07F43 		orr	r3, r3, #-16777216
 603 0170 43F47F03 		orr	r3, r3, #16711680
 604 0174 43F40043 		orr	r3, r3, #32768
 605 0178 43F0C003 		orr	r3, r3, #192
 606 017c 9BB2     		uxth	r3, r3
 607 017e 1380     		strh	r3, [r2]	@ movhi
 608              	.L25:
 609              	.LBE5:
 610              	.LBE4:
2179:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2180:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       if (ep->type != EP_TYPE_ISOC)
 611              		.loc 1 2180 13 is_stmt 1
 612 0180 3B68     		ldr	r3, [r7]
 613 0182 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 614              		.loc 1 2180 10
 615 0184 012B     		cmp	r3, #1
 616 0186 20D0     		beq	.L26
 617              	.LBB6:
2181:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
2182:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         /* Configure NAK status for the Endpoint */
2183:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         PCD_SET_EP_TX_STATUS(USBx, ep->num, USB_EP_TX_NAK);
 618              		.loc 1 2183 9
 619 0188 7A68     		ldr	r2, [r7, #4]
 620 018a 3B68     		ldr	r3, [r7]
 621 018c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 622 018e 9B00     		lsls	r3, r3, #2
 623 0190 1344     		add	r3, r3, r2
 624 0192 1B88     		ldrh	r3, [r3]	@ movhi
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 50


 625 0194 9BB2     		uxth	r3, r3
 626 0196 23F4E043 		bic	r3, r3, #28672
 627 019a 23F04003 		bic	r3, r3, #64
 628 019e BB81     		strh	r3, [r7, #12]	@ movhi
 629 01a0 BB89     		ldrh	r3, [r7, #12]	@ movhi
 630 01a2 83F02003 		eor	r3, r3, #32
 631 01a6 BB81     		strh	r3, [r7, #12]	@ movhi
 632 01a8 7A68     		ldr	r2, [r7, #4]
 633 01aa 3B68     		ldr	r3, [r7]
 634 01ac 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 635 01ae 9B00     		lsls	r3, r3, #2
 636 01b0 1A44     		add	r2, r2, r3
 637 01b2 BB89     		ldrh	r3, [r7, #12]	@ movhi
 638 01b4 43F07F43 		orr	r3, r3, #-16777216
 639 01b8 43F47F03 		orr	r3, r3, #16711680
 640 01bc 43F40043 		orr	r3, r3, #32768
 641 01c0 43F08003 		orr	r3, r3, #128
 642 01c4 9BB2     		uxth	r3, r3
 643 01c6 1380     		strh	r3, [r2]	@ movhi
 644              	.LBE6:
 645 01c8 CBE2     		b	.L27
 646              	.L26:
 647              	.LBB7:
2184:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
2185:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       else
2186:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
2187:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         /* Configure TX Endpoint to disabled state */
2188:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         PCD_SET_EP_TX_STATUS(USBx, ep->num, USB_EP_TX_DIS);
 648              		.loc 1 2188 9
 649 01ca 7A68     		ldr	r2, [r7, #4]
 650 01cc 3B68     		ldr	r3, [r7]
 651 01ce 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 652 01d0 9B00     		lsls	r3, r3, #2
 653 01d2 1344     		add	r3, r3, r2
 654 01d4 1B88     		ldrh	r3, [r3]	@ movhi
 655 01d6 9BB2     		uxth	r3, r3
 656 01d8 23F4E043 		bic	r3, r3, #28672
 657 01dc 23F04003 		bic	r3, r3, #64
 658 01e0 FB81     		strh	r3, [r7, #14]	@ movhi
 659 01e2 7A68     		ldr	r2, [r7, #4]
 660 01e4 3B68     		ldr	r3, [r7]
 661 01e6 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 662 01e8 9B00     		lsls	r3, r3, #2
 663 01ea 1A44     		add	r2, r2, r3
 664 01ec FB89     		ldrh	r3, [r7, #14]	@ movhi
 665 01ee 43F07F43 		orr	r3, r3, #-16777216
 666 01f2 43F47F03 		orr	r3, r3, #16711680
 667 01f6 43F40043 		orr	r3, r3, #32768
 668 01fa 43F08003 		orr	r3, r3, #128
 669 01fe 9BB2     		uxth	r3, r3
 670 0200 1380     		strh	r3, [r2]	@ movhi
 671 0202 AEE2     		b	.L27
 672              	.L24:
 673              	.LBE7:
 674              	.LBB8:
2189:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
2190:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 51


2191:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     else
2192:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
2193:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       /* Set the endpoint Receive buffer address */
2194:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       PCD_SET_EP_RX_ADDRESS(USBx, ep->num, ep->pmaadress);
 675              		.loc 1 2194 7
 676 0204 7B68     		ldr	r3, [r7, #4]
 677 0206 3B63     		str	r3, [r7, #48]
 678 0208 7B68     		ldr	r3, [r7, #4]
 679 020a B3F85030 		ldrh	r3, [r3, #80]	@ movhi
 680 020e 9BB2     		uxth	r3, r3
 681 0210 1A46     		mov	r2, r3
 682 0212 3B6B     		ldr	r3, [r7, #48]
 683 0214 1344     		add	r3, r3, r2
 684 0216 3B63     		str	r3, [r7, #48]
 685 0218 3B68     		ldr	r3, [r7]
 686 021a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 687 021c DA00     		lsls	r2, r3, #3
 688 021e 3B6B     		ldr	r3, [r7, #48]
 689 0220 1344     		add	r3, r3, r2
 690 0222 03F20443 		addw	r3, r3, #1028
 691 0226 FB62     		str	r3, [r7, #44]
 692 0228 3B68     		ldr	r3, [r7]
 693 022a DB88     		ldrh	r3, [r3, #6]
 694 022c 5B08     		lsrs	r3, r3, #1
 695 022e 9BB2     		uxth	r3, r3
 696 0230 5B00     		lsls	r3, r3, #1
 697 0232 9AB2     		uxth	r2, r3
 698 0234 FB6A     		ldr	r3, [r7, #44]
 699 0236 1A80     		strh	r2, [r3]	@ movhi
 700              	.LBE8:
 701              	.LBB9:
2195:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2196:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       /* Set the endpoint Receive buffer counter */
2197:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       PCD_SET_EP_RX_CNT(USBx, ep->num, ep->maxpacket);
 702              		.loc 1 2197 7
 703 0238 7B68     		ldr	r3, [r7, #4]
 704 023a BB62     		str	r3, [r7, #40]
 705 023c 7B68     		ldr	r3, [r7, #4]
 706 023e B3F85030 		ldrh	r3, [r3, #80]	@ movhi
 707 0242 9BB2     		uxth	r3, r3
 708 0244 1A46     		mov	r2, r3
 709 0246 BB6A     		ldr	r3, [r7, #40]
 710 0248 1344     		add	r3, r3, r2
 711 024a BB62     		str	r3, [r7, #40]
 712 024c 3B68     		ldr	r3, [r7]
 713 024e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 714 0250 DA00     		lsls	r2, r3, #3
 715 0252 BB6A     		ldr	r3, [r7, #40]
 716 0254 1344     		add	r3, r3, r2
 717 0256 03F20643 		addw	r3, r3, #1030
 718 025a 7B62     		str	r3, [r7, #36]
 719              	.LBB10:
 720 025c 3B68     		ldr	r3, [r7]
 721 025e 1B69     		ldr	r3, [r3, #16]
 722 0260 3E2B     		cmp	r3, #62
 723 0262 18D9     		bls	.L28
 724              		.loc 1 2197 7 is_stmt 0 discriminator 1
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 52


 725 0264 3B68     		ldr	r3, [r7]
 726 0266 1B69     		ldr	r3, [r3, #16]
 727 0268 5B09     		lsrs	r3, r3, #5
 728 026a BB66     		str	r3, [r7, #104]
 729 026c 3B68     		ldr	r3, [r7]
 730 026e 1B69     		ldr	r3, [r3, #16]
 731 0270 03F01F03 		and	r3, r3, #31
 732 0274 002B     		cmp	r3, #0
 733 0276 02D1     		bne	.L29
 734              		.loc 1 2197 7 discriminator 3
 735 0278 BB6E     		ldr	r3, [r7, #104]
 736 027a 013B     		subs	r3, r3, #1
 737 027c BB66     		str	r3, [r7, #104]
 738              	.L29:
 739              		.loc 1 2197 7 discriminator 5
 740 027e BB6E     		ldr	r3, [r7, #104]
 741 0280 9BB2     		uxth	r3, r3
 742 0282 9B02     		lsls	r3, r3, #10
 743 0284 9BB2     		uxth	r3, r3
 744 0286 6FEA4343 		mvn	r3, r3, lsl #17
 745 028a 6FEA5343 		mvn	r3, r3, lsr #17
 746 028e 9AB2     		uxth	r2, r3
 747 0290 7B6A     		ldr	r3, [r7, #36]
 748 0292 1A80     		strh	r2, [r3]	@ movhi
 749 0294 29E0     		b	.L30
 750              	.L28:
 751              		.loc 1 2197 7 discriminator 2
 752 0296 3B68     		ldr	r3, [r7]
 753 0298 1B69     		ldr	r3, [r3, #16]
 754 029a 002B     		cmp	r3, #0
 755 029c 12D1     		bne	.L31
 756              		.loc 1 2197 7 discriminator 6
 757 029e 7B6A     		ldr	r3, [r7, #36]
 758 02a0 1B88     		ldrh	r3, [r3]	@ movhi
 759 02a2 9BB2     		uxth	r3, r3
 760 02a4 23F4F843 		bic	r3, r3, #31744
 761 02a8 9AB2     		uxth	r2, r3
 762 02aa 7B6A     		ldr	r3, [r7, #36]
 763 02ac 1A80     		strh	r2, [r3]	@ movhi
 764 02ae 7B6A     		ldr	r3, [r7, #36]
 765 02b0 1B88     		ldrh	r3, [r3]	@ movhi
 766 02b2 9BB2     		uxth	r3, r3
 767 02b4 6FEA4343 		mvn	r3, r3, lsl #17
 768 02b8 6FEA5343 		mvn	r3, r3, lsr #17
 769 02bc 9AB2     		uxth	r2, r3
 770 02be 7B6A     		ldr	r3, [r7, #36]
 771 02c0 1A80     		strh	r2, [r3]	@ movhi
 772 02c2 12E0     		b	.L30
 773              	.L31:
 774              		.loc 1 2197 7 discriminator 7
 775 02c4 3B68     		ldr	r3, [r7]
 776 02c6 1B69     		ldr	r3, [r3, #16]
 777 02c8 5B08     		lsrs	r3, r3, #1
 778 02ca BB66     		str	r3, [r7, #104]
 779 02cc 3B68     		ldr	r3, [r7]
 780 02ce 1B69     		ldr	r3, [r3, #16]
 781 02d0 03F00103 		and	r3, r3, #1
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 53


 782 02d4 002B     		cmp	r3, #0
 783 02d6 02D0     		beq	.L32
 784              		.loc 1 2197 7 discriminator 8
 785 02d8 BB6E     		ldr	r3, [r7, #104]
 786 02da 0133     		adds	r3, r3, #1
 787 02dc BB66     		str	r3, [r7, #104]
 788              	.L32:
 789              		.loc 1 2197 7 discriminator 10
 790 02de BB6E     		ldr	r3, [r7, #104]
 791 02e0 9BB2     		uxth	r3, r3
 792 02e2 9B02     		lsls	r3, r3, #10
 793 02e4 9AB2     		uxth	r2, r3
 794 02e6 7B6A     		ldr	r3, [r7, #36]
 795 02e8 1A80     		strh	r2, [r3]	@ movhi
 796              	.L30:
 797              	.LBE10:
 798              	.LBE9:
 799              	.LBB11:
2198:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       PCD_CLEAR_RX_DTOG(USBx, ep->num);
 800              		.loc 1 2198 7 is_stmt 1
 801 02ea 7A68     		ldr	r2, [r7, #4]
 802 02ec 3B68     		ldr	r3, [r7]
 803 02ee 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 804 02f0 9B00     		lsls	r3, r3, #2
 805 02f2 1344     		add	r3, r3, r2
 806 02f4 1B88     		ldrh	r3, [r3]	@ movhi
 807 02f6 7B84     		strh	r3, [r7, #34]	@ movhi
 808 02f8 7B8C     		ldrh	r3, [r7, #34]
 809 02fa 03F48043 		and	r3, r3, #16384
 810 02fe 002B     		cmp	r3, #0
 811 0300 1BD0     		beq	.L33
 812              	.LBB12:
 813              		.loc 1 2198 7 is_stmt 0 discriminator 1
 814 0302 7A68     		ldr	r2, [r7, #4]
 815 0304 3B68     		ldr	r3, [r7]
 816 0306 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 817 0308 9B00     		lsls	r3, r3, #2
 818 030a 1344     		add	r3, r3, r2
 819 030c 1B88     		ldrh	r3, [r3]	@ movhi
 820 030e 9BB2     		uxth	r3, r3
 821 0310 23F4E043 		bic	r3, r3, #28672
 822 0314 23F07003 		bic	r3, r3, #112
 823 0318 3B84     		strh	r3, [r7, #32]	@ movhi
 824 031a 7A68     		ldr	r2, [r7, #4]
 825 031c 3B68     		ldr	r3, [r7]
 826 031e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 827 0320 9B00     		lsls	r3, r3, #2
 828 0322 1A44     		add	r2, r2, r3
 829 0324 3B8C     		ldrh	r3, [r7, #32]	@ movhi
 830 0326 43F07F43 		orr	r3, r3, #-16777216
 831 032a 43F47F03 		orr	r3, r3, #16711680
 832 032e 43F44043 		orr	r3, r3, #49152
 833 0332 43F08003 		orr	r3, r3, #128
 834 0336 9BB2     		uxth	r3, r3
 835 0338 1380     		strh	r3, [r2]	@ movhi
 836              	.L33:
 837              	.LBE12:
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 54


 838              	.LBE11:
2199:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2200:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       if (ep->num == 0U)
 839              		.loc 1 2200 13 is_stmt 1
 840 033a 3B68     		ldr	r3, [r7]
 841 033c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 842              		.loc 1 2200 10
 843 033e 002B     		cmp	r3, #0
 844 0340 24D1     		bne	.L34
 845              	.LBB13:
2201:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
2202:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         /* Configure VALID status for EP0 */
2203:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         PCD_SET_EP_RX_STATUS(USBx, ep->num, USB_EP_RX_VALID);
 846              		.loc 1 2203 9
 847 0342 7A68     		ldr	r2, [r7, #4]
 848 0344 3B68     		ldr	r3, [r7]
 849 0346 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 850 0348 9B00     		lsls	r3, r3, #2
 851 034a 1344     		add	r3, r3, r2
 852 034c 1B88     		ldrh	r3, [r3]	@ movhi
 853 034e 9BB2     		uxth	r3, r3
 854 0350 23F48043 		bic	r3, r3, #16384
 855 0354 23F07003 		bic	r3, r3, #112
 856 0358 BB83     		strh	r3, [r7, #28]	@ movhi
 857 035a BB8B     		ldrh	r3, [r7, #28]	@ movhi
 858 035c 83F48053 		eor	r3, r3, #4096
 859 0360 BB83     		strh	r3, [r7, #28]	@ movhi
 860 0362 BB8B     		ldrh	r3, [r7, #28]	@ movhi
 861 0364 83F40053 		eor	r3, r3, #8192
 862 0368 BB83     		strh	r3, [r7, #28]	@ movhi
 863 036a 7A68     		ldr	r2, [r7, #4]
 864 036c 3B68     		ldr	r3, [r7]
 865 036e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 866 0370 9B00     		lsls	r3, r3, #2
 867 0372 1A44     		add	r2, r2, r3
 868 0374 BB8B     		ldrh	r3, [r7, #28]	@ movhi
 869 0376 43F07F43 		orr	r3, r3, #-16777216
 870 037a 43F47F03 		orr	r3, r3, #16711680
 871 037e 43F40043 		orr	r3, r3, #32768
 872 0382 43F08003 		orr	r3, r3, #128
 873 0386 9BB2     		uxth	r3, r3
 874 0388 1380     		strh	r3, [r2]	@ movhi
 875              	.LBE13:
 876 038a EAE1     		b	.L27
 877              	.L34:
 878              	.LBB14:
2204:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
2205:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       else
2206:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
2207:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         /* Configure NAK status for OUT Endpoint */
2208:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         PCD_SET_EP_RX_STATUS(USBx, ep->num, USB_EP_RX_NAK);
 879              		.loc 1 2208 9
 880 038c 7A68     		ldr	r2, [r7, #4]
 881 038e 3B68     		ldr	r3, [r7]
 882 0390 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 883 0392 9B00     		lsls	r3, r3, #2
 884 0394 1344     		add	r3, r3, r2
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 55


 885 0396 1B88     		ldrh	r3, [r3]	@ movhi
 886 0398 9BB2     		uxth	r3, r3
 887 039a 23F48043 		bic	r3, r3, #16384
 888 039e 23F07003 		bic	r3, r3, #112
 889 03a2 FB83     		strh	r3, [r7, #30]	@ movhi
 890 03a4 FB8B     		ldrh	r3, [r7, #30]	@ movhi
 891 03a6 83F40053 		eor	r3, r3, #8192
 892 03aa FB83     		strh	r3, [r7, #30]	@ movhi
 893 03ac 7A68     		ldr	r2, [r7, #4]
 894 03ae 3B68     		ldr	r3, [r7]
 895 03b0 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 896 03b2 9B00     		lsls	r3, r3, #2
 897 03b4 1A44     		add	r2, r2, r3
 898 03b6 FB8B     		ldrh	r3, [r7, #30]	@ movhi
 899 03b8 43F07F43 		orr	r3, r3, #-16777216
 900 03bc 43F47F03 		orr	r3, r3, #16711680
 901 03c0 43F40043 		orr	r3, r3, #32768
 902 03c4 43F08003 		orr	r3, r3, #128
 903 03c8 9BB2     		uxth	r3, r3
 904 03ca 1380     		strh	r3, [r2]	@ movhi
 905 03cc C9E1     		b	.L27
 906              	.L23:
 907              	.LBE14:
2209:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
2210:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
2211:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
2212:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** #if (USE_USB_DOUBLE_BUFFER == 1U)
2213:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Double Buffer */
2214:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else
2215:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
2216:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (ep->type == EP_TYPE_BULK)
 908              		.loc 1 2216 11
 909 03ce 3B68     		ldr	r3, [r7]
 910 03d0 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 911              		.loc 1 2216 8
 912 03d2 022B     		cmp	r3, #2
 913 03d4 1ED1     		bne	.L35
 914              	.LBB15:
2217:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
2218:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       /* Set bulk endpoint as double buffered */
2219:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       PCD_SET_BULK_EP_DBUF(USBx, ep->num);
 915              		.loc 1 2219 7
 916 03d6 7A68     		ldr	r2, [r7, #4]
 917 03d8 3B68     		ldr	r3, [r7]
 918 03da 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 919 03dc 9B00     		lsls	r3, r3, #2
 920 03de 1344     		add	r3, r3, r2
 921 03e0 1B88     		ldrh	r3, [r3]	@ movhi
 922 03e2 9BB2     		uxth	r3, r3
 923 03e4 23F4E043 		bic	r3, r3, #28672
 924 03e8 23F07003 		bic	r3, r3, #112
 925 03ec A7F86230 		strh	r3, [r7, #98]	@ movhi
 926 03f0 7A68     		ldr	r2, [r7, #4]
 927 03f2 3B68     		ldr	r3, [r7]
 928 03f4 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 929 03f6 9B00     		lsls	r3, r3, #2
 930 03f8 1A44     		add	r2, r2, r3
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 56


 931 03fa B7F86230 		ldrh	r3, [r7, #98]	@ movhi
 932 03fe 43F07F43 		orr	r3, r3, #-16777216
 933 0402 43F47F03 		orr	r3, r3, #16711680
 934 0406 43F40143 		orr	r3, r3, #33024
 935 040a 43F08003 		orr	r3, r3, #128
 936 040e 9BB2     		uxth	r3, r3
 937 0410 1380     		strh	r3, [r2]	@ movhi
 938              	.LBE15:
 939 0412 1DE0     		b	.L36
 940              	.L35:
 941              	.LBB16:
2220:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
2221:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     else
2222:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
2223:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       /* Set the ISOC endpoint in double buffer mode */
2224:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       PCD_CLEAR_EP_KIND(USBx, ep->num);
 942              		.loc 1 2224 7
 943 0414 7A68     		ldr	r2, [r7, #4]
 944 0416 3B68     		ldr	r3, [r7]
 945 0418 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 946 041a 9B00     		lsls	r3, r3, #2
 947 041c 1344     		add	r3, r3, r2
 948 041e 1B88     		ldrh	r3, [r3]	@ movhi
 949 0420 9BB2     		uxth	r3, r3
 950 0422 23F4E243 		bic	r3, r3, #28928
 951 0426 23F07003 		bic	r3, r3, #112
 952 042a A7F86430 		strh	r3, [r7, #100]	@ movhi
 953 042e 7A68     		ldr	r2, [r7, #4]
 954 0430 3B68     		ldr	r3, [r7]
 955 0432 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 956 0434 9B00     		lsls	r3, r3, #2
 957 0436 1A44     		add	r2, r2, r3
 958 0438 B7F86430 		ldrh	r3, [r7, #100]	@ movhi
 959 043c 43F07F43 		orr	r3, r3, #-16777216
 960 0440 43F47F03 		orr	r3, r3, #16711680
 961 0444 43F40043 		orr	r3, r3, #32768
 962 0448 43F08003 		orr	r3, r3, #128
 963 044c 9BB2     		uxth	r3, r3
 964 044e 1380     		strh	r3, [r2]	@ movhi
 965              	.L36:
 966              	.LBE16:
 967              	.LBB17:
2225:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
2226:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2227:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     /* Set buffer address for double buffered mode */
2228:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     PCD_SET_EP_DBUF_ADDR(USBx, ep->num, ep->pmaaddr0, ep->pmaaddr1);
 968              		.loc 1 2228 5
 969 0450 7B68     		ldr	r3, [r7, #4]
 970 0452 FB65     		str	r3, [r7, #92]
 971 0454 7B68     		ldr	r3, [r7, #4]
 972 0456 B3F85030 		ldrh	r3, [r3, #80]	@ movhi
 973 045a 9BB2     		uxth	r3, r3
 974 045c 1A46     		mov	r2, r3
 975 045e FB6D     		ldr	r3, [r7, #92]
 976 0460 1344     		add	r3, r3, r2
 977 0462 FB65     		str	r3, [r7, #92]
 978 0464 3B68     		ldr	r3, [r7]
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 57


 979 0466 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 980 0468 DA00     		lsls	r2, r3, #3
 981 046a FB6D     		ldr	r3, [r7, #92]
 982 046c 1344     		add	r3, r3, r2
 983 046e 03F58063 		add	r3, r3, #1024
 984 0472 BB65     		str	r3, [r7, #88]
 985 0474 3B68     		ldr	r3, [r7]
 986 0476 1B89     		ldrh	r3, [r3, #8]
 987 0478 5B08     		lsrs	r3, r3, #1
 988 047a 9BB2     		uxth	r3, r3
 989 047c 5B00     		lsls	r3, r3, #1
 990 047e 9AB2     		uxth	r2, r3
 991 0480 BB6D     		ldr	r3, [r7, #88]
 992 0482 1A80     		strh	r2, [r3]	@ movhi
 993              	.LBE17:
 994              	.LBB18:
 995 0484 7B68     		ldr	r3, [r7, #4]
 996 0486 7B65     		str	r3, [r7, #84]
 997 0488 7B68     		ldr	r3, [r7, #4]
 998 048a B3F85030 		ldrh	r3, [r3, #80]	@ movhi
 999 048e 9BB2     		uxth	r3, r3
 1000 0490 1A46     		mov	r2, r3
 1001 0492 7B6D     		ldr	r3, [r7, #84]
 1002 0494 1344     		add	r3, r3, r2
 1003 0496 7B65     		str	r3, [r7, #84]
 1004 0498 3B68     		ldr	r3, [r7]
 1005 049a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1006 049c DA00     		lsls	r2, r3, #3
 1007 049e 7B6D     		ldr	r3, [r7, #84]
 1008 04a0 1344     		add	r3, r3, r2
 1009 04a2 03F20443 		addw	r3, r3, #1028
 1010 04a6 3B65     		str	r3, [r7, #80]
 1011 04a8 3B68     		ldr	r3, [r7]
 1012 04aa 5B89     		ldrh	r3, [r3, #10]
 1013 04ac 5B08     		lsrs	r3, r3, #1
 1014 04ae 9BB2     		uxth	r3, r3
 1015 04b0 5B00     		lsls	r3, r3, #1
 1016 04b2 9AB2     		uxth	r2, r3
 1017 04b4 3B6D     		ldr	r3, [r7, #80]
 1018 04b6 1A80     		strh	r2, [r3]	@ movhi
 1019              	.LBE18:
2229:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2230:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (ep->is_in == 0U)
 1020              		.loc 1 2230 11
 1021 04b8 3B68     		ldr	r3, [r7]
 1022 04ba 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 1023              		.loc 1 2230 8
 1024 04bc 002B     		cmp	r3, #0
 1025 04be 40F09380 		bne	.L37
 1026              	.LBB19:
2231:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
2232:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       /* Clear the data toggle bits for the endpoint IN/OUT */
2233:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       PCD_CLEAR_RX_DTOG(USBx, ep->num);
 1027              		.loc 1 2233 7
 1028 04c2 7A68     		ldr	r2, [r7, #4]
 1029 04c4 3B68     		ldr	r3, [r7]
 1030 04c6 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 58


 1031 04c8 9B00     		lsls	r3, r3, #2
 1032 04ca 1344     		add	r3, r3, r2
 1033 04cc 1B88     		ldrh	r3, [r3]	@ movhi
 1034 04ce A7F84030 		strh	r3, [r7, #64]	@ movhi
 1035 04d2 B7F84030 		ldrh	r3, [r7, #64]
 1036 04d6 03F48043 		and	r3, r3, #16384
 1037 04da 002B     		cmp	r3, #0
 1038 04dc 1BD0     		beq	.L38
 1039              	.LBB20:
 1040              		.loc 1 2233 7 is_stmt 0 discriminator 1
 1041 04de 7A68     		ldr	r2, [r7, #4]
 1042 04e0 3B68     		ldr	r3, [r7]
 1043 04e2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1044 04e4 9B00     		lsls	r3, r3, #2
 1045 04e6 1344     		add	r3, r3, r2
 1046 04e8 1B88     		ldrh	r3, [r3]	@ movhi
 1047 04ea 9BB2     		uxth	r3, r3
 1048 04ec 23F4E043 		bic	r3, r3, #28672
 1049 04f0 23F07003 		bic	r3, r3, #112
 1050 04f4 FB87     		strh	r3, [r7, #62]	@ movhi
 1051 04f6 7A68     		ldr	r2, [r7, #4]
 1052 04f8 3B68     		ldr	r3, [r7]
 1053 04fa 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1054 04fc 9B00     		lsls	r3, r3, #2
 1055 04fe 1A44     		add	r2, r2, r3
 1056 0500 FB8F     		ldrh	r3, [r7, #62]	@ movhi
 1057 0502 43F07F43 		orr	r3, r3, #-16777216
 1058 0506 43F47F03 		orr	r3, r3, #16711680
 1059 050a 43F44043 		orr	r3, r3, #49152
 1060 050e 43F08003 		orr	r3, r3, #128
 1061 0512 9BB2     		uxth	r3, r3
 1062 0514 1380     		strh	r3, [r2]	@ movhi
 1063              	.L38:
 1064              	.LBE20:
 1065              	.LBE19:
 1066              	.LBB21:
2234:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       PCD_CLEAR_TX_DTOG(USBx, ep->num);
 1067              		.loc 1 2234 7 is_stmt 1
 1068 0516 7A68     		ldr	r2, [r7, #4]
 1069 0518 3B68     		ldr	r3, [r7]
 1070 051a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1071 051c 9B00     		lsls	r3, r3, #2
 1072 051e 1344     		add	r3, r3, r2
 1073 0520 1B88     		ldrh	r3, [r3]	@ movhi
 1074 0522 BB87     		strh	r3, [r7, #60]	@ movhi
 1075 0524 BB8F     		ldrh	r3, [r7, #60]
 1076 0526 03F04003 		and	r3, r3, #64
 1077 052a 002B     		cmp	r3, #0
 1078 052c 1BD0     		beq	.L39
 1079              	.LBB22:
 1080              		.loc 1 2234 7 is_stmt 0 discriminator 1
 1081 052e 7A68     		ldr	r2, [r7, #4]
 1082 0530 3B68     		ldr	r3, [r7]
 1083 0532 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1084 0534 9B00     		lsls	r3, r3, #2
 1085 0536 1344     		add	r3, r3, r2
 1086 0538 1B88     		ldrh	r3, [r3]	@ movhi
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 59


 1087 053a 9BB2     		uxth	r3, r3
 1088 053c 23F4E043 		bic	r3, r3, #28672
 1089 0540 23F07003 		bic	r3, r3, #112
 1090 0544 7B87     		strh	r3, [r7, #58]	@ movhi
 1091 0546 7A68     		ldr	r2, [r7, #4]
 1092 0548 3B68     		ldr	r3, [r7]
 1093 054a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1094 054c 9B00     		lsls	r3, r3, #2
 1095 054e 1A44     		add	r2, r2, r3
 1096 0550 7B8F     		ldrh	r3, [r7, #58]	@ movhi
 1097 0552 43F07F43 		orr	r3, r3, #-16777216
 1098 0556 43F47F03 		orr	r3, r3, #16711680
 1099 055a 43F40043 		orr	r3, r3, #32768
 1100 055e 43F0C003 		orr	r3, r3, #192
 1101 0562 9BB2     		uxth	r3, r3
 1102 0564 1380     		strh	r3, [r2]	@ movhi
 1103              	.L39:
 1104              	.LBE22:
 1105              	.LBE21:
 1106              	.LBB23:
2235:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2236:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       PCD_SET_EP_RX_STATUS(USBx, ep->num, USB_EP_RX_VALID);
 1107              		.loc 1 2236 7 is_stmt 1
 1108 0566 7A68     		ldr	r2, [r7, #4]
 1109 0568 3B68     		ldr	r3, [r7]
 1110 056a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1111 056c 9B00     		lsls	r3, r3, #2
 1112 056e 1344     		add	r3, r3, r2
 1113 0570 1B88     		ldrh	r3, [r3]	@ movhi
 1114 0572 9BB2     		uxth	r3, r3
 1115 0574 23F48043 		bic	r3, r3, #16384
 1116 0578 23F07003 		bic	r3, r3, #112
 1117 057c 3B87     		strh	r3, [r7, #56]	@ movhi
 1118 057e 3B8F     		ldrh	r3, [r7, #56]	@ movhi
 1119 0580 83F48053 		eor	r3, r3, #4096
 1120 0584 3B87     		strh	r3, [r7, #56]	@ movhi
 1121 0586 3B8F     		ldrh	r3, [r7, #56]	@ movhi
 1122 0588 83F40053 		eor	r3, r3, #8192
 1123 058c 3B87     		strh	r3, [r7, #56]	@ movhi
 1124 058e 7A68     		ldr	r2, [r7, #4]
 1125 0590 3B68     		ldr	r3, [r7]
 1126 0592 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1127 0594 9B00     		lsls	r3, r3, #2
 1128 0596 1A44     		add	r2, r2, r3
 1129 0598 3B8F     		ldrh	r3, [r7, #56]	@ movhi
 1130 059a 43F07F43 		orr	r3, r3, #-16777216
 1131 059e 43F47F03 		orr	r3, r3, #16711680
 1132 05a2 43F40043 		orr	r3, r3, #32768
 1133 05a6 43F08003 		orr	r3, r3, #128
 1134 05aa 9BB2     		uxth	r3, r3
 1135 05ac 1380     		strh	r3, [r2]	@ movhi
 1136              	.LBE23:
 1137              	.LBB24:
2237:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       PCD_SET_EP_TX_STATUS(USBx, ep->num, USB_EP_TX_DIS);
 1138              		.loc 1 2237 7
 1139 05ae 7A68     		ldr	r2, [r7, #4]
 1140 05b0 3B68     		ldr	r3, [r7]
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 60


 1141 05b2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1142 05b4 9B00     		lsls	r3, r3, #2
 1143 05b6 1344     		add	r3, r3, r2
 1144 05b8 1B88     		ldrh	r3, [r3]	@ movhi
 1145 05ba 9BB2     		uxth	r3, r3
 1146 05bc 23F4E043 		bic	r3, r3, #28672
 1147 05c0 23F04003 		bic	r3, r3, #64
 1148 05c4 FB86     		strh	r3, [r7, #54]	@ movhi
 1149 05c6 7A68     		ldr	r2, [r7, #4]
 1150 05c8 3B68     		ldr	r3, [r7]
 1151 05ca 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1152 05cc 9B00     		lsls	r3, r3, #2
 1153 05ce 1A44     		add	r2, r2, r3
 1154 05d0 FB8E     		ldrh	r3, [r7, #54]	@ movhi
 1155 05d2 43F07F43 		orr	r3, r3, #-16777216
 1156 05d6 43F47F03 		orr	r3, r3, #16711680
 1157 05da 43F40043 		orr	r3, r3, #32768
 1158 05de 43F08003 		orr	r3, r3, #128
 1159 05e2 9BB2     		uxth	r3, r3
 1160 05e4 1380     		strh	r3, [r2]	@ movhi
 1161              	.LBE24:
 1162 05e6 BCE0     		b	.L27
 1163              	.L37:
 1164              	.LBB25:
2238:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
2239:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     else
2240:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
2241:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       /* Clear the data toggle bits for the endpoint IN/OUT */
2242:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       PCD_CLEAR_RX_DTOG(USBx, ep->num);
 1165              		.loc 1 2242 7
 1166 05e8 7A68     		ldr	r2, [r7, #4]
 1167 05ea 3B68     		ldr	r3, [r7]
 1168 05ec 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1169 05ee 9B00     		lsls	r3, r3, #2
 1170 05f0 1344     		add	r3, r3, r2
 1171 05f2 1B88     		ldrh	r3, [r3]	@ movhi
 1172 05f4 A7F84E30 		strh	r3, [r7, #78]	@ movhi
 1173 05f8 B7F84E30 		ldrh	r3, [r7, #78]
 1174 05fc 03F48043 		and	r3, r3, #16384
 1175 0600 002B     		cmp	r3, #0
 1176 0602 1DD0     		beq	.L40
 1177              	.LBB26:
 1178              		.loc 1 2242 7 is_stmt 0 discriminator 1
 1179 0604 7A68     		ldr	r2, [r7, #4]
 1180 0606 3B68     		ldr	r3, [r7]
 1181 0608 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1182 060a 9B00     		lsls	r3, r3, #2
 1183 060c 1344     		add	r3, r3, r2
 1184 060e 1B88     		ldrh	r3, [r3]	@ movhi
 1185 0610 9BB2     		uxth	r3, r3
 1186 0612 23F4E043 		bic	r3, r3, #28672
 1187 0616 23F07003 		bic	r3, r3, #112
 1188 061a A7F84C30 		strh	r3, [r7, #76]	@ movhi
 1189 061e 7A68     		ldr	r2, [r7, #4]
 1190 0620 3B68     		ldr	r3, [r7]
 1191 0622 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1192 0624 9B00     		lsls	r3, r3, #2
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 61


 1193 0626 1A44     		add	r2, r2, r3
 1194 0628 B7F84C30 		ldrh	r3, [r7, #76]	@ movhi
 1195 062c 43F07F43 		orr	r3, r3, #-16777216
 1196 0630 43F47F03 		orr	r3, r3, #16711680
 1197 0634 43F44043 		orr	r3, r3, #49152
 1198 0638 43F08003 		orr	r3, r3, #128
 1199 063c 9BB2     		uxth	r3, r3
 1200 063e 1380     		strh	r3, [r2]	@ movhi
 1201              	.L40:
 1202              	.LBE26:
 1203              	.LBE25:
 1204              	.LBB27:
2243:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       PCD_CLEAR_TX_DTOG(USBx, ep->num);
 1205              		.loc 1 2243 7 is_stmt 1
 1206 0640 7A68     		ldr	r2, [r7, #4]
 1207 0642 3B68     		ldr	r3, [r7]
 1208 0644 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1209 0646 9B00     		lsls	r3, r3, #2
 1210 0648 1344     		add	r3, r3, r2
 1211 064a 1B88     		ldrh	r3, [r3]	@ movhi
 1212 064c A7F84A30 		strh	r3, [r7, #74]	@ movhi
 1213 0650 B7F84A30 		ldrh	r3, [r7, #74]
 1214 0654 03F04003 		and	r3, r3, #64
 1215 0658 002B     		cmp	r3, #0
 1216 065a 1DD0     		beq	.L41
 1217              	.LBB28:
 1218              		.loc 1 2243 7 is_stmt 0 discriminator 1
 1219 065c 7A68     		ldr	r2, [r7, #4]
 1220 065e 3B68     		ldr	r3, [r7]
 1221 0660 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1222 0662 9B00     		lsls	r3, r3, #2
 1223 0664 1344     		add	r3, r3, r2
 1224 0666 1B88     		ldrh	r3, [r3]	@ movhi
 1225 0668 9BB2     		uxth	r3, r3
 1226 066a 23F4E043 		bic	r3, r3, #28672
 1227 066e 23F07003 		bic	r3, r3, #112
 1228 0672 A7F84830 		strh	r3, [r7, #72]	@ movhi
 1229 0676 7A68     		ldr	r2, [r7, #4]
 1230 0678 3B68     		ldr	r3, [r7]
 1231 067a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1232 067c 9B00     		lsls	r3, r3, #2
 1233 067e 1A44     		add	r2, r2, r3
 1234 0680 B7F84830 		ldrh	r3, [r7, #72]	@ movhi
 1235 0684 43F07F43 		orr	r3, r3, #-16777216
 1236 0688 43F47F03 		orr	r3, r3, #16711680
 1237 068c 43F40043 		orr	r3, r3, #32768
 1238 0690 43F0C003 		orr	r3, r3, #192
 1239 0694 9BB2     		uxth	r3, r3
 1240 0696 1380     		strh	r3, [r2]	@ movhi
 1241              	.L41:
 1242              	.LBE28:
 1243              	.LBE27:
2244:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2245:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       if (ep->type != EP_TYPE_ISOC)
 1244              		.loc 1 2245 13 is_stmt 1
 1245 0698 3B68     		ldr	r3, [r7]
 1246 069a DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 62


 1247              		.loc 1 2245 10
 1248 069c 012B     		cmp	r3, #1
 1249 069e 24D0     		beq	.L42
 1250              	.LBB29:
2246:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
2247:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         /* Configure NAK status for the Endpoint */
2248:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         PCD_SET_EP_TX_STATUS(USBx, ep->num, USB_EP_TX_NAK);
 1251              		.loc 1 2248 9
 1252 06a0 7A68     		ldr	r2, [r7, #4]
 1253 06a2 3B68     		ldr	r3, [r7]
 1254 06a4 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1255 06a6 9B00     		lsls	r3, r3, #2
 1256 06a8 1344     		add	r3, r3, r2
 1257 06aa 1B88     		ldrh	r3, [r3]	@ movhi
 1258 06ac 9BB2     		uxth	r3, r3
 1259 06ae 23F4E043 		bic	r3, r3, #28672
 1260 06b2 23F04003 		bic	r3, r3, #64
 1261 06b6 A7F84430 		strh	r3, [r7, #68]	@ movhi
 1262 06ba B7F84430 		ldrh	r3, [r7, #68]	@ movhi
 1263 06be 83F02003 		eor	r3, r3, #32
 1264 06c2 A7F84430 		strh	r3, [r7, #68]	@ movhi
 1265 06c6 7A68     		ldr	r2, [r7, #4]
 1266 06c8 3B68     		ldr	r3, [r7]
 1267 06ca 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1268 06cc 9B00     		lsls	r3, r3, #2
 1269 06ce 1A44     		add	r2, r2, r3
 1270 06d0 B7F84430 		ldrh	r3, [r7, #68]	@ movhi
 1271 06d4 43F07F43 		orr	r3, r3, #-16777216
 1272 06d8 43F47F03 		orr	r3, r3, #16711680
 1273 06dc 43F40043 		orr	r3, r3, #32768
 1274 06e0 43F08003 		orr	r3, r3, #128
 1275 06e4 9BB2     		uxth	r3, r3
 1276 06e6 1380     		strh	r3, [r2]	@ movhi
 1277              	.LBE29:
 1278 06e8 1DE0     		b	.L43
 1279              	.L42:
 1280              	.LBB30:
2249:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
2250:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       else
2251:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
2252:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         /* Configure TX Endpoint to disabled state */
2253:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         PCD_SET_EP_TX_STATUS(USBx, ep->num, USB_EP_TX_DIS);
 1281              		.loc 1 2253 9
 1282 06ea 7A68     		ldr	r2, [r7, #4]
 1283 06ec 3B68     		ldr	r3, [r7]
 1284 06ee 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1285 06f0 9B00     		lsls	r3, r3, #2
 1286 06f2 1344     		add	r3, r3, r2
 1287 06f4 1B88     		ldrh	r3, [r3]	@ movhi
 1288 06f6 9BB2     		uxth	r3, r3
 1289 06f8 23F4E043 		bic	r3, r3, #28672
 1290 06fc 23F04003 		bic	r3, r3, #64
 1291 0700 A7F84630 		strh	r3, [r7, #70]	@ movhi
 1292 0704 7A68     		ldr	r2, [r7, #4]
 1293 0706 3B68     		ldr	r3, [r7]
 1294 0708 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1295 070a 9B00     		lsls	r3, r3, #2
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 63


 1296 070c 1A44     		add	r2, r2, r3
 1297 070e B7F84630 		ldrh	r3, [r7, #70]	@ movhi
 1298 0712 43F07F43 		orr	r3, r3, #-16777216
 1299 0716 43F47F03 		orr	r3, r3, #16711680
 1300 071a 43F40043 		orr	r3, r3, #32768
 1301 071e 43F08003 		orr	r3, r3, #128
 1302 0722 9BB2     		uxth	r3, r3
 1303 0724 1380     		strh	r3, [r2]	@ movhi
 1304              	.L43:
 1305              	.LBE30:
 1306              	.LBB31:
2254:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
2255:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2256:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       PCD_SET_EP_RX_STATUS(USBx, ep->num, USB_EP_RX_DIS);
 1307              		.loc 1 2256 7
 1308 0726 7A68     		ldr	r2, [r7, #4]
 1309 0728 3B68     		ldr	r3, [r7]
 1310 072a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1311 072c 9B00     		lsls	r3, r3, #2
 1312 072e 1344     		add	r3, r3, r2
 1313 0730 1B88     		ldrh	r3, [r3]	@ movhi
 1314 0732 9BB2     		uxth	r3, r3
 1315 0734 23F48043 		bic	r3, r3, #16384
 1316 0738 23F07003 		bic	r3, r3, #112
 1317 073c A7F84230 		strh	r3, [r7, #66]	@ movhi
 1318 0740 7A68     		ldr	r2, [r7, #4]
 1319 0742 3B68     		ldr	r3, [r7]
 1320 0744 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1321 0746 9B00     		lsls	r3, r3, #2
 1322 0748 1A44     		add	r2, r2, r3
 1323 074a B7F84230 		ldrh	r3, [r7, #66]	@ movhi
 1324 074e 43F07F43 		orr	r3, r3, #-16777216
 1325 0752 43F47F03 		orr	r3, r3, #16711680
 1326 0756 43F40043 		orr	r3, r3, #32768
 1327 075a 43F08003 		orr	r3, r3, #128
 1328 075e 9BB2     		uxth	r3, r3
 1329 0760 1380     		strh	r3, [r2]	@ movhi
 1330              	.L27:
 1331              	.LBE31:
2257:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
2258:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
2259:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** #endif /* (USE_USB_DOUBLE_BUFFER == 1U) */
2260:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2261:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return ret;
 1332              		.loc 1 2261 10
 1333 0762 97F86F30 		ldrb	r3, [r7, #111]	@ zero_extendqisi2
2262:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 1334              		.loc 1 2262 1
 1335 0766 1846     		mov	r0, r3
 1336 0768 7437     		adds	r7, r7, #116
 1337              	.LCFI49:
 1338              		.cfi_def_cfa_offset 4
 1339 076a BD46     		mov	sp, r7
 1340              	.LCFI50:
 1341              		.cfi_def_cfa_register 13
 1342              		@ sp needed
 1343 076c 5DF8047B 		ldr	r7, [sp], #4
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 64


 1344              	.LCFI51:
 1345              		.cfi_restore 7
 1346              		.cfi_def_cfa_offset 0
 1347 0770 7047     		bx	lr
 1348              		.cfi_endproc
 1349              	.LFE299:
 1351 0772 00BF     		.section	.text.USB_DeactivateEndpoint,"ax",%progbits
 1352              		.align	1
 1353              		.global	USB_DeactivateEndpoint
 1354              		.syntax unified
 1355              		.thumb
 1356              		.thumb_func
 1357              		.fpu fpv4-sp-d16
 1359              	USB_DeactivateEndpoint:
 1360              	.LFB300:
2263:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2264:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
2265:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  De-activate and de-initialize an endpoint
2266:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx Selected device
2267:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
2268:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
2269:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
2270:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_DeactivateEndpoint(USB_TypeDef *USBx, USB_EPTypeDef *ep)
2271:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 1361              		.loc 1 2271 1
 1362              		.cfi_startproc
 1363              		@ args = 0, pretend = 0, frame = 48
 1364              		@ frame_needed = 1, uses_anonymous_args = 0
 1365              		@ link register save eliminated.
 1366 0000 80B4     		push	{r7}
 1367              	.LCFI52:
 1368              		.cfi_def_cfa_offset 4
 1369              		.cfi_offset 7, -4
 1370 0002 8DB0     		sub	sp, sp, #52
 1371              	.LCFI53:
 1372              		.cfi_def_cfa_offset 56
 1373 0004 00AF     		add	r7, sp, #0
 1374              	.LCFI54:
 1375              		.cfi_def_cfa_register 7
 1376 0006 7860     		str	r0, [r7, #4]
 1377 0008 3960     		str	r1, [r7]
2272:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (ep->doublebuffer == 0U)
 1378              		.loc 1 2272 9
 1379 000a 3B68     		ldr	r3, [r7]
 1380 000c 1B7B     		ldrb	r3, [r3, #12]	@ zero_extendqisi2
 1381              		.loc 1 2272 6
 1382 000e 002B     		cmp	r3, #0
 1383 0010 40F08E80 		bne	.L47
2273:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
2274:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (ep->is_in != 0U)
 1384              		.loc 1 2274 11
 1385 0014 3B68     		ldr	r3, [r7]
 1386 0016 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 1387              		.loc 1 2274 8
 1388 0018 002B     		cmp	r3, #0
 1389 001a 44D0     		beq	.L48
 1390              	.LBB32:
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 65


2275:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
2276:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       PCD_CLEAR_TX_DTOG(USBx, ep->num);
 1391              		.loc 1 2276 7
 1392 001c 7A68     		ldr	r2, [r7, #4]
 1393 001e 3B68     		ldr	r3, [r7]
 1394 0020 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1395 0022 9B00     		lsls	r3, r3, #2
 1396 0024 1344     		add	r3, r3, r2
 1397 0026 1B88     		ldrh	r3, [r3]	@ movhi
 1398 0028 BB81     		strh	r3, [r7, #12]	@ movhi
 1399 002a BB89     		ldrh	r3, [r7, #12]
 1400 002c 03F04003 		and	r3, r3, #64
 1401 0030 002B     		cmp	r3, #0
 1402 0032 1BD0     		beq	.L49
 1403              	.LBB33:
 1404              		.loc 1 2276 7 is_stmt 0 discriminator 1
 1405 0034 7A68     		ldr	r2, [r7, #4]
 1406 0036 3B68     		ldr	r3, [r7]
 1407 0038 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1408 003a 9B00     		lsls	r3, r3, #2
 1409 003c 1344     		add	r3, r3, r2
 1410 003e 1B88     		ldrh	r3, [r3]	@ movhi
 1411 0040 9BB2     		uxth	r3, r3
 1412 0042 23F4E043 		bic	r3, r3, #28672
 1413 0046 23F07003 		bic	r3, r3, #112
 1414 004a 7B81     		strh	r3, [r7, #10]	@ movhi
 1415 004c 7A68     		ldr	r2, [r7, #4]
 1416 004e 3B68     		ldr	r3, [r7]
 1417 0050 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1418 0052 9B00     		lsls	r3, r3, #2
 1419 0054 1A44     		add	r2, r2, r3
 1420 0056 7B89     		ldrh	r3, [r7, #10]	@ movhi
 1421 0058 43F07F43 		orr	r3, r3, #-16777216
 1422 005c 43F47F03 		orr	r3, r3, #16711680
 1423 0060 43F40043 		orr	r3, r3, #32768
 1424 0064 43F0C003 		orr	r3, r3, #192
 1425 0068 9BB2     		uxth	r3, r3
 1426 006a 1380     		strh	r3, [r2]	@ movhi
 1427              	.L49:
 1428              	.LBE33:
 1429              	.LBE32:
 1430              	.LBB34:
2277:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2278:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       /* Configure DISABLE status for the Endpoint */
2279:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       PCD_SET_EP_TX_STATUS(USBx, ep->num, USB_EP_TX_DIS);
 1431              		.loc 1 2279 7 is_stmt 1
 1432 006c 7A68     		ldr	r2, [r7, #4]
 1433 006e 3B68     		ldr	r3, [r7]
 1434 0070 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1435 0072 9B00     		lsls	r3, r3, #2
 1436 0074 1344     		add	r3, r3, r2
 1437 0076 1B88     		ldrh	r3, [r3]	@ movhi
 1438 0078 9BB2     		uxth	r3, r3
 1439 007a 23F4E043 		bic	r3, r3, #28672
 1440 007e 23F04003 		bic	r3, r3, #64
 1441 0082 3B81     		strh	r3, [r7, #8]	@ movhi
 1442 0084 7A68     		ldr	r2, [r7, #4]
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 66


 1443 0086 3B68     		ldr	r3, [r7]
 1444 0088 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1445 008a 9B00     		lsls	r3, r3, #2
 1446 008c 1A44     		add	r2, r2, r3
 1447 008e 3B89     		ldrh	r3, [r7, #8]	@ movhi
 1448 0090 43F07F43 		orr	r3, r3, #-16777216
 1449 0094 43F47F03 		orr	r3, r3, #16711680
 1450 0098 43F40043 		orr	r3, r3, #32768
 1451 009c 43F08003 		orr	r3, r3, #128
 1452 00a0 9BB2     		uxth	r3, r3
 1453 00a2 1380     		strh	r3, [r2]	@ movhi
 1454              	.LBE34:
 1455 00a4 92E1     		b	.L50
 1456              	.L48:
 1457              	.LBB35:
2280:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
2281:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2282:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     else
2283:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
2284:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       PCD_CLEAR_RX_DTOG(USBx, ep->num);
 1458              		.loc 1 2284 7
 1459 00a6 7A68     		ldr	r2, [r7, #4]
 1460 00a8 3B68     		ldr	r3, [r7]
 1461 00aa 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1462 00ac 9B00     		lsls	r3, r3, #2
 1463 00ae 1344     		add	r3, r3, r2
 1464 00b0 1B88     		ldrh	r3, [r3]	@ movhi
 1465 00b2 7B82     		strh	r3, [r7, #18]	@ movhi
 1466 00b4 7B8A     		ldrh	r3, [r7, #18]
 1467 00b6 03F48043 		and	r3, r3, #16384
 1468 00ba 002B     		cmp	r3, #0
 1469 00bc 1BD0     		beq	.L51
 1470              	.LBB36:
 1471              		.loc 1 2284 7 is_stmt 0 discriminator 1
 1472 00be 7A68     		ldr	r2, [r7, #4]
 1473 00c0 3B68     		ldr	r3, [r7]
 1474 00c2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1475 00c4 9B00     		lsls	r3, r3, #2
 1476 00c6 1344     		add	r3, r3, r2
 1477 00c8 1B88     		ldrh	r3, [r3]	@ movhi
 1478 00ca 9BB2     		uxth	r3, r3
 1479 00cc 23F4E043 		bic	r3, r3, #28672
 1480 00d0 23F07003 		bic	r3, r3, #112
 1481 00d4 3B82     		strh	r3, [r7, #16]	@ movhi
 1482 00d6 7A68     		ldr	r2, [r7, #4]
 1483 00d8 3B68     		ldr	r3, [r7]
 1484 00da 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1485 00dc 9B00     		lsls	r3, r3, #2
 1486 00de 1A44     		add	r2, r2, r3
 1487 00e0 3B8A     		ldrh	r3, [r7, #16]	@ movhi
 1488 00e2 43F07F43 		orr	r3, r3, #-16777216
 1489 00e6 43F47F03 		orr	r3, r3, #16711680
 1490 00ea 43F44043 		orr	r3, r3, #49152
 1491 00ee 43F08003 		orr	r3, r3, #128
 1492 00f2 9BB2     		uxth	r3, r3
 1493 00f4 1380     		strh	r3, [r2]	@ movhi
 1494              	.L51:
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 67


 1495              	.LBE36:
 1496              	.LBE35:
 1497              	.LBB37:
2285:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2286:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       /* Configure DISABLE status for the Endpoint */
2287:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       PCD_SET_EP_RX_STATUS(USBx, ep->num, USB_EP_RX_DIS);
 1498              		.loc 1 2287 7 is_stmt 1
 1499 00f6 7A68     		ldr	r2, [r7, #4]
 1500 00f8 3B68     		ldr	r3, [r7]
 1501 00fa 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1502 00fc 9B00     		lsls	r3, r3, #2
 1503 00fe 1344     		add	r3, r3, r2
 1504 0100 1B88     		ldrh	r3, [r3]	@ movhi
 1505 0102 9BB2     		uxth	r3, r3
 1506 0104 23F48043 		bic	r3, r3, #16384
 1507 0108 23F07003 		bic	r3, r3, #112
 1508 010c FB81     		strh	r3, [r7, #14]	@ movhi
 1509 010e 7A68     		ldr	r2, [r7, #4]
 1510 0110 3B68     		ldr	r3, [r7]
 1511 0112 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1512 0114 9B00     		lsls	r3, r3, #2
 1513 0116 1A44     		add	r2, r2, r3
 1514 0118 FB89     		ldrh	r3, [r7, #14]	@ movhi
 1515 011a 43F07F43 		orr	r3, r3, #-16777216
 1516 011e 43F47F03 		orr	r3, r3, #16711680
 1517 0122 43F40043 		orr	r3, r3, #32768
 1518 0126 43F08003 		orr	r3, r3, #128
 1519 012a 9BB2     		uxth	r3, r3
 1520 012c 1380     		strh	r3, [r2]	@ movhi
 1521 012e 4DE1     		b	.L50
 1522              	.L47:
 1523              	.LBE37:
2288:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
2289:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
2290:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** #if (USE_USB_DOUBLE_BUFFER == 1U)
2291:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Double Buffer */
2292:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else
2293:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
2294:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (ep->is_in == 0U)
 1524              		.loc 1 2294 11
 1525 0130 3B68     		ldr	r3, [r7]
 1526 0132 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 1527              		.loc 1 2294 8
 1528 0134 002B     		cmp	r3, #0
 1529 0136 40F0A580 		bne	.L52
 1530              	.LBB38:
2295:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
2296:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       /* Clear the data toggle bits for the endpoint IN/OUT*/
2297:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       PCD_CLEAR_RX_DTOG(USBx, ep->num);
 1531              		.loc 1 2297 7
 1532 013a 7A68     		ldr	r2, [r7, #4]
 1533 013c 3B68     		ldr	r3, [r7]
 1534 013e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1535 0140 9B00     		lsls	r3, r3, #2
 1536 0142 1344     		add	r3, r3, r2
 1537 0144 1B88     		ldrh	r3, [r3]	@ movhi
 1538 0146 3B84     		strh	r3, [r7, #32]	@ movhi
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 68


 1539 0148 3B8C     		ldrh	r3, [r7, #32]
 1540 014a 03F48043 		and	r3, r3, #16384
 1541 014e 002B     		cmp	r3, #0
 1542 0150 1BD0     		beq	.L53
 1543              	.LBB39:
 1544              		.loc 1 2297 7 is_stmt 0 discriminator 1
 1545 0152 7A68     		ldr	r2, [r7, #4]
 1546 0154 3B68     		ldr	r3, [r7]
 1547 0156 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1548 0158 9B00     		lsls	r3, r3, #2
 1549 015a 1344     		add	r3, r3, r2
 1550 015c 1B88     		ldrh	r3, [r3]	@ movhi
 1551 015e 9BB2     		uxth	r3, r3
 1552 0160 23F4E043 		bic	r3, r3, #28672
 1553 0164 23F07003 		bic	r3, r3, #112
 1554 0168 FB83     		strh	r3, [r7, #30]	@ movhi
 1555 016a 7A68     		ldr	r2, [r7, #4]
 1556 016c 3B68     		ldr	r3, [r7]
 1557 016e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1558 0170 9B00     		lsls	r3, r3, #2
 1559 0172 1A44     		add	r2, r2, r3
 1560 0174 FB8B     		ldrh	r3, [r7, #30]	@ movhi
 1561 0176 43F07F43 		orr	r3, r3, #-16777216
 1562 017a 43F47F03 		orr	r3, r3, #16711680
 1563 017e 43F44043 		orr	r3, r3, #49152
 1564 0182 43F08003 		orr	r3, r3, #128
 1565 0186 9BB2     		uxth	r3, r3
 1566 0188 1380     		strh	r3, [r2]	@ movhi
 1567              	.L53:
 1568              	.LBE39:
 1569              	.LBE38:
 1570              	.LBB40:
2298:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       PCD_CLEAR_TX_DTOG(USBx, ep->num);
 1571              		.loc 1 2298 7 is_stmt 1
 1572 018a 7A68     		ldr	r2, [r7, #4]
 1573 018c 3B68     		ldr	r3, [r7]
 1574 018e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1575 0190 9B00     		lsls	r3, r3, #2
 1576 0192 1344     		add	r3, r3, r2
 1577 0194 1B88     		ldrh	r3, [r3]	@ movhi
 1578 0196 BB83     		strh	r3, [r7, #28]	@ movhi
 1579 0198 BB8B     		ldrh	r3, [r7, #28]
 1580 019a 03F04003 		and	r3, r3, #64
 1581 019e 002B     		cmp	r3, #0
 1582 01a0 1BD0     		beq	.L54
 1583              	.LBB41:
 1584              		.loc 1 2298 7 is_stmt 0 discriminator 1
 1585 01a2 7A68     		ldr	r2, [r7, #4]
 1586 01a4 3B68     		ldr	r3, [r7]
 1587 01a6 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1588 01a8 9B00     		lsls	r3, r3, #2
 1589 01aa 1344     		add	r3, r3, r2
 1590 01ac 1B88     		ldrh	r3, [r3]	@ movhi
 1591 01ae 9BB2     		uxth	r3, r3
 1592 01b0 23F4E043 		bic	r3, r3, #28672
 1593 01b4 23F07003 		bic	r3, r3, #112
 1594 01b8 7B83     		strh	r3, [r7, #26]	@ movhi
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 69


 1595 01ba 7A68     		ldr	r2, [r7, #4]
 1596 01bc 3B68     		ldr	r3, [r7]
 1597 01be 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1598 01c0 9B00     		lsls	r3, r3, #2
 1599 01c2 1A44     		add	r2, r2, r3
 1600 01c4 7B8B     		ldrh	r3, [r7, #26]	@ movhi
 1601 01c6 43F07F43 		orr	r3, r3, #-16777216
 1602 01ca 43F47F03 		orr	r3, r3, #16711680
 1603 01ce 43F40043 		orr	r3, r3, #32768
 1604 01d2 43F0C003 		orr	r3, r3, #192
 1605 01d6 9BB2     		uxth	r3, r3
 1606 01d8 1380     		strh	r3, [r2]	@ movhi
 1607              	.L54:
 1608              	.LBE41:
 1609              	.LBE40:
 1610              	.LBB42:
2299:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2300:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       /* Reset value of the data toggle bits for the endpoint out*/
2301:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       PCD_TX_DTOG(USBx, ep->num);
 1611              		.loc 1 2301 7 is_stmt 1
 1612 01da 7A68     		ldr	r2, [r7, #4]
 1613 01dc 3B68     		ldr	r3, [r7]
 1614 01de 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1615 01e0 9B00     		lsls	r3, r3, #2
 1616 01e2 1344     		add	r3, r3, r2
 1617 01e4 1B88     		ldrh	r3, [r3]	@ movhi
 1618 01e6 9BB2     		uxth	r3, r3
 1619 01e8 23F4E043 		bic	r3, r3, #28672
 1620 01ec 23F07003 		bic	r3, r3, #112
 1621 01f0 3B83     		strh	r3, [r7, #24]	@ movhi
 1622 01f2 7A68     		ldr	r2, [r7, #4]
 1623 01f4 3B68     		ldr	r3, [r7]
 1624 01f6 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1625 01f8 9B00     		lsls	r3, r3, #2
 1626 01fa 1A44     		add	r2, r2, r3
 1627 01fc 3B8B     		ldrh	r3, [r7, #24]	@ movhi
 1628 01fe 43F07F43 		orr	r3, r3, #-16777216
 1629 0202 43F47F03 		orr	r3, r3, #16711680
 1630 0206 43F40043 		orr	r3, r3, #32768
 1631 020a 43F0C003 		orr	r3, r3, #192
 1632 020e 9BB2     		uxth	r3, r3
 1633 0210 1380     		strh	r3, [r2]	@ movhi
 1634              	.LBE42:
 1635              	.LBB43:
2302:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2303:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       PCD_SET_EP_RX_STATUS(USBx, ep->num, USB_EP_RX_DIS);
 1636              		.loc 1 2303 7
 1637 0212 7A68     		ldr	r2, [r7, #4]
 1638 0214 3B68     		ldr	r3, [r7]
 1639 0216 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1640 0218 9B00     		lsls	r3, r3, #2
 1641 021a 1344     		add	r3, r3, r2
 1642 021c 1B88     		ldrh	r3, [r3]	@ movhi
 1643 021e 9BB2     		uxth	r3, r3
 1644 0220 23F48043 		bic	r3, r3, #16384
 1645 0224 23F07003 		bic	r3, r3, #112
 1646 0228 FB82     		strh	r3, [r7, #22]	@ movhi
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 70


 1647 022a 7A68     		ldr	r2, [r7, #4]
 1648 022c 3B68     		ldr	r3, [r7]
 1649 022e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1650 0230 9B00     		lsls	r3, r3, #2
 1651 0232 1A44     		add	r2, r2, r3
 1652 0234 FB8A     		ldrh	r3, [r7, #22]	@ movhi
 1653 0236 43F07F43 		orr	r3, r3, #-16777216
 1654 023a 43F47F03 		orr	r3, r3, #16711680
 1655 023e 43F40043 		orr	r3, r3, #32768
 1656 0242 43F08003 		orr	r3, r3, #128
 1657 0246 9BB2     		uxth	r3, r3
 1658 0248 1380     		strh	r3, [r2]	@ movhi
 1659              	.LBE43:
 1660              	.LBB44:
2304:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       PCD_SET_EP_TX_STATUS(USBx, ep->num, USB_EP_TX_DIS);
 1661              		.loc 1 2304 7
 1662 024a 7A68     		ldr	r2, [r7, #4]
 1663 024c 3B68     		ldr	r3, [r7]
 1664 024e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1665 0250 9B00     		lsls	r3, r3, #2
 1666 0252 1344     		add	r3, r3, r2
 1667 0254 1B88     		ldrh	r3, [r3]	@ movhi
 1668 0256 9BB2     		uxth	r3, r3
 1669 0258 23F4E043 		bic	r3, r3, #28672
 1670 025c 23F04003 		bic	r3, r3, #64
 1671 0260 BB82     		strh	r3, [r7, #20]	@ movhi
 1672 0262 7A68     		ldr	r2, [r7, #4]
 1673 0264 3B68     		ldr	r3, [r7]
 1674 0266 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1675 0268 9B00     		lsls	r3, r3, #2
 1676 026a 1A44     		add	r2, r2, r3
 1677 026c BB8A     		ldrh	r3, [r7, #20]	@ movhi
 1678 026e 43F07F43 		orr	r3, r3, #-16777216
 1679 0272 43F47F03 		orr	r3, r3, #16711680
 1680 0276 43F40043 		orr	r3, r3, #32768
 1681 027a 43F08003 		orr	r3, r3, #128
 1682 027e 9BB2     		uxth	r3, r3
 1683 0280 1380     		strh	r3, [r2]	@ movhi
 1684              	.LBE44:
 1685 0282 A3E0     		b	.L50
 1686              	.L52:
 1687              	.LBB45:
2305:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
2306:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     else
2307:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
2308:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       /* Clear the data toggle bits for the endpoint IN/OUT*/
2309:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       PCD_CLEAR_RX_DTOG(USBx, ep->num);
 1688              		.loc 1 2309 7
 1689 0284 7A68     		ldr	r2, [r7, #4]
 1690 0286 3B68     		ldr	r3, [r7]
 1691 0288 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1692 028a 9B00     		lsls	r3, r3, #2
 1693 028c 1344     		add	r3, r3, r2
 1694 028e 1B88     		ldrh	r3, [r3]	@ movhi
 1695 0290 FB85     		strh	r3, [r7, #46]	@ movhi
 1696 0292 FB8D     		ldrh	r3, [r7, #46]
 1697 0294 03F48043 		and	r3, r3, #16384
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 71


 1698 0298 002B     		cmp	r3, #0
 1699 029a 1BD0     		beq	.L55
 1700              	.LBB46:
 1701              		.loc 1 2309 7 is_stmt 0 discriminator 1
 1702 029c 7A68     		ldr	r2, [r7, #4]
 1703 029e 3B68     		ldr	r3, [r7]
 1704 02a0 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1705 02a2 9B00     		lsls	r3, r3, #2
 1706 02a4 1344     		add	r3, r3, r2
 1707 02a6 1B88     		ldrh	r3, [r3]	@ movhi
 1708 02a8 9BB2     		uxth	r3, r3
 1709 02aa 23F4E043 		bic	r3, r3, #28672
 1710 02ae 23F07003 		bic	r3, r3, #112
 1711 02b2 BB85     		strh	r3, [r7, #44]	@ movhi
 1712 02b4 7A68     		ldr	r2, [r7, #4]
 1713 02b6 3B68     		ldr	r3, [r7]
 1714 02b8 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1715 02ba 9B00     		lsls	r3, r3, #2
 1716 02bc 1A44     		add	r2, r2, r3
 1717 02be BB8D     		ldrh	r3, [r7, #44]	@ movhi
 1718 02c0 43F07F43 		orr	r3, r3, #-16777216
 1719 02c4 43F47F03 		orr	r3, r3, #16711680
 1720 02c8 43F44043 		orr	r3, r3, #49152
 1721 02cc 43F08003 		orr	r3, r3, #128
 1722 02d0 9BB2     		uxth	r3, r3
 1723 02d2 1380     		strh	r3, [r2]	@ movhi
 1724              	.L55:
 1725              	.LBE46:
 1726              	.LBE45:
 1727              	.LBB47:
2310:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       PCD_CLEAR_TX_DTOG(USBx, ep->num);
 1728              		.loc 1 2310 7 is_stmt 1
 1729 02d4 7A68     		ldr	r2, [r7, #4]
 1730 02d6 3B68     		ldr	r3, [r7]
 1731 02d8 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1732 02da 9B00     		lsls	r3, r3, #2
 1733 02dc 1344     		add	r3, r3, r2
 1734 02de 1B88     		ldrh	r3, [r3]	@ movhi
 1735 02e0 7B85     		strh	r3, [r7, #42]	@ movhi
 1736 02e2 7B8D     		ldrh	r3, [r7, #42]
 1737 02e4 03F04003 		and	r3, r3, #64
 1738 02e8 002B     		cmp	r3, #0
 1739 02ea 1BD0     		beq	.L56
 1740              	.LBB48:
 1741              		.loc 1 2310 7 is_stmt 0 discriminator 1
 1742 02ec 7A68     		ldr	r2, [r7, #4]
 1743 02ee 3B68     		ldr	r3, [r7]
 1744 02f0 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1745 02f2 9B00     		lsls	r3, r3, #2
 1746 02f4 1344     		add	r3, r3, r2
 1747 02f6 1B88     		ldrh	r3, [r3]	@ movhi
 1748 02f8 9BB2     		uxth	r3, r3
 1749 02fa 23F4E043 		bic	r3, r3, #28672
 1750 02fe 23F07003 		bic	r3, r3, #112
 1751 0302 3B85     		strh	r3, [r7, #40]	@ movhi
 1752 0304 7A68     		ldr	r2, [r7, #4]
 1753 0306 3B68     		ldr	r3, [r7]
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 72


 1754 0308 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1755 030a 9B00     		lsls	r3, r3, #2
 1756 030c 1A44     		add	r2, r2, r3
 1757 030e 3B8D     		ldrh	r3, [r7, #40]	@ movhi
 1758 0310 43F07F43 		orr	r3, r3, #-16777216
 1759 0314 43F47F03 		orr	r3, r3, #16711680
 1760 0318 43F40043 		orr	r3, r3, #32768
 1761 031c 43F0C003 		orr	r3, r3, #192
 1762 0320 9BB2     		uxth	r3, r3
 1763 0322 1380     		strh	r3, [r2]	@ movhi
 1764              	.L56:
 1765              	.LBE48:
 1766              	.LBE47:
 1767              	.LBB49:
2311:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       PCD_RX_DTOG(USBx, ep->num);
 1768              		.loc 1 2311 7 is_stmt 1
 1769 0324 7A68     		ldr	r2, [r7, #4]
 1770 0326 3B68     		ldr	r3, [r7]
 1771 0328 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1772 032a 9B00     		lsls	r3, r3, #2
 1773 032c 1344     		add	r3, r3, r2
 1774 032e 1B88     		ldrh	r3, [r3]	@ movhi
 1775 0330 9BB2     		uxth	r3, r3
 1776 0332 23F4E043 		bic	r3, r3, #28672
 1777 0336 23F07003 		bic	r3, r3, #112
 1778 033a FB84     		strh	r3, [r7, #38]	@ movhi
 1779 033c 7A68     		ldr	r2, [r7, #4]
 1780 033e 3B68     		ldr	r3, [r7]
 1781 0340 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1782 0342 9B00     		lsls	r3, r3, #2
 1783 0344 1A44     		add	r2, r2, r3
 1784 0346 FB8C     		ldrh	r3, [r7, #38]	@ movhi
 1785 0348 43F07F43 		orr	r3, r3, #-16777216
 1786 034c 43F47F03 		orr	r3, r3, #16711680
 1787 0350 43F44043 		orr	r3, r3, #49152
 1788 0354 43F08003 		orr	r3, r3, #128
 1789 0358 9BB2     		uxth	r3, r3
 1790 035a 1380     		strh	r3, [r2]	@ movhi
 1791              	.LBE49:
 1792              	.LBB50:
2312:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2313:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       /* Configure DISABLE status for the Endpoint*/
2314:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       PCD_SET_EP_TX_STATUS(USBx, ep->num, USB_EP_TX_DIS);
 1793              		.loc 1 2314 7
 1794 035c 7A68     		ldr	r2, [r7, #4]
 1795 035e 3B68     		ldr	r3, [r7]
 1796 0360 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1797 0362 9B00     		lsls	r3, r3, #2
 1798 0364 1344     		add	r3, r3, r2
 1799 0366 1B88     		ldrh	r3, [r3]	@ movhi
 1800 0368 9BB2     		uxth	r3, r3
 1801 036a 23F4E043 		bic	r3, r3, #28672
 1802 036e 23F04003 		bic	r3, r3, #64
 1803 0372 BB84     		strh	r3, [r7, #36]	@ movhi
 1804 0374 7A68     		ldr	r2, [r7, #4]
 1805 0376 3B68     		ldr	r3, [r7]
 1806 0378 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 73


 1807 037a 9B00     		lsls	r3, r3, #2
 1808 037c 1A44     		add	r2, r2, r3
 1809 037e BB8C     		ldrh	r3, [r7, #36]	@ movhi
 1810 0380 43F07F43 		orr	r3, r3, #-16777216
 1811 0384 43F47F03 		orr	r3, r3, #16711680
 1812 0388 43F40043 		orr	r3, r3, #32768
 1813 038c 43F08003 		orr	r3, r3, #128
 1814 0390 9BB2     		uxth	r3, r3
 1815 0392 1380     		strh	r3, [r2]	@ movhi
 1816              	.LBE50:
 1817              	.LBB51:
2315:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       PCD_SET_EP_RX_STATUS(USBx, ep->num, USB_EP_RX_DIS);
 1818              		.loc 1 2315 7
 1819 0394 7A68     		ldr	r2, [r7, #4]
 1820 0396 3B68     		ldr	r3, [r7]
 1821 0398 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1822 039a 9B00     		lsls	r3, r3, #2
 1823 039c 1344     		add	r3, r3, r2
 1824 039e 1B88     		ldrh	r3, [r3]	@ movhi
 1825 03a0 9BB2     		uxth	r3, r3
 1826 03a2 23F48043 		bic	r3, r3, #16384
 1827 03a6 23F07003 		bic	r3, r3, #112
 1828 03aa 7B84     		strh	r3, [r7, #34]	@ movhi
 1829 03ac 7A68     		ldr	r2, [r7, #4]
 1830 03ae 3B68     		ldr	r3, [r7]
 1831 03b0 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1832 03b2 9B00     		lsls	r3, r3, #2
 1833 03b4 1A44     		add	r2, r2, r3
 1834 03b6 7B8C     		ldrh	r3, [r7, #34]	@ movhi
 1835 03b8 43F07F43 		orr	r3, r3, #-16777216
 1836 03bc 43F47F03 		orr	r3, r3, #16711680
 1837 03c0 43F40043 		orr	r3, r3, #32768
 1838 03c4 43F08003 		orr	r3, r3, #128
 1839 03c8 9BB2     		uxth	r3, r3
 1840 03ca 1380     		strh	r3, [r2]	@ movhi
 1841              	.L50:
 1842              	.LBE51:
2316:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
2317:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
2318:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** #endif /* (USE_USB_DOUBLE_BUFFER == 1U) */
2319:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2320:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 1843              		.loc 1 2320 10
 1844 03cc 0023     		movs	r3, #0
2321:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 1845              		.loc 1 2321 1
 1846 03ce 1846     		mov	r0, r3
 1847 03d0 3437     		adds	r7, r7, #52
 1848              	.LCFI55:
 1849              		.cfi_def_cfa_offset 4
 1850 03d2 BD46     		mov	sp, r7
 1851              	.LCFI56:
 1852              		.cfi_def_cfa_register 13
 1853              		@ sp needed
 1854 03d4 5DF8047B 		ldr	r7, [sp], #4
 1855              	.LCFI57:
 1856              		.cfi_restore 7
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 74


 1857              		.cfi_def_cfa_offset 0
 1858 03d8 7047     		bx	lr
 1859              		.cfi_endproc
 1860              	.LFE300:
 1862              		.section	.text.USB_EPStartXfer,"ax",%progbits
 1863              		.align	1
 1864              		.global	USB_EPStartXfer
 1865              		.syntax unified
 1866              		.thumb
 1867              		.thumb_func
 1868              		.fpu fpv4-sp-d16
 1870              	USB_EPStartXfer:
 1871              	.LFB301:
2322:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2323:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
2324:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_EPStartXfer setup and starts a transfer over an EP
2325:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx Selected device
2326:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
2327:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
2328:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
2329:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_EPStartXfer(USB_TypeDef *USBx, USB_EPTypeDef *ep)
2330:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 1872              		.loc 1 2330 1
 1873              		.cfi_startproc
 1874              		@ args = 0, pretend = 0, frame = 264
 1875              		@ frame_needed = 1, uses_anonymous_args = 0
 1876 0000 80B5     		push	{r7, lr}
 1877              	.LCFI58:
 1878              		.cfi_def_cfa_offset 8
 1879              		.cfi_offset 7, -8
 1880              		.cfi_offset 14, -4
 1881 0002 C2B0     		sub	sp, sp, #264
 1882              	.LCFI59:
 1883              		.cfi_def_cfa_offset 272
 1884 0004 00AF     		add	r7, sp, #0
 1885              	.LCFI60:
 1886              		.cfi_def_cfa_register 7
 1887 0006 3B1D     		adds	r3, r7, #4
 1888 0008 1860     		str	r0, [r3]
 1889 000a 3B46     		mov	r3, r7
 1890 000c 1960     		str	r1, [r3]
2331:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t len;
2332:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** #if (USE_USB_DOUBLE_BUFFER == 1U)
2333:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint16_t pmabuffer;
2334:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint16_t wEPVal;
2335:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** #endif /* (USE_USB_DOUBLE_BUFFER == 1U) */
2336:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2337:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* IN endpoint */
2338:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (ep->is_in == 1U)
 1891              		.loc 1 2338 9
 1892 000e 3B46     		mov	r3, r7
 1893 0010 1B68     		ldr	r3, [r3]
 1894 0012 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 1895              		.loc 1 2338 6
 1896 0014 012B     		cmp	r3, #1
 1897 0016 40F00985 		bne	.L59
2339:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 75


2340:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     /*Multi packet transfer*/
2341:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (ep->xfer_len > ep->maxpacket)
 1898              		.loc 1 2341 11
 1899 001a 3B46     		mov	r3, r7
 1900 001c 1B68     		ldr	r3, [r3]
 1901 001e 9A69     		ldr	r2, [r3, #24]
 1902              		.loc 1 2341 26
 1903 0020 3B46     		mov	r3, r7
 1904 0022 1B68     		ldr	r3, [r3]
 1905 0024 1B69     		ldr	r3, [r3, #16]
 1906              		.loc 1 2341 8
 1907 0026 9A42     		cmp	r2, r3
 1908 0028 05D9     		bls	.L60
2342:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
2343:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       len = ep->maxpacket;
 1909              		.loc 1 2343 11
 1910 002a 3B46     		mov	r3, r7
 1911 002c 1B68     		ldr	r3, [r3]
 1912 002e 1B69     		ldr	r3, [r3, #16]
 1913 0030 C7F80431 		str	r3, [r7, #260]
 1914 0034 04E0     		b	.L61
 1915              	.L60:
2344:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
2345:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     else
2346:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
2347:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       len = ep->xfer_len;
 1916              		.loc 1 2347 11
 1917 0036 3B46     		mov	r3, r7
 1918 0038 1B68     		ldr	r3, [r3]
 1919 003a 9B69     		ldr	r3, [r3, #24]
 1920 003c C7F80431 		str	r3, [r7, #260]
 1921              	.L61:
2348:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
2349:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2350:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     /* configure and validate Tx endpoint */
2351:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (ep->doublebuffer == 0U)
 1922              		.loc 1 2351 11
 1923 0040 3B46     		mov	r3, r7
 1924 0042 1B68     		ldr	r3, [r3]
 1925 0044 1B7B     		ldrb	r3, [r3, #12]	@ zero_extendqisi2
 1926              		.loc 1 2351 8
 1927 0046 002B     		cmp	r3, #0
 1928 0048 28D1     		bne	.L62
2352:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
2353:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USB_WritePMA(USBx, ep->xfer_buff, ep->pmaadress, (uint16_t)len);
 1929              		.loc 1 2353 7
 1930 004a 3B46     		mov	r3, r7
 1931 004c 1B68     		ldr	r3, [r3]
 1932 004e 5969     		ldr	r1, [r3, #20]
 1933 0050 3B46     		mov	r3, r7
 1934 0052 1B68     		ldr	r3, [r3]
 1935 0054 DA88     		ldrh	r2, [r3, #6]
 1936 0056 D7F80431 		ldr	r3, [r7, #260]
 1937 005a 9BB2     		uxth	r3, r3
 1938 005c 381D     		adds	r0, r7, #4
 1939 005e 0068     		ldr	r0, [r0]
 1940 0060 FFF7FEFF 		bl	USB_WritePMA
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 76


 1941              	.LBB52:
2354:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       PCD_SET_EP_TX_CNT(USBx, ep->num, len);
 1942              		.loc 1 2354 7
 1943 0064 3B1D     		adds	r3, r7, #4
 1944 0066 1B68     		ldr	r3, [r3]
 1945 0068 3B61     		str	r3, [r7, #16]
 1946 006a 3B1D     		adds	r3, r7, #4
 1947 006c 1B68     		ldr	r3, [r3]
 1948 006e B3F85030 		ldrh	r3, [r3, #80]	@ movhi
 1949 0072 9BB2     		uxth	r3, r3
 1950 0074 1A46     		mov	r2, r3
 1951 0076 3B69     		ldr	r3, [r7, #16]
 1952 0078 1344     		add	r3, r3, r2
 1953 007a 3B61     		str	r3, [r7, #16]
 1954 007c 3B46     		mov	r3, r7
 1955 007e 1B68     		ldr	r3, [r3]
 1956 0080 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1957 0082 DA00     		lsls	r2, r3, #3
 1958 0084 3B69     		ldr	r3, [r7, #16]
 1959 0086 1344     		add	r3, r3, r2
 1960 0088 03F20243 		addw	r3, r3, #1026
 1961 008c FB60     		str	r3, [r7, #12]
 1962 008e D7F80431 		ldr	r3, [r7, #260]
 1963 0092 9AB2     		uxth	r2, r3
 1964 0094 FB68     		ldr	r3, [r7, #12]
 1965 0096 1A80     		strh	r2, [r3]	@ movhi
 1966              	.LBE52:
 1967 0098 00F09FBC 		b	.L63
 1968              	.L62:
2355:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
2356:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** #if (USE_USB_DOUBLE_BUFFER == 1U)
2357:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     else
2358:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
2359:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       /* double buffer bulk management */
2360:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       if (ep->type == EP_TYPE_BULK)
 1969              		.loc 1 2360 13
 1970 009c 3B46     		mov	r3, r7
 1971 009e 1B68     		ldr	r3, [r3]
 1972 00a0 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 1973              		.loc 1 2360 10
 1974 00a2 022B     		cmp	r3, #2
 1975 00a4 40F04783 		bne	.L64
2361:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
2362:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         if (ep->xfer_len_db > ep->maxpacket)
 1976              		.loc 1 2362 15
 1977 00a8 3B46     		mov	r3, r7
 1978 00aa 1B68     		ldr	r3, [r3]
 1979 00ac 1A6A     		ldr	r2, [r3, #32]
 1980              		.loc 1 2362 33
 1981 00ae 3B46     		mov	r3, r7
 1982 00b0 1B68     		ldr	r3, [r3]
 1983 00b2 1B69     		ldr	r3, [r3, #16]
 1984              		.loc 1 2362 12
 1985 00b4 9A42     		cmp	r2, r3
 1986 00b6 40F2EB82 		bls	.L65
 1987              	.LBB53:
2363:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         {
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 77


2364:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           /* enable double buffer */
2365:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           PCD_SET_BULK_EP_DBUF(USBx, ep->num);
 1988              		.loc 1 2365 11
 1989 00ba 3B1D     		adds	r3, r7, #4
 1990 00bc 1A68     		ldr	r2, [r3]
 1991 00be 3B46     		mov	r3, r7
 1992 00c0 1B68     		ldr	r3, [r3]
 1993 00c2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1994 00c4 9B00     		lsls	r3, r3, #2
 1995 00c6 1344     		add	r3, r3, r2
 1996 00c8 1B88     		ldrh	r3, [r3]	@ movhi
 1997 00ca 9BB2     		uxth	r3, r3
 1998 00cc 23F4E043 		bic	r3, r3, #28672
 1999 00d0 23F07003 		bic	r3, r3, #112
 2000 00d4 A7F85630 		strh	r3, [r7, #86]	@ movhi
 2001 00d8 3B1D     		adds	r3, r7, #4
 2002 00da 1A68     		ldr	r2, [r3]
 2003 00dc 3B46     		mov	r3, r7
 2004 00de 1B68     		ldr	r3, [r3]
 2005 00e0 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2006 00e2 9B00     		lsls	r3, r3, #2
 2007 00e4 1A44     		add	r2, r2, r3
 2008 00e6 B7F85630 		ldrh	r3, [r7, #86]	@ movhi
 2009 00ea 43F07F43 		orr	r3, r3, #-16777216
 2010 00ee 43F47F03 		orr	r3, r3, #16711680
 2011 00f2 43F40143 		orr	r3, r3, #33024
 2012 00f6 43F08003 		orr	r3, r3, #128
 2013 00fa 9BB2     		uxth	r3, r3
 2014 00fc 1380     		strh	r3, [r2]	@ movhi
 2015              	.LBE53:
2366:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2367:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           /* each Time to write in PMA xfer_len_db will */
2368:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           ep->xfer_len_db -= len;
 2016              		.loc 1 2368 27
 2017 00fe 3B46     		mov	r3, r7
 2018 0100 1B68     		ldr	r3, [r3]
 2019 0102 1A6A     		ldr	r2, [r3, #32]
 2020 0104 D7F80431 		ldr	r3, [r7, #260]
 2021 0108 D21A     		subs	r2, r2, r3
 2022 010a 3B46     		mov	r3, r7
 2023 010c 1B68     		ldr	r3, [r3]
 2024 010e 1A62     		str	r2, [r3, #32]
2369:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2370:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           /* Fill the two first buffer in the Buffer0 & Buffer1 */
2371:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           if ((PCD_GET_ENDPOINT(USBx, ep->num) & USB_EP_DTOG_TX) != 0U)
 2025              		.loc 1 2371 16
 2026 0110 3B1D     		adds	r3, r7, #4
 2027 0112 1A68     		ldr	r2, [r3]
 2028 0114 3B46     		mov	r3, r7
 2029 0116 1B68     		ldr	r3, [r3]
 2030 0118 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2031 011a 9B00     		lsls	r3, r3, #2
 2032 011c 1344     		add	r3, r3, r2
 2033 011e 1B88     		ldrh	r3, [r3]	@ movhi
 2034 0120 9BB2     		uxth	r3, r3
 2035              		.loc 1 2371 48
 2036 0122 03F04003 		and	r3, r3, #64
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 78


 2037              		.loc 1 2371 14
 2038 0126 002B     		cmp	r3, #0
 2039 0128 00F05981 		beq	.L66
 2040              	.LBB54:
2372:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           {
2373:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****             /* Set the Double buffer counter for pmabuffer1 */
2374:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****             PCD_SET_EP_DBUF1_CNT(USBx, ep->num, ep->is_in, len);
 2041              		.loc 1 2374 13
 2042 012c 3B1D     		adds	r3, r7, #4
 2043 012e 1B68     		ldr	r3, [r3]
 2044 0130 3B63     		str	r3, [r7, #48]
 2045 0132 3B46     		mov	r3, r7
 2046 0134 1B68     		ldr	r3, [r3]
 2047 0136 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 2048 0138 002B     		cmp	r3, #0
 2049 013a 64D1     		bne	.L67
 2050              	.LBB55:
 2051              		.loc 1 2374 13 is_stmt 0 discriminator 1
 2052 013c 3B1D     		adds	r3, r7, #4
 2053 013e 1B68     		ldr	r3, [r3]
 2054 0140 BB62     		str	r3, [r7, #40]
 2055 0142 3B1D     		adds	r3, r7, #4
 2056 0144 1B68     		ldr	r3, [r3]
 2057 0146 B3F85030 		ldrh	r3, [r3, #80]	@ movhi
 2058 014a 9BB2     		uxth	r3, r3
 2059 014c 1A46     		mov	r2, r3
 2060 014e BB6A     		ldr	r3, [r7, #40]
 2061 0150 1344     		add	r3, r3, r2
 2062 0152 BB62     		str	r3, [r7, #40]
 2063 0154 3B46     		mov	r3, r7
 2064 0156 1B68     		ldr	r3, [r3]
 2065 0158 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2066 015a DA00     		lsls	r2, r3, #3
 2067 015c BB6A     		ldr	r3, [r7, #40]
 2068 015e 1344     		add	r3, r3, r2
 2069 0160 03F20643 		addw	r3, r3, #1030
 2070 0164 7B62     		str	r3, [r7, #36]
 2071              	.LBB56:
 2072 0166 D7F80431 		ldr	r3, [r7, #260]
 2073 016a 3E2B     		cmp	r3, #62
 2074 016c 1CD9     		bls	.L68
 2075              		.loc 1 2374 13 discriminator 3
 2076 016e D7F80431 		ldr	r3, [r7, #260]
 2077 0172 5B09     		lsrs	r3, r3, #5
 2078 0174 C7F80031 		str	r3, [r7, #256]
 2079 0178 D7F80431 		ldr	r3, [r7, #260]
 2080 017c 03F01F03 		and	r3, r3, #31
 2081 0180 002B     		cmp	r3, #0
 2082 0182 04D1     		bne	.L69
 2083              		.loc 1 2374 13 discriminator 5
 2084 0184 D7F80031 		ldr	r3, [r7, #256]
 2085 0188 013B     		subs	r3, r3, #1
 2086 018a C7F80031 		str	r3, [r7, #256]
 2087              	.L69:
 2088              		.loc 1 2374 13 discriminator 7
 2089 018e D7F80031 		ldr	r3, [r7, #256]
 2090 0192 9BB2     		uxth	r3, r3
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 79


 2091 0194 9B02     		lsls	r3, r3, #10
 2092 0196 9BB2     		uxth	r3, r3
 2093 0198 6FEA4343 		mvn	r3, r3, lsl #17
 2094 019c 6FEA5343 		mvn	r3, r3, lsr #17
 2095 01a0 9AB2     		uxth	r2, r3
 2096 01a2 7B6A     		ldr	r3, [r7, #36]
 2097 01a4 1A80     		strh	r2, [r3]	@ movhi
 2098 01a6 4AE0     		b	.L70
 2099              	.L68:
 2100              		.loc 1 2374 13 discriminator 4
 2101 01a8 D7F80431 		ldr	r3, [r7, #260]
 2102 01ac 002B     		cmp	r3, #0
 2103 01ae 12D1     		bne	.L71
 2104              		.loc 1 2374 13 discriminator 8
 2105 01b0 7B6A     		ldr	r3, [r7, #36]
 2106 01b2 1B88     		ldrh	r3, [r3]	@ movhi
 2107 01b4 9BB2     		uxth	r3, r3
 2108 01b6 23F4F843 		bic	r3, r3, #31744
 2109 01ba 9AB2     		uxth	r2, r3
 2110 01bc 7B6A     		ldr	r3, [r7, #36]
 2111 01be 1A80     		strh	r2, [r3]	@ movhi
 2112 01c0 7B6A     		ldr	r3, [r7, #36]
 2113 01c2 1B88     		ldrh	r3, [r3]	@ movhi
 2114 01c4 9BB2     		uxth	r3, r3
 2115 01c6 6FEA4343 		mvn	r3, r3, lsl #17
 2116 01ca 6FEA5343 		mvn	r3, r3, lsr #17
 2117 01ce 9AB2     		uxth	r2, r3
 2118 01d0 7B6A     		ldr	r3, [r7, #36]
 2119 01d2 1A80     		strh	r2, [r3]	@ movhi
 2120 01d4 33E0     		b	.L70
 2121              	.L71:
 2122              		.loc 1 2374 13 discriminator 9
 2123 01d6 D7F80431 		ldr	r3, [r7, #260]
 2124 01da 5B08     		lsrs	r3, r3, #1
 2125 01dc C7F80031 		str	r3, [r7, #256]
 2126 01e0 D7F80431 		ldr	r3, [r7, #260]
 2127 01e4 03F00103 		and	r3, r3, #1
 2128 01e8 002B     		cmp	r3, #0
 2129 01ea 04D0     		beq	.L72
 2130              		.loc 1 2374 13 discriminator 10
 2131 01ec D7F80031 		ldr	r3, [r7, #256]
 2132 01f0 0133     		adds	r3, r3, #1
 2133 01f2 C7F80031 		str	r3, [r7, #256]
 2134              	.L72:
 2135              		.loc 1 2374 13 discriminator 12
 2136 01f6 D7F80031 		ldr	r3, [r7, #256]
 2137 01fa 9BB2     		uxth	r3, r3
 2138 01fc 9B02     		lsls	r3, r3, #10
 2139 01fe 9AB2     		uxth	r2, r3
 2140 0200 7B6A     		ldr	r3, [r7, #36]
 2141 0202 1A80     		strh	r2, [r3]	@ movhi
 2142 0204 1BE0     		b	.L70
 2143              	.L67:
 2144              	.LBE56:
 2145              	.LBE55:
 2146              		.loc 1 2374 13 discriminator 2
 2147 0206 3B46     		mov	r3, r7
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 80


 2148 0208 1B68     		ldr	r3, [r3]
 2149 020a 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 2150 020c 012B     		cmp	r3, #1
 2151 020e 16D1     		bne	.L70
 2152              		.loc 1 2374 13 discriminator 13
 2153 0210 3B1D     		adds	r3, r7, #4
 2154 0212 1B68     		ldr	r3, [r3]
 2155 0214 B3F85030 		ldrh	r3, [r3, #80]	@ movhi
 2156 0218 9BB2     		uxth	r3, r3
 2157 021a 1A46     		mov	r2, r3
 2158 021c 3B6B     		ldr	r3, [r7, #48]
 2159 021e 1344     		add	r3, r3, r2
 2160 0220 3B63     		str	r3, [r7, #48]
 2161 0222 3B46     		mov	r3, r7
 2162 0224 1B68     		ldr	r3, [r3]
 2163 0226 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2164 0228 DA00     		lsls	r2, r3, #3
 2165 022a 3B6B     		ldr	r3, [r7, #48]
 2166 022c 1344     		add	r3, r3, r2
 2167 022e 03F20643 		addw	r3, r3, #1030
 2168 0232 FB62     		str	r3, [r7, #44]
 2169 0234 D7F80431 		ldr	r3, [r7, #260]
 2170 0238 9AB2     		uxth	r2, r3
 2171 023a FB6A     		ldr	r3, [r7, #44]
 2172 023c 1A80     		strh	r2, [r3]	@ movhi
 2173              	.L70:
 2174              	.LBE54:
2375:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****             pmabuffer = ep->pmaaddr1;
 2175              		.loc 1 2375 23 is_stmt 1
 2176 023e 3B46     		mov	r3, r7
 2177 0240 1B68     		ldr	r3, [r3]
 2178 0242 5B89     		ldrh	r3, [r3, #10]	@ movhi
 2179 0244 A7F87630 		strh	r3, [r7, #118]	@ movhi
2376:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2377:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****             /* Write the user buffer to USB PMA */
2378:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****             USB_WritePMA(USBx, ep->xfer_buff, pmabuffer, (uint16_t)len);
 2180              		.loc 1 2378 13
 2181 0248 3B46     		mov	r3, r7
 2182 024a 1B68     		ldr	r3, [r3]
 2183 024c 5969     		ldr	r1, [r3, #20]
 2184 024e D7F80431 		ldr	r3, [r7, #260]
 2185 0252 9BB2     		uxth	r3, r3
 2186 0254 B7F87620 		ldrh	r2, [r7, #118]
 2187 0258 381D     		adds	r0, r7, #4
 2188 025a 0068     		ldr	r0, [r0]
 2189 025c FFF7FEFF 		bl	USB_WritePMA
2379:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****             ep->xfer_buff += len;
 2190              		.loc 1 2379 27
 2191 0260 3B46     		mov	r3, r7
 2192 0262 1B68     		ldr	r3, [r3]
 2193 0264 5A69     		ldr	r2, [r3, #20]
 2194 0266 D7F80431 		ldr	r3, [r7, #260]
 2195 026a 1A44     		add	r2, r2, r3
 2196 026c 3B46     		mov	r3, r7
 2197 026e 1B68     		ldr	r3, [r3]
 2198 0270 5A61     		str	r2, [r3, #20]
2380:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 81


2381:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****             if (ep->xfer_len_db > ep->maxpacket)
 2199              		.loc 1 2381 19
 2200 0272 3B46     		mov	r3, r7
 2201 0274 1B68     		ldr	r3, [r3]
 2202 0276 1A6A     		ldr	r2, [r3, #32]
 2203              		.loc 1 2381 37
 2204 0278 3B46     		mov	r3, r7
 2205 027a 1B68     		ldr	r3, [r3]
 2206 027c 1B69     		ldr	r3, [r3, #16]
 2207              		.loc 1 2381 16
 2208 027e 9A42     		cmp	r2, r3
 2209 0280 09D9     		bls	.L73
2382:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****             {
2383:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****               ep->xfer_len_db -= len;
 2210              		.loc 1 2383 31
 2211 0282 3B46     		mov	r3, r7
 2212 0284 1B68     		ldr	r3, [r3]
 2213 0286 1A6A     		ldr	r2, [r3, #32]
 2214 0288 D7F80431 		ldr	r3, [r7, #260]
 2215 028c D21A     		subs	r2, r2, r3
 2216 028e 3B46     		mov	r3, r7
 2217 0290 1B68     		ldr	r3, [r3]
 2218 0292 1A62     		str	r2, [r3, #32]
 2219 0294 08E0     		b	.L74
 2220              	.L73:
2384:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****             }
2385:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****             else
2386:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****             {
2387:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****               len = ep->xfer_len_db;
 2221              		.loc 1 2387 19
 2222 0296 3B46     		mov	r3, r7
 2223 0298 1B68     		ldr	r3, [r3]
 2224 029a 1B6A     		ldr	r3, [r3, #32]
 2225 029c C7F80431 		str	r3, [r7, #260]
2388:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****               ep->xfer_len_db = 0U;
 2226              		.loc 1 2388 31
 2227 02a0 3B46     		mov	r3, r7
 2228 02a2 1B68     		ldr	r3, [r3]
 2229 02a4 0022     		movs	r2, #0
 2230 02a6 1A62     		str	r2, [r3, #32]
 2231              	.L74:
2389:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****             }
2390:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2391:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****             /* Set the Double buffer counter for pmabuffer0 */
2392:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****             PCD_SET_EP_DBUF0_CNT(USBx, ep->num, ep->is_in, len);
 2232              		.loc 1 2392 13
 2233 02a8 3B46     		mov	r3, r7
 2234 02aa 1B68     		ldr	r3, [r3]
 2235 02ac 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 2236 02ae 002B     		cmp	r3, #0
 2237 02b0 64D1     		bne	.L75
 2238              	.LBB57:
 2239              		.loc 1 2392 13 is_stmt 0 discriminator 1
 2240 02b2 3B1D     		adds	r3, r7, #4
 2241 02b4 1B68     		ldr	r3, [r3]
 2242 02b6 BB61     		str	r3, [r7, #24]
 2243 02b8 3B1D     		adds	r3, r7, #4
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 82


 2244 02ba 1B68     		ldr	r3, [r3]
 2245 02bc B3F85030 		ldrh	r3, [r3, #80]	@ movhi
 2246 02c0 9BB2     		uxth	r3, r3
 2247 02c2 1A46     		mov	r2, r3
 2248 02c4 BB69     		ldr	r3, [r7, #24]
 2249 02c6 1344     		add	r3, r3, r2
 2250 02c8 BB61     		str	r3, [r7, #24]
 2251 02ca 3B46     		mov	r3, r7
 2252 02cc 1B68     		ldr	r3, [r3]
 2253 02ce 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2254 02d0 DA00     		lsls	r2, r3, #3
 2255 02d2 BB69     		ldr	r3, [r7, #24]
 2256 02d4 1344     		add	r3, r3, r2
 2257 02d6 03F20243 		addw	r3, r3, #1026
 2258 02da 7B61     		str	r3, [r7, #20]
 2259              	.LBB58:
 2260 02dc D7F80431 		ldr	r3, [r7, #260]
 2261 02e0 3E2B     		cmp	r3, #62
 2262 02e2 1CD9     		bls	.L76
 2263              		.loc 1 2392 13 discriminator 3
 2264 02e4 D7F80431 		ldr	r3, [r7, #260]
 2265 02e8 5B09     		lsrs	r3, r3, #5
 2266 02ea C7F8FC30 		str	r3, [r7, #252]
 2267 02ee D7F80431 		ldr	r3, [r7, #260]
 2268 02f2 03F01F03 		and	r3, r3, #31
 2269 02f6 002B     		cmp	r3, #0
 2270 02f8 04D1     		bne	.L77
 2271              		.loc 1 2392 13 discriminator 5
 2272 02fa D7F8FC30 		ldr	r3, [r7, #252]
 2273 02fe 013B     		subs	r3, r3, #1
 2274 0300 C7F8FC30 		str	r3, [r7, #252]
 2275              	.L77:
 2276              		.loc 1 2392 13 discriminator 7
 2277 0304 D7F8FC30 		ldr	r3, [r7, #252]
 2278 0308 9BB2     		uxth	r3, r3
 2279 030a 9B02     		lsls	r3, r3, #10
 2280 030c 9BB2     		uxth	r3, r3
 2281 030e 6FEA4343 		mvn	r3, r3, lsl #17
 2282 0312 6FEA5343 		mvn	r3, r3, lsr #17
 2283 0316 9AB2     		uxth	r2, r3
 2284 0318 7B69     		ldr	r3, [r7, #20]
 2285 031a 1A80     		strh	r2, [r3]	@ movhi
 2286 031c 4DE0     		b	.L78
 2287              	.L76:
 2288              		.loc 1 2392 13 discriminator 4
 2289 031e D7F80431 		ldr	r3, [r7, #260]
 2290 0322 002B     		cmp	r3, #0
 2291 0324 12D1     		bne	.L79
 2292              		.loc 1 2392 13 discriminator 8
 2293 0326 7B69     		ldr	r3, [r7, #20]
 2294 0328 1B88     		ldrh	r3, [r3]	@ movhi
 2295 032a 9BB2     		uxth	r3, r3
 2296 032c 23F4F843 		bic	r3, r3, #31744
 2297 0330 9AB2     		uxth	r2, r3
 2298 0332 7B69     		ldr	r3, [r7, #20]
 2299 0334 1A80     		strh	r2, [r3]	@ movhi
 2300 0336 7B69     		ldr	r3, [r7, #20]
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 83


 2301 0338 1B88     		ldrh	r3, [r3]	@ movhi
 2302 033a 9BB2     		uxth	r3, r3
 2303 033c 6FEA4343 		mvn	r3, r3, lsl #17
 2304 0340 6FEA5343 		mvn	r3, r3, lsr #17
 2305 0344 9AB2     		uxth	r2, r3
 2306 0346 7B69     		ldr	r3, [r7, #20]
 2307 0348 1A80     		strh	r2, [r3]	@ movhi
 2308 034a 36E0     		b	.L78
 2309              	.L79:
 2310              		.loc 1 2392 13 discriminator 9
 2311 034c D7F80431 		ldr	r3, [r7, #260]
 2312 0350 5B08     		lsrs	r3, r3, #1
 2313 0352 C7F8FC30 		str	r3, [r7, #252]
 2314 0356 D7F80431 		ldr	r3, [r7, #260]
 2315 035a 03F00103 		and	r3, r3, #1
 2316 035e 002B     		cmp	r3, #0
 2317 0360 04D0     		beq	.L80
 2318              		.loc 1 2392 13 discriminator 10
 2319 0362 D7F8FC30 		ldr	r3, [r7, #252]
 2320 0366 0133     		adds	r3, r3, #1
 2321 0368 C7F8FC30 		str	r3, [r7, #252]
 2322              	.L80:
 2323              		.loc 1 2392 13 discriminator 12
 2324 036c D7F8FC30 		ldr	r3, [r7, #252]
 2325 0370 9BB2     		uxth	r3, r3
 2326 0372 9B02     		lsls	r3, r3, #10
 2327 0374 9AB2     		uxth	r2, r3
 2328 0376 7B69     		ldr	r3, [r7, #20]
 2329 0378 1A80     		strh	r2, [r3]	@ movhi
 2330 037a 1EE0     		b	.L78
 2331              	.L75:
 2332              	.LBE58:
 2333              	.LBE57:
 2334              		.loc 1 2392 13 discriminator 2
 2335 037c 3B46     		mov	r3, r7
 2336 037e 1B68     		ldr	r3, [r3]
 2337 0380 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 2338 0382 012B     		cmp	r3, #1
 2339 0384 19D1     		bne	.L78
 2340              	.LBB59:
 2341              		.loc 1 2392 13 discriminator 13
 2342 0386 3B1D     		adds	r3, r7, #4
 2343 0388 1B68     		ldr	r3, [r3]
 2344 038a 3B62     		str	r3, [r7, #32]
 2345 038c 3B1D     		adds	r3, r7, #4
 2346 038e 1B68     		ldr	r3, [r3]
 2347 0390 B3F85030 		ldrh	r3, [r3, #80]	@ movhi
 2348 0394 9BB2     		uxth	r3, r3
 2349 0396 1A46     		mov	r2, r3
 2350 0398 3B6A     		ldr	r3, [r7, #32]
 2351 039a 1344     		add	r3, r3, r2
 2352 039c 3B62     		str	r3, [r7, #32]
 2353 039e 3B46     		mov	r3, r7
 2354 03a0 1B68     		ldr	r3, [r3]
 2355 03a2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2356 03a4 DA00     		lsls	r2, r3, #3
 2357 03a6 3B6A     		ldr	r3, [r7, #32]
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 84


 2358 03a8 1344     		add	r3, r3, r2
 2359 03aa 03F20243 		addw	r3, r3, #1026
 2360 03ae FB61     		str	r3, [r7, #28]
 2361 03b0 D7F80431 		ldr	r3, [r7, #260]
 2362 03b4 9AB2     		uxth	r2, r3
 2363 03b6 FB69     		ldr	r3, [r7, #28]
 2364 03b8 1A80     		strh	r2, [r3]	@ movhi
 2365              	.L78:
 2366              	.LBE59:
2393:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****             pmabuffer = ep->pmaaddr0;
 2367              		.loc 1 2393 23 is_stmt 1
 2368 03ba 3B46     		mov	r3, r7
 2369 03bc 1B68     		ldr	r3, [r3]
 2370 03be 1B89     		ldrh	r3, [r3, #8]	@ movhi
 2371 03c0 A7F87630 		strh	r3, [r7, #118]	@ movhi
2394:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2395:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****             /* Write the user buffer to USB PMA */
2396:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****             USB_WritePMA(USBx, ep->xfer_buff, pmabuffer, (uint16_t)len);
 2372              		.loc 1 2396 13
 2373 03c4 3B46     		mov	r3, r7
 2374 03c6 1B68     		ldr	r3, [r3]
 2375 03c8 5969     		ldr	r1, [r3, #20]
 2376 03ca D7F80431 		ldr	r3, [r7, #260]
 2377 03ce 9BB2     		uxth	r3, r3
 2378 03d0 B7F87620 		ldrh	r2, [r7, #118]
 2379 03d4 381D     		adds	r0, r7, #4
 2380 03d6 0068     		ldr	r0, [r0]
 2381 03d8 FFF7FEFF 		bl	USB_WritePMA
 2382 03dc FDE2     		b	.L63
 2383              	.L66:
2397:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           }
2398:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           else
2399:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           {
2400:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****             /* Set the Double buffer counter for pmabuffer0 */
2401:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****             PCD_SET_EP_DBUF0_CNT(USBx, ep->num, ep->is_in, len);
 2384              		.loc 1 2401 13
 2385 03de 3B46     		mov	r3, r7
 2386 03e0 1B68     		ldr	r3, [r3]
 2387 03e2 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 2388 03e4 002B     		cmp	r3, #0
 2389 03e6 64D1     		bne	.L81
 2390              	.LBB60:
 2391              		.loc 1 2401 13 is_stmt 0 discriminator 1
 2392 03e8 3B1D     		adds	r3, r7, #4
 2393 03ea 1B68     		ldr	r3, [r3]
 2394 03ec BB64     		str	r3, [r7, #72]
 2395 03ee 3B1D     		adds	r3, r7, #4
 2396 03f0 1B68     		ldr	r3, [r3]
 2397 03f2 B3F85030 		ldrh	r3, [r3, #80]	@ movhi
 2398 03f6 9BB2     		uxth	r3, r3
 2399 03f8 1A46     		mov	r2, r3
 2400 03fa BB6C     		ldr	r3, [r7, #72]
 2401 03fc 1344     		add	r3, r3, r2
 2402 03fe BB64     		str	r3, [r7, #72]
 2403 0400 3B46     		mov	r3, r7
 2404 0402 1B68     		ldr	r3, [r3]
 2405 0404 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 85


 2406 0406 DA00     		lsls	r2, r3, #3
 2407 0408 BB6C     		ldr	r3, [r7, #72]
 2408 040a 1344     		add	r3, r3, r2
 2409 040c 03F20243 		addw	r3, r3, #1026
 2410 0410 7B64     		str	r3, [r7, #68]
 2411              	.LBB61:
 2412 0412 D7F80431 		ldr	r3, [r7, #260]
 2413 0416 3E2B     		cmp	r3, #62
 2414 0418 1CD9     		bls	.L82
 2415              		.loc 1 2401 13 discriminator 3
 2416 041a D7F80431 		ldr	r3, [r7, #260]
 2417 041e 5B09     		lsrs	r3, r3, #5
 2418 0420 C7F8F830 		str	r3, [r7, #248]
 2419 0424 D7F80431 		ldr	r3, [r7, #260]
 2420 0428 03F01F03 		and	r3, r3, #31
 2421 042c 002B     		cmp	r3, #0
 2422 042e 04D1     		bne	.L83
 2423              		.loc 1 2401 13 discriminator 5
 2424 0430 D7F8F830 		ldr	r3, [r7, #248]
 2425 0434 013B     		subs	r3, r3, #1
 2426 0436 C7F8F830 		str	r3, [r7, #248]
 2427              	.L83:
 2428              		.loc 1 2401 13 discriminator 7
 2429 043a D7F8F830 		ldr	r3, [r7, #248]
 2430 043e 9BB2     		uxth	r3, r3
 2431 0440 9B02     		lsls	r3, r3, #10
 2432 0442 9BB2     		uxth	r3, r3
 2433 0444 6FEA4343 		mvn	r3, r3, lsl #17
 2434 0448 6FEA5343 		mvn	r3, r3, lsr #17
 2435 044c 9AB2     		uxth	r2, r3
 2436 044e 7B6C     		ldr	r3, [r7, #68]
 2437 0450 1A80     		strh	r2, [r3]	@ movhi
 2438 0452 4DE0     		b	.L84
 2439              	.L82:
 2440              		.loc 1 2401 13 discriminator 4
 2441 0454 D7F80431 		ldr	r3, [r7, #260]
 2442 0458 002B     		cmp	r3, #0
 2443 045a 12D1     		bne	.L85
 2444              		.loc 1 2401 13 discriminator 8
 2445 045c 7B6C     		ldr	r3, [r7, #68]
 2446 045e 1B88     		ldrh	r3, [r3]	@ movhi
 2447 0460 9BB2     		uxth	r3, r3
 2448 0462 23F4F843 		bic	r3, r3, #31744
 2449 0466 9AB2     		uxth	r2, r3
 2450 0468 7B6C     		ldr	r3, [r7, #68]
 2451 046a 1A80     		strh	r2, [r3]	@ movhi
 2452 046c 7B6C     		ldr	r3, [r7, #68]
 2453 046e 1B88     		ldrh	r3, [r3]	@ movhi
 2454 0470 9BB2     		uxth	r3, r3
 2455 0472 6FEA4343 		mvn	r3, r3, lsl #17
 2456 0476 6FEA5343 		mvn	r3, r3, lsr #17
 2457 047a 9AB2     		uxth	r2, r3
 2458 047c 7B6C     		ldr	r3, [r7, #68]
 2459 047e 1A80     		strh	r2, [r3]	@ movhi
 2460 0480 36E0     		b	.L84
 2461              	.L85:
 2462              		.loc 1 2401 13 discriminator 9
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 86


 2463 0482 D7F80431 		ldr	r3, [r7, #260]
 2464 0486 5B08     		lsrs	r3, r3, #1
 2465 0488 C7F8F830 		str	r3, [r7, #248]
 2466 048c D7F80431 		ldr	r3, [r7, #260]
 2467 0490 03F00103 		and	r3, r3, #1
 2468 0494 002B     		cmp	r3, #0
 2469 0496 04D0     		beq	.L86
 2470              		.loc 1 2401 13 discriminator 10
 2471 0498 D7F8F830 		ldr	r3, [r7, #248]
 2472 049c 0133     		adds	r3, r3, #1
 2473 049e C7F8F830 		str	r3, [r7, #248]
 2474              	.L86:
 2475              		.loc 1 2401 13 discriminator 12
 2476 04a2 D7F8F830 		ldr	r3, [r7, #248]
 2477 04a6 9BB2     		uxth	r3, r3
 2478 04a8 9B02     		lsls	r3, r3, #10
 2479 04aa 9AB2     		uxth	r2, r3
 2480 04ac 7B6C     		ldr	r3, [r7, #68]
 2481 04ae 1A80     		strh	r2, [r3]	@ movhi
 2482 04b0 1EE0     		b	.L84
 2483              	.L81:
 2484              	.LBE61:
 2485              	.LBE60:
 2486              		.loc 1 2401 13 discriminator 2
 2487 04b2 3B46     		mov	r3, r7
 2488 04b4 1B68     		ldr	r3, [r3]
 2489 04b6 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 2490 04b8 012B     		cmp	r3, #1
 2491 04ba 19D1     		bne	.L84
 2492              	.LBB62:
 2493              		.loc 1 2401 13 discriminator 13
 2494 04bc 3B1D     		adds	r3, r7, #4
 2495 04be 1B68     		ldr	r3, [r3]
 2496 04c0 3B65     		str	r3, [r7, #80]
 2497 04c2 3B1D     		adds	r3, r7, #4
 2498 04c4 1B68     		ldr	r3, [r3]
 2499 04c6 B3F85030 		ldrh	r3, [r3, #80]	@ movhi
 2500 04ca 9BB2     		uxth	r3, r3
 2501 04cc 1A46     		mov	r2, r3
 2502 04ce 3B6D     		ldr	r3, [r7, #80]
 2503 04d0 1344     		add	r3, r3, r2
 2504 04d2 3B65     		str	r3, [r7, #80]
 2505 04d4 3B46     		mov	r3, r7
 2506 04d6 1B68     		ldr	r3, [r3]
 2507 04d8 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2508 04da DA00     		lsls	r2, r3, #3
 2509 04dc 3B6D     		ldr	r3, [r7, #80]
 2510 04de 1344     		add	r3, r3, r2
 2511 04e0 03F20243 		addw	r3, r3, #1026
 2512 04e4 FB64     		str	r3, [r7, #76]
 2513 04e6 D7F80431 		ldr	r3, [r7, #260]
 2514 04ea 9AB2     		uxth	r2, r3
 2515 04ec FB6C     		ldr	r3, [r7, #76]
 2516 04ee 1A80     		strh	r2, [r3]	@ movhi
 2517              	.L84:
 2518              	.LBE62:
2402:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****             pmabuffer = ep->pmaaddr0;
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 87


 2519              		.loc 1 2402 23 is_stmt 1
 2520 04f0 3B46     		mov	r3, r7
 2521 04f2 1B68     		ldr	r3, [r3]
 2522 04f4 1B89     		ldrh	r3, [r3, #8]	@ movhi
 2523 04f6 A7F87630 		strh	r3, [r7, #118]	@ movhi
2403:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2404:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****             /* Write the user buffer to USB PMA */
2405:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****             USB_WritePMA(USBx, ep->xfer_buff, pmabuffer, (uint16_t)len);
 2524              		.loc 1 2405 13
 2525 04fa 3B46     		mov	r3, r7
 2526 04fc 1B68     		ldr	r3, [r3]
 2527 04fe 5969     		ldr	r1, [r3, #20]
 2528 0500 D7F80431 		ldr	r3, [r7, #260]
 2529 0504 9BB2     		uxth	r3, r3
 2530 0506 B7F87620 		ldrh	r2, [r7, #118]
 2531 050a 381D     		adds	r0, r7, #4
 2532 050c 0068     		ldr	r0, [r0]
 2533 050e FFF7FEFF 		bl	USB_WritePMA
2406:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****             ep->xfer_buff += len;
 2534              		.loc 1 2406 27
 2535 0512 3B46     		mov	r3, r7
 2536 0514 1B68     		ldr	r3, [r3]
 2537 0516 5A69     		ldr	r2, [r3, #20]
 2538 0518 D7F80431 		ldr	r3, [r7, #260]
 2539 051c 1A44     		add	r2, r2, r3
 2540 051e 3B46     		mov	r3, r7
 2541 0520 1B68     		ldr	r3, [r3]
 2542 0522 5A61     		str	r2, [r3, #20]
2407:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2408:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****             if (ep->xfer_len_db > ep->maxpacket)
 2543              		.loc 1 2408 19
 2544 0524 3B46     		mov	r3, r7
 2545 0526 1B68     		ldr	r3, [r3]
 2546 0528 1A6A     		ldr	r2, [r3, #32]
 2547              		.loc 1 2408 37
 2548 052a 3B46     		mov	r3, r7
 2549 052c 1B68     		ldr	r3, [r3]
 2550 052e 1B69     		ldr	r3, [r3, #16]
 2551              		.loc 1 2408 16
 2552 0530 9A42     		cmp	r2, r3
 2553 0532 09D9     		bls	.L87
2409:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****             {
2410:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****               ep->xfer_len_db -= len;
 2554              		.loc 1 2410 31
 2555 0534 3B46     		mov	r3, r7
 2556 0536 1B68     		ldr	r3, [r3]
 2557 0538 1A6A     		ldr	r2, [r3, #32]
 2558 053a D7F80431 		ldr	r3, [r7, #260]
 2559 053e D21A     		subs	r2, r2, r3
 2560 0540 3B46     		mov	r3, r7
 2561 0542 1B68     		ldr	r3, [r3]
 2562 0544 1A62     		str	r2, [r3, #32]
 2563 0546 08E0     		b	.L88
 2564              	.L87:
2411:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****             }
2412:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****             else
2413:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****             {
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 88


2414:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****               len = ep->xfer_len_db;
 2565              		.loc 1 2414 19
 2566 0548 3B46     		mov	r3, r7
 2567 054a 1B68     		ldr	r3, [r3]
 2568 054c 1B6A     		ldr	r3, [r3, #32]
 2569 054e C7F80431 		str	r3, [r7, #260]
2415:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****               ep->xfer_len_db = 0U;
 2570              		.loc 1 2415 31
 2571 0552 3B46     		mov	r3, r7
 2572 0554 1B68     		ldr	r3, [r3]
 2573 0556 0022     		movs	r2, #0
 2574 0558 1A62     		str	r2, [r3, #32]
 2575              	.L88:
 2576              	.LBB63:
2416:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****             }
2417:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2418:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****             /* Set the Double buffer counter for pmabuffer1 */
2419:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****             PCD_SET_EP_DBUF1_CNT(USBx, ep->num, ep->is_in, len);
 2577              		.loc 1 2419 13
 2578 055a 3B1D     		adds	r3, r7, #4
 2579 055c 1B68     		ldr	r3, [r3]
 2580 055e 3B64     		str	r3, [r7, #64]
 2581 0560 3B46     		mov	r3, r7
 2582 0562 1B68     		ldr	r3, [r3]
 2583 0564 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 2584 0566 002B     		cmp	r3, #0
 2585 0568 64D1     		bne	.L89
 2586              	.LBB64:
 2587              		.loc 1 2419 13 is_stmt 0 discriminator 1
 2588 056a 3B1D     		adds	r3, r7, #4
 2589 056c 1B68     		ldr	r3, [r3]
 2590 056e BB63     		str	r3, [r7, #56]
 2591 0570 3B1D     		adds	r3, r7, #4
 2592 0572 1B68     		ldr	r3, [r3]
 2593 0574 B3F85030 		ldrh	r3, [r3, #80]	@ movhi
 2594 0578 9BB2     		uxth	r3, r3
 2595 057a 1A46     		mov	r2, r3
 2596 057c BB6B     		ldr	r3, [r7, #56]
 2597 057e 1344     		add	r3, r3, r2
 2598 0580 BB63     		str	r3, [r7, #56]
 2599 0582 3B46     		mov	r3, r7
 2600 0584 1B68     		ldr	r3, [r3]
 2601 0586 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2602 0588 DA00     		lsls	r2, r3, #3
 2603 058a BB6B     		ldr	r3, [r7, #56]
 2604 058c 1344     		add	r3, r3, r2
 2605 058e 03F20643 		addw	r3, r3, #1030
 2606 0592 7B63     		str	r3, [r7, #52]
 2607              	.LBB65:
 2608 0594 D7F80431 		ldr	r3, [r7, #260]
 2609 0598 3E2B     		cmp	r3, #62
 2610 059a 1CD9     		bls	.L90
 2611              		.loc 1 2419 13 discriminator 3
 2612 059c D7F80431 		ldr	r3, [r7, #260]
 2613 05a0 5B09     		lsrs	r3, r3, #5
 2614 05a2 C7F8F430 		str	r3, [r7, #244]
 2615 05a6 D7F80431 		ldr	r3, [r7, #260]
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 89


 2616 05aa 03F01F03 		and	r3, r3, #31
 2617 05ae 002B     		cmp	r3, #0
 2618 05b0 04D1     		bne	.L91
 2619              		.loc 1 2419 13 discriminator 5
 2620 05b2 D7F8F430 		ldr	r3, [r7, #244]
 2621 05b6 013B     		subs	r3, r3, #1
 2622 05b8 C7F8F430 		str	r3, [r7, #244]
 2623              	.L91:
 2624              		.loc 1 2419 13 discriminator 7
 2625 05bc D7F8F430 		ldr	r3, [r7, #244]
 2626 05c0 9BB2     		uxth	r3, r3
 2627 05c2 9B02     		lsls	r3, r3, #10
 2628 05c4 9BB2     		uxth	r3, r3
 2629 05c6 6FEA4343 		mvn	r3, r3, lsl #17
 2630 05ca 6FEA5343 		mvn	r3, r3, lsr #17
 2631 05ce 9AB2     		uxth	r2, r3
 2632 05d0 7B6B     		ldr	r3, [r7, #52]
 2633 05d2 1A80     		strh	r2, [r3]	@ movhi
 2634 05d4 4AE0     		b	.L92
 2635              	.L90:
 2636              		.loc 1 2419 13 discriminator 4
 2637 05d6 D7F80431 		ldr	r3, [r7, #260]
 2638 05da 002B     		cmp	r3, #0
 2639 05dc 12D1     		bne	.L93
 2640              		.loc 1 2419 13 discriminator 8
 2641 05de 7B6B     		ldr	r3, [r7, #52]
 2642 05e0 1B88     		ldrh	r3, [r3]	@ movhi
 2643 05e2 9BB2     		uxth	r3, r3
 2644 05e4 23F4F843 		bic	r3, r3, #31744
 2645 05e8 9AB2     		uxth	r2, r3
 2646 05ea 7B6B     		ldr	r3, [r7, #52]
 2647 05ec 1A80     		strh	r2, [r3]	@ movhi
 2648 05ee 7B6B     		ldr	r3, [r7, #52]
 2649 05f0 1B88     		ldrh	r3, [r3]	@ movhi
 2650 05f2 9BB2     		uxth	r3, r3
 2651 05f4 6FEA4343 		mvn	r3, r3, lsl #17
 2652 05f8 6FEA5343 		mvn	r3, r3, lsr #17
 2653 05fc 9AB2     		uxth	r2, r3
 2654 05fe 7B6B     		ldr	r3, [r7, #52]
 2655 0600 1A80     		strh	r2, [r3]	@ movhi
 2656 0602 33E0     		b	.L92
 2657              	.L93:
 2658              		.loc 1 2419 13 discriminator 9
 2659 0604 D7F80431 		ldr	r3, [r7, #260]
 2660 0608 5B08     		lsrs	r3, r3, #1
 2661 060a C7F8F430 		str	r3, [r7, #244]
 2662 060e D7F80431 		ldr	r3, [r7, #260]
 2663 0612 03F00103 		and	r3, r3, #1
 2664 0616 002B     		cmp	r3, #0
 2665 0618 04D0     		beq	.L94
 2666              		.loc 1 2419 13 discriminator 10
 2667 061a D7F8F430 		ldr	r3, [r7, #244]
 2668 061e 0133     		adds	r3, r3, #1
 2669 0620 C7F8F430 		str	r3, [r7, #244]
 2670              	.L94:
 2671              		.loc 1 2419 13 discriminator 12
 2672 0624 D7F8F430 		ldr	r3, [r7, #244]
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 90


 2673 0628 9BB2     		uxth	r3, r3
 2674 062a 9B02     		lsls	r3, r3, #10
 2675 062c 9AB2     		uxth	r2, r3
 2676 062e 7B6B     		ldr	r3, [r7, #52]
 2677 0630 1A80     		strh	r2, [r3]	@ movhi
 2678 0632 1BE0     		b	.L92
 2679              	.L89:
 2680              	.LBE65:
 2681              	.LBE64:
 2682              		.loc 1 2419 13 discriminator 2
 2683 0634 3B46     		mov	r3, r7
 2684 0636 1B68     		ldr	r3, [r3]
 2685 0638 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 2686 063a 012B     		cmp	r3, #1
 2687 063c 16D1     		bne	.L92
 2688              		.loc 1 2419 13 discriminator 13
 2689 063e 3B1D     		adds	r3, r7, #4
 2690 0640 1B68     		ldr	r3, [r3]
 2691 0642 B3F85030 		ldrh	r3, [r3, #80]	@ movhi
 2692 0646 9BB2     		uxth	r3, r3
 2693 0648 1A46     		mov	r2, r3
 2694 064a 3B6C     		ldr	r3, [r7, #64]
 2695 064c 1344     		add	r3, r3, r2
 2696 064e 3B64     		str	r3, [r7, #64]
 2697 0650 3B46     		mov	r3, r7
 2698 0652 1B68     		ldr	r3, [r3]
 2699 0654 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2700 0656 DA00     		lsls	r2, r3, #3
 2701 0658 3B6C     		ldr	r3, [r7, #64]
 2702 065a 1344     		add	r3, r3, r2
 2703 065c 03F20643 		addw	r3, r3, #1030
 2704 0660 FB63     		str	r3, [r7, #60]
 2705 0662 D7F80431 		ldr	r3, [r7, #260]
 2706 0666 9AB2     		uxth	r2, r3
 2707 0668 FB6B     		ldr	r3, [r7, #60]
 2708 066a 1A80     		strh	r2, [r3]	@ movhi
 2709              	.L92:
 2710              	.LBE63:
2420:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****             pmabuffer = ep->pmaaddr1;
 2711              		.loc 1 2420 23 is_stmt 1
 2712 066c 3B46     		mov	r3, r7
 2713 066e 1B68     		ldr	r3, [r3]
 2714 0670 5B89     		ldrh	r3, [r3, #10]	@ movhi
 2715 0672 A7F87630 		strh	r3, [r7, #118]	@ movhi
2421:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2422:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****             /* Write the user buffer to USB PMA */
2423:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****             USB_WritePMA(USBx, ep->xfer_buff, pmabuffer, (uint16_t)len);
 2716              		.loc 1 2423 13
 2717 0676 3B46     		mov	r3, r7
 2718 0678 1B68     		ldr	r3, [r3]
 2719 067a 5969     		ldr	r1, [r3, #20]
 2720 067c D7F80431 		ldr	r3, [r7, #260]
 2721 0680 9BB2     		uxth	r3, r3
 2722 0682 B7F87620 		ldrh	r2, [r7, #118]
 2723 0686 381D     		adds	r0, r7, #4
 2724 0688 0068     		ldr	r0, [r0]
 2725 068a FFF7FEFF 		bl	USB_WritePMA
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 91


 2726 068e A4E1     		b	.L63
 2727              	.L65:
2424:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           }
2425:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         }
2426:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         /* auto Switch to single buffer mode when transfer <Mps no need to manage in double buffer 
2427:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         else
2428:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         {
2429:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           len = ep->xfer_len_db;
 2728              		.loc 1 2429 15
 2729 0690 3B46     		mov	r3, r7
 2730 0692 1B68     		ldr	r3, [r3]
 2731 0694 1B6A     		ldr	r3, [r3, #32]
 2732 0696 C7F80431 		str	r3, [r7, #260]
 2733              	.LBB66:
2430:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2431:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           /* disable double buffer mode for Bulk endpoint */
2432:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           PCD_CLEAR_BULK_EP_DBUF(USBx, ep->num);
 2734              		.loc 1 2432 11
 2735 069a 3B1D     		adds	r3, r7, #4
 2736 069c 1A68     		ldr	r2, [r3]
 2737 069e 3B46     		mov	r3, r7
 2738 06a0 1B68     		ldr	r3, [r3]
 2739 06a2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2740 06a4 9B00     		lsls	r3, r3, #2
 2741 06a6 1344     		add	r3, r3, r2
 2742 06a8 1B88     		ldrh	r3, [r3]	@ movhi
 2743 06aa 9BB2     		uxth	r3, r3
 2744 06ac 23F4E243 		bic	r3, r3, #28928
 2745 06b0 23F07003 		bic	r3, r3, #112
 2746 06b4 A7F86230 		strh	r3, [r7, #98]	@ movhi
 2747 06b8 3B1D     		adds	r3, r7, #4
 2748 06ba 1A68     		ldr	r2, [r3]
 2749 06bc 3B46     		mov	r3, r7
 2750 06be 1B68     		ldr	r3, [r3]
 2751 06c0 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2752 06c2 9B00     		lsls	r3, r3, #2
 2753 06c4 1A44     		add	r2, r2, r3
 2754 06c6 B7F86230 		ldrh	r3, [r7, #98]	@ movhi
 2755 06ca 43F07F43 		orr	r3, r3, #-16777216
 2756 06ce 43F47F03 		orr	r3, r3, #16711680
 2757 06d2 43F40043 		orr	r3, r3, #32768
 2758 06d6 43F08003 		orr	r3, r3, #128
 2759 06da 9BB2     		uxth	r3, r3
 2760 06dc 1380     		strh	r3, [r2]	@ movhi
 2761              	.LBE66:
 2762              	.LBB67:
2433:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2434:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           /* Set Tx count with nbre of byte to be transmitted */
2435:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           PCD_SET_EP_TX_CNT(USBx, ep->num, len);
 2763              		.loc 1 2435 11
 2764 06de 3B1D     		adds	r3, r7, #4
 2765 06e0 1B68     		ldr	r3, [r3]
 2766 06e2 FB65     		str	r3, [r7, #92]
 2767 06e4 3B1D     		adds	r3, r7, #4
 2768 06e6 1B68     		ldr	r3, [r3]
 2769 06e8 B3F85030 		ldrh	r3, [r3, #80]	@ movhi
 2770 06ec 9BB2     		uxth	r3, r3
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 92


 2771 06ee 1A46     		mov	r2, r3
 2772 06f0 FB6D     		ldr	r3, [r7, #92]
 2773 06f2 1344     		add	r3, r3, r2
 2774 06f4 FB65     		str	r3, [r7, #92]
 2775 06f6 3B46     		mov	r3, r7
 2776 06f8 1B68     		ldr	r3, [r3]
 2777 06fa 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2778 06fc DA00     		lsls	r2, r3, #3
 2779 06fe FB6D     		ldr	r3, [r7, #92]
 2780 0700 1344     		add	r3, r3, r2
 2781 0702 03F20243 		addw	r3, r3, #1026
 2782 0706 BB65     		str	r3, [r7, #88]
 2783 0708 D7F80431 		ldr	r3, [r7, #260]
 2784 070c 9AB2     		uxth	r2, r3
 2785 070e BB6D     		ldr	r3, [r7, #88]
 2786 0710 1A80     		strh	r2, [r3]	@ movhi
 2787              	.LBE67:
2436:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           pmabuffer = ep->pmaaddr0;
 2788              		.loc 1 2436 21
 2789 0712 3B46     		mov	r3, r7
 2790 0714 1B68     		ldr	r3, [r3]
 2791 0716 1B89     		ldrh	r3, [r3, #8]	@ movhi
 2792 0718 A7F87630 		strh	r3, [r7, #118]	@ movhi
2437:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2438:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           /* Write the user buffer to USB PMA */
2439:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           USB_WritePMA(USBx, ep->xfer_buff, pmabuffer, (uint16_t)len);
 2793              		.loc 1 2439 11
 2794 071c 3B46     		mov	r3, r7
 2795 071e 1B68     		ldr	r3, [r3]
 2796 0720 5969     		ldr	r1, [r3, #20]
 2797 0722 D7F80431 		ldr	r3, [r7, #260]
 2798 0726 9BB2     		uxth	r3, r3
 2799 0728 B7F87620 		ldrh	r2, [r7, #118]
 2800 072c 381D     		adds	r0, r7, #4
 2801 072e 0068     		ldr	r0, [r0]
 2802 0730 FFF7FEFF 		bl	USB_WritePMA
 2803 0734 51E1     		b	.L63
 2804              	.L64:
2440:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         }
2441:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
2442:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       else /* manage isochronous double buffer IN mode */
2443:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
2444:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         /* each Time to write in PMA xfer_len_db will */
2445:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         ep->xfer_len_db -= len;
 2805              		.loc 1 2445 25
 2806 0736 3B46     		mov	r3, r7
 2807 0738 1B68     		ldr	r3, [r3]
 2808 073a 1A6A     		ldr	r2, [r3, #32]
 2809 073c D7F80431 		ldr	r3, [r7, #260]
 2810 0740 D21A     		subs	r2, r2, r3
 2811 0742 3B46     		mov	r3, r7
 2812 0744 1B68     		ldr	r3, [r3]
 2813 0746 1A62     		str	r2, [r3, #32]
2446:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2447:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         /* Fill the data buffer */
2448:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         if ((PCD_GET_ENDPOINT(USBx, ep->num) & USB_EP_DTOG_TX) != 0U)
 2814              		.loc 1 2448 14
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 93


 2815 0748 3B1D     		adds	r3, r7, #4
 2816 074a 1A68     		ldr	r2, [r3]
 2817 074c 3B46     		mov	r3, r7
 2818 074e 1B68     		ldr	r3, [r3]
 2819 0750 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2820 0752 9B00     		lsls	r3, r3, #2
 2821 0754 1344     		add	r3, r3, r2
 2822 0756 1B88     		ldrh	r3, [r3]	@ movhi
 2823 0758 9BB2     		uxth	r3, r3
 2824              		.loc 1 2448 46
 2825 075a 03F04003 		and	r3, r3, #64
 2826              		.loc 1 2448 12
 2827 075e 002B     		cmp	r3, #0
 2828 0760 00F09B80 		beq	.L95
 2829              	.LBB68:
2449:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         {
2450:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           /* Set the Double buffer counter for pmabuffer1 */
2451:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           PCD_SET_EP_DBUF1_CNT(USBx, ep->num, ep->is_in, len);
 2830              		.loc 1 2451 11
 2831 0764 3B1D     		adds	r3, r7, #4
 2832 0766 1B68     		ldr	r3, [r3]
 2833 0768 3B67     		str	r3, [r7, #112]
 2834 076a 3B46     		mov	r3, r7
 2835 076c 1B68     		ldr	r3, [r3]
 2836 076e 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 2837 0770 002B     		cmp	r3, #0
 2838 0772 64D1     		bne	.L96
 2839              	.LBB69:
 2840              		.loc 1 2451 11 is_stmt 0 discriminator 1
 2841 0774 3B1D     		adds	r3, r7, #4
 2842 0776 1B68     		ldr	r3, [r3]
 2843 0778 BB66     		str	r3, [r7, #104]
 2844 077a 3B1D     		adds	r3, r7, #4
 2845 077c 1B68     		ldr	r3, [r3]
 2846 077e B3F85030 		ldrh	r3, [r3, #80]	@ movhi
 2847 0782 9BB2     		uxth	r3, r3
 2848 0784 1A46     		mov	r2, r3
 2849 0786 BB6E     		ldr	r3, [r7, #104]
 2850 0788 1344     		add	r3, r3, r2
 2851 078a BB66     		str	r3, [r7, #104]
 2852 078c 3B46     		mov	r3, r7
 2853 078e 1B68     		ldr	r3, [r3]
 2854 0790 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2855 0792 DA00     		lsls	r2, r3, #3
 2856 0794 BB6E     		ldr	r3, [r7, #104]
 2857 0796 1344     		add	r3, r3, r2
 2858 0798 03F20643 		addw	r3, r3, #1030
 2859 079c 7B66     		str	r3, [r7, #100]
 2860              	.LBB70:
 2861 079e D7F80431 		ldr	r3, [r7, #260]
 2862 07a2 3E2B     		cmp	r3, #62
 2863 07a4 1CD9     		bls	.L97
 2864              		.loc 1 2451 11 discriminator 3
 2865 07a6 D7F80431 		ldr	r3, [r7, #260]
 2866 07aa 5B09     		lsrs	r3, r3, #5
 2867 07ac C7F8F030 		str	r3, [r7, #240]
 2868 07b0 D7F80431 		ldr	r3, [r7, #260]
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 94


 2869 07b4 03F01F03 		and	r3, r3, #31
 2870 07b8 002B     		cmp	r3, #0
 2871 07ba 04D1     		bne	.L98
 2872              		.loc 1 2451 11 discriminator 5
 2873 07bc D7F8F030 		ldr	r3, [r7, #240]
 2874 07c0 013B     		subs	r3, r3, #1
 2875 07c2 C7F8F030 		str	r3, [r7, #240]
 2876              	.L98:
 2877              		.loc 1 2451 11 discriminator 7
 2878 07c6 D7F8F030 		ldr	r3, [r7, #240]
 2879 07ca 9BB2     		uxth	r3, r3
 2880 07cc 9B02     		lsls	r3, r3, #10
 2881 07ce 9BB2     		uxth	r3, r3
 2882 07d0 6FEA4343 		mvn	r3, r3, lsl #17
 2883 07d4 6FEA5343 		mvn	r3, r3, lsr #17
 2884 07d8 9AB2     		uxth	r2, r3
 2885 07da 7B6E     		ldr	r3, [r7, #100]
 2886 07dc 1A80     		strh	r2, [r3]	@ movhi
 2887 07de 4AE0     		b	.L99
 2888              	.L97:
 2889              		.loc 1 2451 11 discriminator 4
 2890 07e0 D7F80431 		ldr	r3, [r7, #260]
 2891 07e4 002B     		cmp	r3, #0
 2892 07e6 12D1     		bne	.L100
 2893              		.loc 1 2451 11 discriminator 8
 2894 07e8 7B6E     		ldr	r3, [r7, #100]
 2895 07ea 1B88     		ldrh	r3, [r3]	@ movhi
 2896 07ec 9BB2     		uxth	r3, r3
 2897 07ee 23F4F843 		bic	r3, r3, #31744
 2898 07f2 9AB2     		uxth	r2, r3
 2899 07f4 7B6E     		ldr	r3, [r7, #100]
 2900 07f6 1A80     		strh	r2, [r3]	@ movhi
 2901 07f8 7B6E     		ldr	r3, [r7, #100]
 2902 07fa 1B88     		ldrh	r3, [r3]	@ movhi
 2903 07fc 9BB2     		uxth	r3, r3
 2904 07fe 6FEA4343 		mvn	r3, r3, lsl #17
 2905 0802 6FEA5343 		mvn	r3, r3, lsr #17
 2906 0806 9AB2     		uxth	r2, r3
 2907 0808 7B6E     		ldr	r3, [r7, #100]
 2908 080a 1A80     		strh	r2, [r3]	@ movhi
 2909 080c 33E0     		b	.L99
 2910              	.L100:
 2911              		.loc 1 2451 11 discriminator 9
 2912 080e D7F80431 		ldr	r3, [r7, #260]
 2913 0812 5B08     		lsrs	r3, r3, #1
 2914 0814 C7F8F030 		str	r3, [r7, #240]
 2915 0818 D7F80431 		ldr	r3, [r7, #260]
 2916 081c 03F00103 		and	r3, r3, #1
 2917 0820 002B     		cmp	r3, #0
 2918 0822 04D0     		beq	.L101
 2919              		.loc 1 2451 11 discriminator 10
 2920 0824 D7F8F030 		ldr	r3, [r7, #240]
 2921 0828 0133     		adds	r3, r3, #1
 2922 082a C7F8F030 		str	r3, [r7, #240]
 2923              	.L101:
 2924              		.loc 1 2451 11 discriminator 12
 2925 082e D7F8F030 		ldr	r3, [r7, #240]
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 95


 2926 0832 9BB2     		uxth	r3, r3
 2927 0834 9B02     		lsls	r3, r3, #10
 2928 0836 9AB2     		uxth	r2, r3
 2929 0838 7B6E     		ldr	r3, [r7, #100]
 2930 083a 1A80     		strh	r2, [r3]	@ movhi
 2931 083c 1BE0     		b	.L99
 2932              	.L96:
 2933              	.LBE70:
 2934              	.LBE69:
 2935              		.loc 1 2451 11 discriminator 2
 2936 083e 3B46     		mov	r3, r7
 2937 0840 1B68     		ldr	r3, [r3]
 2938 0842 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 2939 0844 012B     		cmp	r3, #1
 2940 0846 16D1     		bne	.L99
 2941              		.loc 1 2451 11 discriminator 13
 2942 0848 3B1D     		adds	r3, r7, #4
 2943 084a 1B68     		ldr	r3, [r3]
 2944 084c B3F85030 		ldrh	r3, [r3, #80]	@ movhi
 2945 0850 9BB2     		uxth	r3, r3
 2946 0852 1A46     		mov	r2, r3
 2947 0854 3B6F     		ldr	r3, [r7, #112]
 2948 0856 1344     		add	r3, r3, r2
 2949 0858 3B67     		str	r3, [r7, #112]
 2950 085a 3B46     		mov	r3, r7
 2951 085c 1B68     		ldr	r3, [r3]
 2952 085e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2953 0860 DA00     		lsls	r2, r3, #3
 2954 0862 3B6F     		ldr	r3, [r7, #112]
 2955 0864 1344     		add	r3, r3, r2
 2956 0866 03F20643 		addw	r3, r3, #1030
 2957 086a FB66     		str	r3, [r7, #108]
 2958 086c D7F80431 		ldr	r3, [r7, #260]
 2959 0870 9AB2     		uxth	r2, r3
 2960 0872 FB6E     		ldr	r3, [r7, #108]
 2961 0874 1A80     		strh	r2, [r3]	@ movhi
 2962              	.L99:
 2963              	.LBE68:
2452:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           pmabuffer = ep->pmaaddr1;
 2964              		.loc 1 2452 21 is_stmt 1
 2965 0876 3B46     		mov	r3, r7
 2966 0878 1B68     		ldr	r3, [r3]
 2967 087a 5B89     		ldrh	r3, [r3, #10]	@ movhi
 2968 087c A7F87630 		strh	r3, [r7, #118]	@ movhi
2453:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2454:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           /* Write the user buffer to USB PMA */
2455:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           USB_WritePMA(USBx, ep->xfer_buff, pmabuffer, (uint16_t)len);
 2969              		.loc 1 2455 11
 2970 0880 3B46     		mov	r3, r7
 2971 0882 1B68     		ldr	r3, [r3]
 2972 0884 5969     		ldr	r1, [r3, #20]
 2973 0886 D7F80431 		ldr	r3, [r7, #260]
 2974 088a 9BB2     		uxth	r3, r3
 2975 088c B7F87620 		ldrh	r2, [r7, #118]
 2976 0890 381D     		adds	r0, r7, #4
 2977 0892 0068     		ldr	r0, [r0]
 2978 0894 FFF7FEFF 		bl	USB_WritePMA
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 96


 2979 0898 9FE0     		b	.L63
 2980              	.L95:
2456:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         }
2457:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         else
2458:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         {
2459:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           /* Set the Double buffer counter for pmabuffer0 */
2460:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           PCD_SET_EP_DBUF0_CNT(USBx, ep->num, ep->is_in, len);
 2981              		.loc 1 2460 11
 2982 089a 3B46     		mov	r3, r7
 2983 089c 1B68     		ldr	r3, [r3]
 2984 089e 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 2985 08a0 002B     		cmp	r3, #0
 2986 08a2 64D1     		bne	.L102
 2987              	.LBB71:
 2988              		.loc 1 2460 11 is_stmt 0 discriminator 1
 2989 08a4 3B1D     		adds	r3, r7, #4
 2990 08a6 1B68     		ldr	r3, [r3]
 2991 08a8 FB67     		str	r3, [r7, #124]
 2992 08aa 3B1D     		adds	r3, r7, #4
 2993 08ac 1B68     		ldr	r3, [r3]
 2994 08ae B3F85030 		ldrh	r3, [r3, #80]	@ movhi
 2995 08b2 9BB2     		uxth	r3, r3
 2996 08b4 1A46     		mov	r2, r3
 2997 08b6 FB6F     		ldr	r3, [r7, #124]
 2998 08b8 1344     		add	r3, r3, r2
 2999 08ba FB67     		str	r3, [r7, #124]
 3000 08bc 3B46     		mov	r3, r7
 3001 08be 1B68     		ldr	r3, [r3]
 3002 08c0 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3003 08c2 DA00     		lsls	r2, r3, #3
 3004 08c4 FB6F     		ldr	r3, [r7, #124]
 3005 08c6 1344     		add	r3, r3, r2
 3006 08c8 03F20243 		addw	r3, r3, #1026
 3007 08cc BB67     		str	r3, [r7, #120]
 3008              	.LBB72:
 3009 08ce D7F80431 		ldr	r3, [r7, #260]
 3010 08d2 3E2B     		cmp	r3, #62
 3011 08d4 1CD9     		bls	.L103
 3012              		.loc 1 2460 11 discriminator 3
 3013 08d6 D7F80431 		ldr	r3, [r7, #260]
 3014 08da 5B09     		lsrs	r3, r3, #5
 3015 08dc C7F8EC30 		str	r3, [r7, #236]
 3016 08e0 D7F80431 		ldr	r3, [r7, #260]
 3017 08e4 03F01F03 		and	r3, r3, #31
 3018 08e8 002B     		cmp	r3, #0
 3019 08ea 04D1     		bne	.L104
 3020              		.loc 1 2460 11 discriminator 5
 3021 08ec D7F8EC30 		ldr	r3, [r7, #236]
 3022 08f0 013B     		subs	r3, r3, #1
 3023 08f2 C7F8EC30 		str	r3, [r7, #236]
 3024              	.L104:
 3025              		.loc 1 2460 11 discriminator 7
 3026 08f6 D7F8EC30 		ldr	r3, [r7, #236]
 3027 08fa 9BB2     		uxth	r3, r3
 3028 08fc 9B02     		lsls	r3, r3, #10
 3029 08fe 9BB2     		uxth	r3, r3
 3030 0900 6FEA4343 		mvn	r3, r3, lsl #17
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 97


 3031 0904 6FEA5343 		mvn	r3, r3, lsr #17
 3032 0908 9AB2     		uxth	r2, r3
 3033 090a BB6F     		ldr	r3, [r7, #120]
 3034 090c 1A80     		strh	r2, [r3]	@ movhi
 3035 090e 53E0     		b	.L105
 3036              	.L103:
 3037              		.loc 1 2460 11 discriminator 4
 3038 0910 D7F80431 		ldr	r3, [r7, #260]
 3039 0914 002B     		cmp	r3, #0
 3040 0916 12D1     		bne	.L106
 3041              		.loc 1 2460 11 discriminator 8
 3042 0918 BB6F     		ldr	r3, [r7, #120]
 3043 091a 1B88     		ldrh	r3, [r3]	@ movhi
 3044 091c 9BB2     		uxth	r3, r3
 3045 091e 23F4F843 		bic	r3, r3, #31744
 3046 0922 9AB2     		uxth	r2, r3
 3047 0924 BB6F     		ldr	r3, [r7, #120]
 3048 0926 1A80     		strh	r2, [r3]	@ movhi
 3049 0928 BB6F     		ldr	r3, [r7, #120]
 3050 092a 1B88     		ldrh	r3, [r3]	@ movhi
 3051 092c 9BB2     		uxth	r3, r3
 3052 092e 6FEA4343 		mvn	r3, r3, lsl #17
 3053 0932 6FEA5343 		mvn	r3, r3, lsr #17
 3054 0936 9AB2     		uxth	r2, r3
 3055 0938 BB6F     		ldr	r3, [r7, #120]
 3056 093a 1A80     		strh	r2, [r3]	@ movhi
 3057 093c 3CE0     		b	.L105
 3058              	.L106:
 3059              		.loc 1 2460 11 discriminator 9
 3060 093e D7F80431 		ldr	r3, [r7, #260]
 3061 0942 5B08     		lsrs	r3, r3, #1
 3062 0944 C7F8EC30 		str	r3, [r7, #236]
 3063 0948 D7F80431 		ldr	r3, [r7, #260]
 3064 094c 03F00103 		and	r3, r3, #1
 3065 0950 002B     		cmp	r3, #0
 3066 0952 04D0     		beq	.L107
 3067              		.loc 1 2460 11 discriminator 10
 3068 0954 D7F8EC30 		ldr	r3, [r7, #236]
 3069 0958 0133     		adds	r3, r3, #1
 3070 095a C7F8EC30 		str	r3, [r7, #236]
 3071              	.L107:
 3072              		.loc 1 2460 11 discriminator 12
 3073 095e D7F8EC30 		ldr	r3, [r7, #236]
 3074 0962 9BB2     		uxth	r3, r3
 3075 0964 9B02     		lsls	r3, r3, #10
 3076 0966 9AB2     		uxth	r2, r3
 3077 0968 BB6F     		ldr	r3, [r7, #120]
 3078 096a 1A80     		strh	r2, [r3]	@ movhi
 3079 096c 24E0     		b	.L105
 3080              	.L102:
 3081              	.LBE72:
 3082              	.LBE71:
 3083              		.loc 1 2460 11 discriminator 2
 3084 096e 3B46     		mov	r3, r7
 3085 0970 1B68     		ldr	r3, [r3]
 3086 0972 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3087 0974 012B     		cmp	r3, #1
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 98


 3088 0976 1FD1     		bne	.L105
 3089              	.LBB73:
 3090              		.loc 1 2460 11 discriminator 13
 3091 0978 3B1D     		adds	r3, r7, #4
 3092 097a 1B68     		ldr	r3, [r3]
 3093 097c C7F88430 		str	r3, [r7, #132]
 3094 0980 3B1D     		adds	r3, r7, #4
 3095 0982 1B68     		ldr	r3, [r3]
 3096 0984 B3F85030 		ldrh	r3, [r3, #80]	@ movhi
 3097 0988 9BB2     		uxth	r3, r3
 3098 098a 1A46     		mov	r2, r3
 3099 098c D7F88430 		ldr	r3, [r7, #132]
 3100 0990 1344     		add	r3, r3, r2
 3101 0992 C7F88430 		str	r3, [r7, #132]
 3102 0996 3B46     		mov	r3, r7
 3103 0998 1B68     		ldr	r3, [r3]
 3104 099a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3105 099c DA00     		lsls	r2, r3, #3
 3106 099e D7F88430 		ldr	r3, [r7, #132]
 3107 09a2 1344     		add	r3, r3, r2
 3108 09a4 03F20243 		addw	r3, r3, #1026
 3109 09a8 C7F88030 		str	r3, [r7, #128]
 3110 09ac D7F80431 		ldr	r3, [r7, #260]
 3111 09b0 9AB2     		uxth	r2, r3
 3112 09b2 D7F88030 		ldr	r3, [r7, #128]
 3113 09b6 1A80     		strh	r2, [r3]	@ movhi
 3114              	.L105:
 3115              	.LBE73:
2461:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           pmabuffer = ep->pmaaddr0;
 3116              		.loc 1 2461 21 is_stmt 1
 3117 09b8 3B46     		mov	r3, r7
 3118 09ba 1B68     		ldr	r3, [r3]
 3119 09bc 1B89     		ldrh	r3, [r3, #8]	@ movhi
 3120 09be A7F87630 		strh	r3, [r7, #118]	@ movhi
2462:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2463:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           /* Write the user buffer to USB PMA */
2464:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           USB_WritePMA(USBx, ep->xfer_buff, pmabuffer, (uint16_t)len);
 3121              		.loc 1 2464 11
 3122 09c2 3B46     		mov	r3, r7
 3123 09c4 1B68     		ldr	r3, [r3]
 3124 09c6 5969     		ldr	r1, [r3, #20]
 3125 09c8 D7F80431 		ldr	r3, [r7, #260]
 3126 09cc 9BB2     		uxth	r3, r3
 3127 09ce B7F87620 		ldrh	r2, [r7, #118]
 3128 09d2 381D     		adds	r0, r7, #4
 3129 09d4 0068     		ldr	r0, [r0]
 3130 09d6 FFF7FEFF 		bl	USB_WritePMA
 3131              	.L63:
 3132              	.LBB74:
2465:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         }
2466:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
2467:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
2468:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** #endif /* (USE_USB_DOUBLE_BUFFER == 1U) */
2469:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2470:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     PCD_SET_EP_TX_STATUS(USBx, ep->num, USB_EP_TX_VALID);
 3133              		.loc 1 2470 5
 3134 09da 3B1D     		adds	r3, r7, #4
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 99


 3135 09dc 1A68     		ldr	r2, [r3]
 3136 09de 3B46     		mov	r3, r7
 3137 09e0 1B68     		ldr	r3, [r3]
 3138 09e2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3139 09e4 9B00     		lsls	r3, r3, #2
 3140 09e6 1344     		add	r3, r3, r2
 3141 09e8 1B88     		ldrh	r3, [r3]	@ movhi
 3142 09ea 9BB2     		uxth	r3, r3
 3143 09ec 23F4E043 		bic	r3, r3, #28672
 3144 09f0 23F04003 		bic	r3, r3, #64
 3145 09f4 7B81     		strh	r3, [r7, #10]	@ movhi
 3146 09f6 7B89     		ldrh	r3, [r7, #10]	@ movhi
 3147 09f8 83F01003 		eor	r3, r3, #16
 3148 09fc 7B81     		strh	r3, [r7, #10]	@ movhi
 3149 09fe 7B89     		ldrh	r3, [r7, #10]	@ movhi
 3150 0a00 83F02003 		eor	r3, r3, #32
 3151 0a04 7B81     		strh	r3, [r7, #10]	@ movhi
 3152 0a06 3B1D     		adds	r3, r7, #4
 3153 0a08 1A68     		ldr	r2, [r3]
 3154 0a0a 3B46     		mov	r3, r7
 3155 0a0c 1B68     		ldr	r3, [r3]
 3156 0a0e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3157 0a10 9B00     		lsls	r3, r3, #2
 3158 0a12 1A44     		add	r2, r2, r3
 3159 0a14 7B89     		ldrh	r3, [r7, #10]	@ movhi
 3160 0a16 43F07F43 		orr	r3, r3, #-16777216
 3161 0a1a 43F47F03 		orr	r3, r3, #16711680
 3162 0a1e 43F40043 		orr	r3, r3, #32768
 3163 0a22 43F08003 		orr	r3, r3, #128
 3164 0a26 9BB2     		uxth	r3, r3
 3165 0a28 1380     		strh	r3, [r2]	@ movhi
 3166              	.LBE74:
 3167 0a2a B5E3     		b	.L108
 3168              	.L59:
2471:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
2472:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else /* OUT endpoint */
2473:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
2474:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (ep->doublebuffer == 0U)
 3169              		.loc 1 2474 11
 3170 0a2c 3B46     		mov	r3, r7
 3171 0a2e 1B68     		ldr	r3, [r3]
 3172 0a30 1B7B     		ldrb	r3, [r3, #12]	@ zero_extendqisi2
 3173              		.loc 1 2474 8
 3174 0a32 002B     		cmp	r3, #0
 3175 0a34 40F09080 		bne	.L109
2475:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
2476:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       /* Multi packet transfer */
2477:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       if (ep->xfer_len > ep->maxpacket)
 3176              		.loc 1 2477 13
 3177 0a38 3B46     		mov	r3, r7
 3178 0a3a 1B68     		ldr	r3, [r3]
 3179 0a3c 9A69     		ldr	r2, [r3, #24]
 3180              		.loc 1 2477 28
 3181 0a3e 3B46     		mov	r3, r7
 3182 0a40 1B68     		ldr	r3, [r3]
 3183 0a42 1B69     		ldr	r3, [r3, #16]
 3184              		.loc 1 2477 10
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 100


 3185 0a44 9A42     		cmp	r2, r3
 3186 0a46 0ED9     		bls	.L110
2478:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
2479:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         len = ep->maxpacket;
 3187              		.loc 1 2479 13
 3188 0a48 3B46     		mov	r3, r7
 3189 0a4a 1B68     		ldr	r3, [r3]
 3190 0a4c 1B69     		ldr	r3, [r3, #16]
 3191 0a4e C7F80431 		str	r3, [r7, #260]
2480:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         ep->xfer_len -= len;
 3192              		.loc 1 2480 22
 3193 0a52 3B46     		mov	r3, r7
 3194 0a54 1B68     		ldr	r3, [r3]
 3195 0a56 9A69     		ldr	r2, [r3, #24]
 3196 0a58 D7F80431 		ldr	r3, [r7, #260]
 3197 0a5c D21A     		subs	r2, r2, r3
 3198 0a5e 3B46     		mov	r3, r7
 3199 0a60 1B68     		ldr	r3, [r3]
 3200 0a62 9A61     		str	r2, [r3, #24]
 3201 0a64 08E0     		b	.L111
 3202              	.L110:
2481:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
2482:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       else
2483:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
2484:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         len = ep->xfer_len;
 3203              		.loc 1 2484 13
 3204 0a66 3B46     		mov	r3, r7
 3205 0a68 1B68     		ldr	r3, [r3]
 3206 0a6a 9B69     		ldr	r3, [r3, #24]
 3207 0a6c C7F80431 		str	r3, [r7, #260]
2485:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         ep->xfer_len = 0U;
 3208              		.loc 1 2485 22
 3209 0a70 3B46     		mov	r3, r7
 3210 0a72 1B68     		ldr	r3, [r3]
 3211 0a74 0022     		movs	r2, #0
 3212 0a76 9A61     		str	r2, [r3, #24]
 3213              	.L111:
 3214              	.LBB75:
2486:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
2487:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       /* configure and validate Rx endpoint */
2488:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       PCD_SET_EP_RX_CNT(USBx, ep->num, len);
 3215              		.loc 1 2488 7
 3216 0a78 3B1D     		adds	r3, r7, #4
 3217 0a7a 1B68     		ldr	r3, [r3]
 3218 0a7c C7F89030 		str	r3, [r7, #144]
 3219 0a80 3B1D     		adds	r3, r7, #4
 3220 0a82 1B68     		ldr	r3, [r3]
 3221 0a84 B3F85030 		ldrh	r3, [r3, #80]	@ movhi
 3222 0a88 9BB2     		uxth	r3, r3
 3223 0a8a 1A46     		mov	r2, r3
 3224 0a8c D7F89030 		ldr	r3, [r7, #144]
 3225 0a90 1344     		add	r3, r3, r2
 3226 0a92 C7F89030 		str	r3, [r7, #144]
 3227 0a96 3B46     		mov	r3, r7
 3228 0a98 1B68     		ldr	r3, [r3]
 3229 0a9a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3230 0a9c DA00     		lsls	r2, r3, #3
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 101


 3231 0a9e D7F89030 		ldr	r3, [r7, #144]
 3232 0aa2 1344     		add	r3, r3, r2
 3233 0aa4 03F20643 		addw	r3, r3, #1030
 3234 0aa8 C7F88C30 		str	r3, [r7, #140]
 3235              	.LBB76:
 3236 0aac D7F80431 		ldr	r3, [r7, #260]
 3237 0ab0 3E2B     		cmp	r3, #62
 3238 0ab2 1DD9     		bls	.L112
 3239              		.loc 1 2488 7 is_stmt 0 discriminator 1
 3240 0ab4 D7F80431 		ldr	r3, [r7, #260]
 3241 0ab8 5B09     		lsrs	r3, r3, #5
 3242 0aba C7F8E830 		str	r3, [r7, #232]
 3243 0abe D7F80431 		ldr	r3, [r7, #260]
 3244 0ac2 03F01F03 		and	r3, r3, #31
 3245 0ac6 002B     		cmp	r3, #0
 3246 0ac8 04D1     		bne	.L113
 3247              		.loc 1 2488 7 discriminator 3
 3248 0aca D7F8E830 		ldr	r3, [r7, #232]
 3249 0ace 013B     		subs	r3, r3, #1
 3250 0ad0 C7F8E830 		str	r3, [r7, #232]
 3251              	.L113:
 3252              		.loc 1 2488 7 discriminator 5
 3253 0ad4 D7F8E830 		ldr	r3, [r7, #232]
 3254 0ad8 9BB2     		uxth	r3, r3
 3255 0ada 9B02     		lsls	r3, r3, #10
 3256 0adc 9BB2     		uxth	r3, r3
 3257 0ade 6FEA4343 		mvn	r3, r3, lsl #17
 3258 0ae2 6FEA5343 		mvn	r3, r3, lsr #17
 3259 0ae6 9AB2     		uxth	r2, r3
 3260 0ae8 D7F88C30 		ldr	r3, [r7, #140]
 3261 0aec 1A80     		strh	r2, [r3]	@ movhi
 3262 0aee 25E3     		b	.L114
 3263              	.L112:
 3264              		.loc 1 2488 7 discriminator 2
 3265 0af0 D7F80431 		ldr	r3, [r7, #260]
 3266 0af4 002B     		cmp	r3, #0
 3267 0af6 16D1     		bne	.L115
 3268              		.loc 1 2488 7 discriminator 6
 3269 0af8 D7F88C30 		ldr	r3, [r7, #140]
 3270 0afc 1B88     		ldrh	r3, [r3]	@ movhi
 3271 0afe 9BB2     		uxth	r3, r3
 3272 0b00 23F4F843 		bic	r3, r3, #31744
 3273 0b04 9AB2     		uxth	r2, r3
 3274 0b06 D7F88C30 		ldr	r3, [r7, #140]
 3275 0b0a 1A80     		strh	r2, [r3]	@ movhi
 3276 0b0c D7F88C30 		ldr	r3, [r7, #140]
 3277 0b10 1B88     		ldrh	r3, [r3]	@ movhi
 3278 0b12 9BB2     		uxth	r3, r3
 3279 0b14 6FEA4343 		mvn	r3, r3, lsl #17
 3280 0b18 6FEA5343 		mvn	r3, r3, lsr #17
 3281 0b1c 9AB2     		uxth	r2, r3
 3282 0b1e D7F88C30 		ldr	r3, [r7, #140]
 3283 0b22 1A80     		strh	r2, [r3]	@ movhi
 3284 0b24 0AE3     		b	.L114
 3285              	.L115:
 3286              		.loc 1 2488 7 discriminator 7
 3287 0b26 D7F80431 		ldr	r3, [r7, #260]
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 102


 3288 0b2a 5B08     		lsrs	r3, r3, #1
 3289 0b2c C7F8E830 		str	r3, [r7, #232]
 3290 0b30 D7F80431 		ldr	r3, [r7, #260]
 3291 0b34 03F00103 		and	r3, r3, #1
 3292 0b38 002B     		cmp	r3, #0
 3293 0b3a 04D0     		beq	.L116
 3294              		.loc 1 2488 7 discriminator 8
 3295 0b3c D7F8E830 		ldr	r3, [r7, #232]
 3296 0b40 0133     		adds	r3, r3, #1
 3297 0b42 C7F8E830 		str	r3, [r7, #232]
 3298              	.L116:
 3299              		.loc 1 2488 7 discriminator 10
 3300 0b46 D7F8E830 		ldr	r3, [r7, #232]
 3301 0b4a 9BB2     		uxth	r3, r3
 3302 0b4c 9B02     		lsls	r3, r3, #10
 3303 0b4e 9AB2     		uxth	r2, r3
 3304 0b50 D7F88C30 		ldr	r3, [r7, #140]
 3305 0b54 1A80     		strh	r2, [r3]	@ movhi
 3306 0b56 F1E2     		b	.L114
 3307              	.L109:
 3308              	.LBE76:
 3309              	.LBE75:
2489:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
2490:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** #if (USE_USB_DOUBLE_BUFFER == 1U)
2491:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     else
2492:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
2493:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       /* First Transfer Coming From HAL_PCD_EP_Receive & From ISR */
2494:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       /* Set the Double buffer counter */
2495:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       if (ep->type == EP_TYPE_BULK)
 3310              		.loc 1 2495 13 is_stmt 1
 3311 0b58 3B46     		mov	r3, r7
 3312 0b5a 1B68     		ldr	r3, [r3]
 3313 0b5c DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 3314              		.loc 1 2495 10
 3315 0b5e 022B     		cmp	r3, #2
 3316 0b60 40F08F81 		bne	.L117
2496:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
2497:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         PCD_SET_EP_DBUF_CNT(USBx, ep->num, ep->is_in, ep->maxpacket);
 3317              		.loc 1 2497 9
 3318 0b64 3B46     		mov	r3, r7
 3319 0b66 1B68     		ldr	r3, [r3]
 3320 0b68 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3321 0b6a 002B     		cmp	r3, #0
 3322 0b6c 75D1     		bne	.L118
 3323              	.LBB77:
 3324              		.loc 1 2497 9 is_stmt 0 discriminator 1
 3325 0b6e 3B1D     		adds	r3, r7, #4
 3326 0b70 1B68     		ldr	r3, [r3]
 3327 0b72 C7F8AC30 		str	r3, [r7, #172]
 3328 0b76 3B1D     		adds	r3, r7, #4
 3329 0b78 1B68     		ldr	r3, [r3]
 3330 0b7a B3F85030 		ldrh	r3, [r3, #80]	@ movhi
 3331 0b7e 9BB2     		uxth	r3, r3
 3332 0b80 1A46     		mov	r2, r3
 3333 0b82 D7F8AC30 		ldr	r3, [r7, #172]
 3334 0b86 1344     		add	r3, r3, r2
 3335 0b88 C7F8AC30 		str	r3, [r7, #172]
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 103


 3336 0b8c 3B46     		mov	r3, r7
 3337 0b8e 1B68     		ldr	r3, [r3]
 3338 0b90 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3339 0b92 DA00     		lsls	r2, r3, #3
 3340 0b94 D7F8AC30 		ldr	r3, [r7, #172]
 3341 0b98 1344     		add	r3, r3, r2
 3342 0b9a 03F20243 		addw	r3, r3, #1026
 3343 0b9e C7F8A830 		str	r3, [r7, #168]
 3344              	.LBB78:
 3345 0ba2 3B46     		mov	r3, r7
 3346 0ba4 1B68     		ldr	r3, [r3]
 3347 0ba6 1B69     		ldr	r3, [r3, #16]
 3348 0ba8 3E2B     		cmp	r3, #62
 3349 0baa 1FD9     		bls	.L119
 3350              		.loc 1 2497 9 discriminator 3
 3351 0bac 3B46     		mov	r3, r7
 3352 0bae 1B68     		ldr	r3, [r3]
 3353 0bb0 1B69     		ldr	r3, [r3, #16]
 3354 0bb2 5B09     		lsrs	r3, r3, #5
 3355 0bb4 C7F8E430 		str	r3, [r7, #228]
 3356 0bb8 3B46     		mov	r3, r7
 3357 0bba 1B68     		ldr	r3, [r3]
 3358 0bbc 1B69     		ldr	r3, [r3, #16]
 3359 0bbe 03F01F03 		and	r3, r3, #31
 3360 0bc2 002B     		cmp	r3, #0
 3361 0bc4 04D1     		bne	.L120
 3362              		.loc 1 2497 9 discriminator 5
 3363 0bc6 D7F8E430 		ldr	r3, [r7, #228]
 3364 0bca 013B     		subs	r3, r3, #1
 3365 0bcc C7F8E430 		str	r3, [r7, #228]
 3366              	.L120:
 3367              		.loc 1 2497 9 discriminator 7
 3368 0bd0 D7F8E430 		ldr	r3, [r7, #228]
 3369 0bd4 9BB2     		uxth	r3, r3
 3370 0bd6 9B02     		lsls	r3, r3, #10
 3371 0bd8 9BB2     		uxth	r3, r3
 3372 0bda 6FEA4343 		mvn	r3, r3, lsl #17
 3373 0bde 6FEA5343 		mvn	r3, r3, lsr #17
 3374 0be2 9AB2     		uxth	r2, r3
 3375 0be4 D7F8A830 		ldr	r3, [r7, #168]
 3376 0be8 1A80     		strh	r2, [r3]	@ movhi
 3377 0bea 5CE0     		b	.L121
 3378              	.L119:
 3379              		.loc 1 2497 9 discriminator 4
 3380 0bec 3B46     		mov	r3, r7
 3381 0bee 1B68     		ldr	r3, [r3]
 3382 0bf0 1B69     		ldr	r3, [r3, #16]
 3383 0bf2 002B     		cmp	r3, #0
 3384 0bf4 16D1     		bne	.L122
 3385              		.loc 1 2497 9 discriminator 8
 3386 0bf6 D7F8A830 		ldr	r3, [r7, #168]
 3387 0bfa 1B88     		ldrh	r3, [r3]	@ movhi
 3388 0bfc 9BB2     		uxth	r3, r3
 3389 0bfe 23F4F843 		bic	r3, r3, #31744
 3390 0c02 9AB2     		uxth	r2, r3
 3391 0c04 D7F8A830 		ldr	r3, [r7, #168]
 3392 0c08 1A80     		strh	r2, [r3]	@ movhi
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 104


 3393 0c0a D7F8A830 		ldr	r3, [r7, #168]
 3394 0c0e 1B88     		ldrh	r3, [r3]	@ movhi
 3395 0c10 9BB2     		uxth	r3, r3
 3396 0c12 6FEA4343 		mvn	r3, r3, lsl #17
 3397 0c16 6FEA5343 		mvn	r3, r3, lsr #17
 3398 0c1a 9AB2     		uxth	r2, r3
 3399 0c1c D7F8A830 		ldr	r3, [r7, #168]
 3400 0c20 1A80     		strh	r2, [r3]	@ movhi
 3401 0c22 40E0     		b	.L121
 3402              	.L122:
 3403              		.loc 1 2497 9 discriminator 9
 3404 0c24 3B46     		mov	r3, r7
 3405 0c26 1B68     		ldr	r3, [r3]
 3406 0c28 1B69     		ldr	r3, [r3, #16]
 3407 0c2a 5B08     		lsrs	r3, r3, #1
 3408 0c2c C7F8E430 		str	r3, [r7, #228]
 3409 0c30 3B46     		mov	r3, r7
 3410 0c32 1B68     		ldr	r3, [r3]
 3411 0c34 1B69     		ldr	r3, [r3, #16]
 3412 0c36 03F00103 		and	r3, r3, #1
 3413 0c3a 002B     		cmp	r3, #0
 3414 0c3c 04D0     		beq	.L123
 3415              		.loc 1 2497 9 discriminator 10
 3416 0c3e D7F8E430 		ldr	r3, [r7, #228]
 3417 0c42 0133     		adds	r3, r3, #1
 3418 0c44 C7F8E430 		str	r3, [r7, #228]
 3419              	.L123:
 3420              		.loc 1 2497 9 discriminator 12
 3421 0c48 D7F8E430 		ldr	r3, [r7, #228]
 3422 0c4c 9BB2     		uxth	r3, r3
 3423 0c4e 9B02     		lsls	r3, r3, #10
 3424 0c50 9AB2     		uxth	r2, r3
 3425 0c52 D7F8A830 		ldr	r3, [r7, #168]
 3426 0c56 1A80     		strh	r2, [r3]	@ movhi
 3427 0c58 25E0     		b	.L121
 3428              	.L118:
 3429              	.LBE78:
 3430              	.LBE77:
 3431              		.loc 1 2497 9 discriminator 2
 3432 0c5a 3B46     		mov	r3, r7
 3433 0c5c 1B68     		ldr	r3, [r3]
 3434 0c5e 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3435 0c60 012B     		cmp	r3, #1
 3436 0c62 20D1     		bne	.L121
 3437              	.LBB79:
 3438              		.loc 1 2497 9 discriminator 13
 3439 0c64 3B1D     		adds	r3, r7, #4
 3440 0c66 1B68     		ldr	r3, [r3]
 3441 0c68 C7F8B430 		str	r3, [r7, #180]
 3442 0c6c 3B1D     		adds	r3, r7, #4
 3443 0c6e 1B68     		ldr	r3, [r3]
 3444 0c70 B3F85030 		ldrh	r3, [r3, #80]	@ movhi
 3445 0c74 9BB2     		uxth	r3, r3
 3446 0c76 1A46     		mov	r2, r3
 3447 0c78 D7F8B430 		ldr	r3, [r7, #180]
 3448 0c7c 1344     		add	r3, r3, r2
 3449 0c7e C7F8B430 		str	r3, [r7, #180]
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 105


 3450 0c82 3B46     		mov	r3, r7
 3451 0c84 1B68     		ldr	r3, [r3]
 3452 0c86 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3453 0c88 DA00     		lsls	r2, r3, #3
 3454 0c8a D7F8B430 		ldr	r3, [r7, #180]
 3455 0c8e 1344     		add	r3, r3, r2
 3456 0c90 03F20243 		addw	r3, r3, #1026
 3457 0c94 C7F8B030 		str	r3, [r7, #176]
 3458 0c98 3B46     		mov	r3, r7
 3459 0c9a 1B68     		ldr	r3, [r3]
 3460 0c9c 1B69     		ldr	r3, [r3, #16]
 3461 0c9e 9AB2     		uxth	r2, r3
 3462 0ca0 D7F8B030 		ldr	r3, [r7, #176]
 3463 0ca4 1A80     		strh	r2, [r3]	@ movhi
 3464              	.L121:
 3465              	.LBE79:
 3466              	.LBB80:
 3467              		.loc 1 2497 9 discriminator 15
 3468 0ca6 3B1D     		adds	r3, r7, #4
 3469 0ca8 1B68     		ldr	r3, [r3]
 3470 0caa C7F8A430 		str	r3, [r7, #164]
 3471 0cae 3B46     		mov	r3, r7
 3472 0cb0 1B68     		ldr	r3, [r3]
 3473 0cb2 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3474 0cb4 002B     		cmp	r3, #0
 3475 0cb6 75D1     		bne	.L124
 3476              	.LBB81:
 3477              		.loc 1 2497 9 discriminator 16
 3478 0cb8 3B1D     		adds	r3, r7, #4
 3479 0cba 1B68     		ldr	r3, [r3]
 3480 0cbc C7F89C30 		str	r3, [r7, #156]
 3481 0cc0 3B1D     		adds	r3, r7, #4
 3482 0cc2 1B68     		ldr	r3, [r3]
 3483 0cc4 B3F85030 		ldrh	r3, [r3, #80]	@ movhi
 3484 0cc8 9BB2     		uxth	r3, r3
 3485 0cca 1A46     		mov	r2, r3
 3486 0ccc D7F89C30 		ldr	r3, [r7, #156]
 3487 0cd0 1344     		add	r3, r3, r2
 3488 0cd2 C7F89C30 		str	r3, [r7, #156]
 3489 0cd6 3B46     		mov	r3, r7
 3490 0cd8 1B68     		ldr	r3, [r3]
 3491 0cda 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3492 0cdc DA00     		lsls	r2, r3, #3
 3493 0cde D7F89C30 		ldr	r3, [r7, #156]
 3494 0ce2 1344     		add	r3, r3, r2
 3495 0ce4 03F20643 		addw	r3, r3, #1030
 3496 0ce8 C7F89830 		str	r3, [r7, #152]
 3497              	.LBB82:
 3498 0cec 3B46     		mov	r3, r7
 3499 0cee 1B68     		ldr	r3, [r3]
 3500 0cf0 1B69     		ldr	r3, [r3, #16]
 3501 0cf2 3E2B     		cmp	r3, #62
 3502 0cf4 1FD9     		bls	.L125
 3503              		.loc 1 2497 9 discriminator 18
 3504 0cf6 3B46     		mov	r3, r7
 3505 0cf8 1B68     		ldr	r3, [r3]
 3506 0cfa 1B69     		ldr	r3, [r3, #16]
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 106


 3507 0cfc 5B09     		lsrs	r3, r3, #5
 3508 0cfe C7F8E030 		str	r3, [r7, #224]
 3509 0d02 3B46     		mov	r3, r7
 3510 0d04 1B68     		ldr	r3, [r3]
 3511 0d06 1B69     		ldr	r3, [r3, #16]
 3512 0d08 03F01F03 		and	r3, r3, #31
 3513 0d0c 002B     		cmp	r3, #0
 3514 0d0e 04D1     		bne	.L126
 3515              		.loc 1 2497 9 discriminator 20
 3516 0d10 D7F8E030 		ldr	r3, [r7, #224]
 3517 0d14 013B     		subs	r3, r3, #1
 3518 0d16 C7F8E030 		str	r3, [r7, #224]
 3519              	.L126:
 3520              		.loc 1 2497 9 discriminator 22
 3521 0d1a D7F8E030 		ldr	r3, [r7, #224]
 3522 0d1e 9BB2     		uxth	r3, r3
 3523 0d20 9B02     		lsls	r3, r3, #10
 3524 0d22 9BB2     		uxth	r3, r3
 3525 0d24 6FEA4343 		mvn	r3, r3, lsl #17
 3526 0d28 6FEA5343 		mvn	r3, r3, lsr #17
 3527 0d2c 9AB2     		uxth	r2, r3
 3528 0d2e D7F89830 		ldr	r3, [r7, #152]
 3529 0d32 1A80     		strh	r2, [r3]	@ movhi
 3530 0d34 58E0     		b	.L127
 3531              	.L125:
 3532              		.loc 1 2497 9 discriminator 19
 3533 0d36 3B46     		mov	r3, r7
 3534 0d38 1B68     		ldr	r3, [r3]
 3535 0d3a 1B69     		ldr	r3, [r3, #16]
 3536 0d3c 002B     		cmp	r3, #0
 3537 0d3e 16D1     		bne	.L128
 3538              		.loc 1 2497 9 discriminator 23
 3539 0d40 D7F89830 		ldr	r3, [r7, #152]
 3540 0d44 1B88     		ldrh	r3, [r3]	@ movhi
 3541 0d46 9BB2     		uxth	r3, r3
 3542 0d48 23F4F843 		bic	r3, r3, #31744
 3543 0d4c 9AB2     		uxth	r2, r3
 3544 0d4e D7F89830 		ldr	r3, [r7, #152]
 3545 0d52 1A80     		strh	r2, [r3]	@ movhi
 3546 0d54 D7F89830 		ldr	r3, [r7, #152]
 3547 0d58 1B88     		ldrh	r3, [r3]	@ movhi
 3548 0d5a 9BB2     		uxth	r3, r3
 3549 0d5c 6FEA4343 		mvn	r3, r3, lsl #17
 3550 0d60 6FEA5343 		mvn	r3, r3, lsr #17
 3551 0d64 9AB2     		uxth	r2, r3
 3552 0d66 D7F89830 		ldr	r3, [r7, #152]
 3553 0d6a 1A80     		strh	r2, [r3]	@ movhi
 3554 0d6c 3CE0     		b	.L127
 3555              	.L128:
 3556              		.loc 1 2497 9 discriminator 24
 3557 0d6e 3B46     		mov	r3, r7
 3558 0d70 1B68     		ldr	r3, [r3]
 3559 0d72 1B69     		ldr	r3, [r3, #16]
 3560 0d74 5B08     		lsrs	r3, r3, #1
 3561 0d76 C7F8E030 		str	r3, [r7, #224]
 3562 0d7a 3B46     		mov	r3, r7
 3563 0d7c 1B68     		ldr	r3, [r3]
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 107


 3564 0d7e 1B69     		ldr	r3, [r3, #16]
 3565 0d80 03F00103 		and	r3, r3, #1
 3566 0d84 002B     		cmp	r3, #0
 3567 0d86 04D0     		beq	.L129
 3568              		.loc 1 2497 9 discriminator 25
 3569 0d88 D7F8E030 		ldr	r3, [r7, #224]
 3570 0d8c 0133     		adds	r3, r3, #1
 3571 0d8e C7F8E030 		str	r3, [r7, #224]
 3572              	.L129:
 3573              		.loc 1 2497 9 discriminator 27
 3574 0d92 D7F8E030 		ldr	r3, [r7, #224]
 3575 0d96 9BB2     		uxth	r3, r3
 3576 0d98 9B02     		lsls	r3, r3, #10
 3577 0d9a 9AB2     		uxth	r2, r3
 3578 0d9c D7F89830 		ldr	r3, [r7, #152]
 3579 0da0 1A80     		strh	r2, [r3]	@ movhi
 3580 0da2 21E0     		b	.L127
 3581              	.L124:
 3582              	.LBE82:
 3583              	.LBE81:
 3584              		.loc 1 2497 9 discriminator 17
 3585 0da4 3B46     		mov	r3, r7
 3586 0da6 1B68     		ldr	r3, [r3]
 3587 0da8 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3588 0daa 012B     		cmp	r3, #1
 3589 0dac 1CD1     		bne	.L127
 3590              		.loc 1 2497 9 discriminator 28
 3591 0dae 3B1D     		adds	r3, r7, #4
 3592 0db0 1B68     		ldr	r3, [r3]
 3593 0db2 B3F85030 		ldrh	r3, [r3, #80]	@ movhi
 3594 0db6 9BB2     		uxth	r3, r3
 3595 0db8 1A46     		mov	r2, r3
 3596 0dba D7F8A430 		ldr	r3, [r7, #164]
 3597 0dbe 1344     		add	r3, r3, r2
 3598 0dc0 C7F8A430 		str	r3, [r7, #164]
 3599 0dc4 3B46     		mov	r3, r7
 3600 0dc6 1B68     		ldr	r3, [r3]
 3601 0dc8 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3602 0dca DA00     		lsls	r2, r3, #3
 3603 0dcc D7F8A430 		ldr	r3, [r7, #164]
 3604 0dd0 1344     		add	r3, r3, r2
 3605 0dd2 03F20643 		addw	r3, r3, #1030
 3606 0dd6 C7F8A030 		str	r3, [r7, #160]
 3607 0dda 3B46     		mov	r3, r7
 3608 0ddc 1B68     		ldr	r3, [r3]
 3609 0dde 1B69     		ldr	r3, [r3, #16]
 3610 0de0 9AB2     		uxth	r2, r3
 3611 0de2 D7F8A030 		ldr	r3, [r7, #160]
 3612 0de6 1A80     		strh	r2, [r3]	@ movhi
 3613              	.L127:
 3614              	.LBE80:
2498:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2499:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         /* Coming from ISR */
2500:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         if (ep->xfer_count != 0U)
 3615              		.loc 1 2500 15 is_stmt 1
 3616 0de8 3B46     		mov	r3, r7
 3617 0dea 1B68     		ldr	r3, [r3]
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 108


 3618 0dec DB69     		ldr	r3, [r3, #28]
 3619              		.loc 1 2500 12
 3620 0dee 002B     		cmp	r3, #0
 3621 0df0 00F0A481 		beq	.L114
2501:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         {
2502:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           /* update last value to check if there is blocking state */
2503:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           wEPVal = PCD_GET_ENDPOINT(USBx, ep->num);
 3622              		.loc 1 2503 20
 3623 0df4 3B1D     		adds	r3, r7, #4
 3624 0df6 1A68     		ldr	r2, [r3]
 3625 0df8 3B46     		mov	r3, r7
 3626 0dfa 1B68     		ldr	r3, [r3]
 3627 0dfc 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3628 0dfe 9B00     		lsls	r3, r3, #2
 3629 0e00 1344     		add	r3, r3, r2
 3630              		.loc 1 2503 18
 3631 0e02 1B88     		ldrh	r3, [r3]	@ movhi
 3632 0e04 A7F89630 		strh	r3, [r7, #150]	@ movhi
2504:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2505:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           /*Blocking State */
2506:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           if ((((wEPVal & USB_EP_DTOG_RX) != 0U) && ((wEPVal & USB_EP_DTOG_TX) != 0U)) ||
 3633              		.loc 1 2506 25
 3634 0e08 B7F89630 		ldrh	r3, [r7, #150]
 3635 0e0c 03F48043 		and	r3, r3, #16384
 3636              		.loc 1 2506 14
 3637 0e10 002B     		cmp	r3, #0
 3638 0e12 05D0     		beq	.L130
 3639              		.loc 1 2506 62 discriminator 1
 3640 0e14 B7F89630 		ldrh	r3, [r7, #150]
 3641 0e18 03F04003 		and	r3, r3, #64
 3642              		.loc 1 2506 50 discriminator 1
 3643 0e1c 002B     		cmp	r3, #0
 3644 0e1e 0DD1     		bne	.L131
 3645              	.L130:
2507:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****               (((wEPVal & USB_EP_DTOG_RX) == 0U) && ((wEPVal & USB_EP_DTOG_TX) == 0U)))
 3646              		.loc 1 2507 25 discriminator 3
 3647 0e20 B7F89630 		ldrh	r3, [r7, #150]
 3648 0e24 03F48043 		and	r3, r3, #16384
2506:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****               (((wEPVal & USB_EP_DTOG_RX) == 0U) && ((wEPVal & USB_EP_DTOG_TX) == 0U)))
 3649              		.loc 1 2506 88 discriminator 3
 3650 0e28 002B     		cmp	r3, #0
 3651 0e2a 40F08781 		bne	.L114
 3652              		.loc 1 2507 62
 3653 0e2e B7F89630 		ldrh	r3, [r7, #150]
 3654 0e32 03F04003 		and	r3, r3, #64
 3655              		.loc 1 2507 50
 3656 0e36 002B     		cmp	r3, #0
 3657 0e38 40F08081 		bne	.L114
 3658              	.L131:
 3659              	.LBB83:
2508:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           {
2509:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****             PCD_FREE_USER_BUFFER(USBx, ep->num, 0U);
 3660              		.loc 1 2509 13 discriminator 1
 3661 0e3c 3B1D     		adds	r3, r7, #4
 3662 0e3e 1A68     		ldr	r2, [r3]
 3663 0e40 3B46     		mov	r3, r7
 3664 0e42 1B68     		ldr	r3, [r3]
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 109


 3665 0e44 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3666 0e46 9B00     		lsls	r3, r3, #2
 3667 0e48 1344     		add	r3, r3, r2
 3668 0e4a 1B88     		ldrh	r3, [r3]	@ movhi
 3669 0e4c 9BB2     		uxth	r3, r3
 3670 0e4e 23F4E043 		bic	r3, r3, #28672
 3671 0e52 23F07003 		bic	r3, r3, #112
 3672 0e56 A7F89430 		strh	r3, [r7, #148]	@ movhi
 3673 0e5a 3B1D     		adds	r3, r7, #4
 3674 0e5c 1A68     		ldr	r2, [r3]
 3675 0e5e 3B46     		mov	r3, r7
 3676 0e60 1B68     		ldr	r3, [r3]
 3677 0e62 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3678 0e64 9B00     		lsls	r3, r3, #2
 3679 0e66 1A44     		add	r2, r2, r3
 3680 0e68 B7F89430 		ldrh	r3, [r7, #148]	@ movhi
 3681 0e6c 43F07F43 		orr	r3, r3, #-16777216
 3682 0e70 43F47F03 		orr	r3, r3, #16711680
 3683 0e74 43F40043 		orr	r3, r3, #32768
 3684 0e78 43F0C003 		orr	r3, r3, #192
 3685 0e7c 9BB2     		uxth	r3, r3
 3686 0e7e 1380     		strh	r3, [r2]	@ movhi
 3687              	.LBE83:
 3688 0e80 5CE1     		b	.L114
 3689              	.L117:
2510:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           }
2511:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         }
2512:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
2513:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       /* iso out double */
2514:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       else if (ep->type == EP_TYPE_ISOC)
 3690              		.loc 1 2514 18
 3691 0e82 3B46     		mov	r3, r7
 3692 0e84 1B68     		ldr	r3, [r3]
 3693 0e86 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 3694              		.loc 1 2514 15
 3695 0e88 012B     		cmp	r3, #1
 3696 0e8a 40F05581 		bne	.L132
2515:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
2516:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         /* Multi packet transfer */
2517:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         if (ep->xfer_len > ep->maxpacket)
 3697              		.loc 1 2517 15
 3698 0e8e 3B46     		mov	r3, r7
 3699 0e90 1B68     		ldr	r3, [r3]
 3700 0e92 9A69     		ldr	r2, [r3, #24]
 3701              		.loc 1 2517 30
 3702 0e94 3B46     		mov	r3, r7
 3703 0e96 1B68     		ldr	r3, [r3]
 3704 0e98 1B69     		ldr	r3, [r3, #16]
 3705              		.loc 1 2517 12
 3706 0e9a 9A42     		cmp	r2, r3
 3707 0e9c 0ED9     		bls	.L133
2518:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         {
2519:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           len = ep->maxpacket;
 3708              		.loc 1 2519 15
 3709 0e9e 3B46     		mov	r3, r7
 3710 0ea0 1B68     		ldr	r3, [r3]
 3711 0ea2 1B69     		ldr	r3, [r3, #16]
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 110


 3712 0ea4 C7F80431 		str	r3, [r7, #260]
2520:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           ep->xfer_len -= len;
 3713              		.loc 1 2520 24
 3714 0ea8 3B46     		mov	r3, r7
 3715 0eaa 1B68     		ldr	r3, [r3]
 3716 0eac 9A69     		ldr	r2, [r3, #24]
 3717 0eae D7F80431 		ldr	r3, [r7, #260]
 3718 0eb2 D21A     		subs	r2, r2, r3
 3719 0eb4 3B46     		mov	r3, r7
 3720 0eb6 1B68     		ldr	r3, [r3]
 3721 0eb8 9A61     		str	r2, [r3, #24]
 3722 0eba 08E0     		b	.L134
 3723              	.L133:
2521:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         }
2522:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         else
2523:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         {
2524:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           len = ep->xfer_len;
 3724              		.loc 1 2524 15
 3725 0ebc 3B46     		mov	r3, r7
 3726 0ebe 1B68     		ldr	r3, [r3]
 3727 0ec0 9B69     		ldr	r3, [r3, #24]
 3728 0ec2 C7F80431 		str	r3, [r7, #260]
2525:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           ep->xfer_len = 0U;
 3729              		.loc 1 2525 24
 3730 0ec6 3B46     		mov	r3, r7
 3731 0ec8 1B68     		ldr	r3, [r3]
 3732 0eca 0022     		movs	r2, #0
 3733 0ecc 9A61     		str	r2, [r3, #24]
 3734              	.L134:
2526:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         }
2527:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         PCD_SET_EP_DBUF_CNT(USBx, ep->num, ep->is_in, len);
 3735              		.loc 1 2527 9
 3736 0ece 3B46     		mov	r3, r7
 3737 0ed0 1B68     		ldr	r3, [r3]
 3738 0ed2 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3739 0ed4 002B     		cmp	r3, #0
 3740 0ed6 6FD1     		bne	.L135
 3741              	.LBB84:
 3742              		.loc 1 2527 9 is_stmt 0 discriminator 1
 3743 0ed8 3B1D     		adds	r3, r7, #4
 3744 0eda 1B68     		ldr	r3, [r3]
 3745 0edc C7F8CC30 		str	r3, [r7, #204]
 3746 0ee0 3B1D     		adds	r3, r7, #4
 3747 0ee2 1B68     		ldr	r3, [r3]
 3748 0ee4 B3F85030 		ldrh	r3, [r3, #80]	@ movhi
 3749 0ee8 9BB2     		uxth	r3, r3
 3750 0eea 1A46     		mov	r2, r3
 3751 0eec D7F8CC30 		ldr	r3, [r7, #204]
 3752 0ef0 1344     		add	r3, r3, r2
 3753 0ef2 C7F8CC30 		str	r3, [r7, #204]
 3754 0ef6 3B46     		mov	r3, r7
 3755 0ef8 1B68     		ldr	r3, [r3]
 3756 0efa 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3757 0efc DA00     		lsls	r2, r3, #3
 3758 0efe D7F8CC30 		ldr	r3, [r7, #204]
 3759 0f02 1344     		add	r3, r3, r2
 3760 0f04 03F20243 		addw	r3, r3, #1026
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 111


 3761 0f08 C7F8C830 		str	r3, [r7, #200]
 3762              	.LBB85:
 3763 0f0c D7F80431 		ldr	r3, [r7, #260]
 3764 0f10 3E2B     		cmp	r3, #62
 3765 0f12 1DD9     		bls	.L136
 3766              		.loc 1 2527 9 discriminator 3
 3767 0f14 D7F80431 		ldr	r3, [r7, #260]
 3768 0f18 5B09     		lsrs	r3, r3, #5
 3769 0f1a C7F8DC30 		str	r3, [r7, #220]
 3770 0f1e D7F80431 		ldr	r3, [r7, #260]
 3771 0f22 03F01F03 		and	r3, r3, #31
 3772 0f26 002B     		cmp	r3, #0
 3773 0f28 04D1     		bne	.L137
 3774              		.loc 1 2527 9 discriminator 5
 3775 0f2a D7F8DC30 		ldr	r3, [r7, #220]
 3776 0f2e 013B     		subs	r3, r3, #1
 3777 0f30 C7F8DC30 		str	r3, [r7, #220]
 3778              	.L137:
 3779              		.loc 1 2527 9 discriminator 7
 3780 0f34 D7F8DC30 		ldr	r3, [r7, #220]
 3781 0f38 9BB2     		uxth	r3, r3
 3782 0f3a 9B02     		lsls	r3, r3, #10
 3783 0f3c 9BB2     		uxth	r3, r3
 3784 0f3e 6FEA4343 		mvn	r3, r3, lsl #17
 3785 0f42 6FEA5343 		mvn	r3, r3, lsr #17
 3786 0f46 9AB2     		uxth	r2, r3
 3787 0f48 D7F8C830 		ldr	r3, [r7, #200]
 3788 0f4c 1A80     		strh	r2, [r3]	@ movhi
 3789 0f4e 58E0     		b	.L138
 3790              	.L136:
 3791              		.loc 1 2527 9 discriminator 4
 3792 0f50 D7F80431 		ldr	r3, [r7, #260]
 3793 0f54 002B     		cmp	r3, #0
 3794 0f56 16D1     		bne	.L139
 3795              		.loc 1 2527 9 discriminator 8
 3796 0f58 D7F8C830 		ldr	r3, [r7, #200]
 3797 0f5c 1B88     		ldrh	r3, [r3]	@ movhi
 3798 0f5e 9BB2     		uxth	r3, r3
 3799 0f60 23F4F843 		bic	r3, r3, #31744
 3800 0f64 9AB2     		uxth	r2, r3
 3801 0f66 D7F8C830 		ldr	r3, [r7, #200]
 3802 0f6a 1A80     		strh	r2, [r3]	@ movhi
 3803 0f6c D7F8C830 		ldr	r3, [r7, #200]
 3804 0f70 1B88     		ldrh	r3, [r3]	@ movhi
 3805 0f72 9BB2     		uxth	r3, r3
 3806 0f74 6FEA4343 		mvn	r3, r3, lsl #17
 3807 0f78 6FEA5343 		mvn	r3, r3, lsr #17
 3808 0f7c 9AB2     		uxth	r2, r3
 3809 0f7e D7F8C830 		ldr	r3, [r7, #200]
 3810 0f82 1A80     		strh	r2, [r3]	@ movhi
 3811 0f84 3DE0     		b	.L138
 3812              	.L139:
 3813              		.loc 1 2527 9 discriminator 9
 3814 0f86 D7F80431 		ldr	r3, [r7, #260]
 3815 0f8a 5B08     		lsrs	r3, r3, #1
 3816 0f8c C7F8DC30 		str	r3, [r7, #220]
 3817 0f90 D7F80431 		ldr	r3, [r7, #260]
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 112


 3818 0f94 03F00103 		and	r3, r3, #1
 3819 0f98 002B     		cmp	r3, #0
 3820 0f9a 04D0     		beq	.L140
 3821              		.loc 1 2527 9 discriminator 10
 3822 0f9c D7F8DC30 		ldr	r3, [r7, #220]
 3823 0fa0 0133     		adds	r3, r3, #1
 3824 0fa2 C7F8DC30 		str	r3, [r7, #220]
 3825              	.L140:
 3826              		.loc 1 2527 9 discriminator 12
 3827 0fa6 D7F8DC30 		ldr	r3, [r7, #220]
 3828 0faa 9BB2     		uxth	r3, r3
 3829 0fac 9B02     		lsls	r3, r3, #10
 3830 0fae 9AB2     		uxth	r2, r3
 3831 0fb0 D7F8C830 		ldr	r3, [r7, #200]
 3832 0fb4 1A80     		strh	r2, [r3]	@ movhi
 3833 0fb6 24E0     		b	.L138
 3834              	.L135:
 3835              	.LBE85:
 3836              	.LBE84:
 3837              		.loc 1 2527 9 discriminator 2
 3838 0fb8 3B46     		mov	r3, r7
 3839 0fba 1B68     		ldr	r3, [r3]
 3840 0fbc 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3841 0fbe 012B     		cmp	r3, #1
 3842 0fc0 1FD1     		bne	.L138
 3843              	.LBB86:
 3844              		.loc 1 2527 9 discriminator 13
 3845 0fc2 3B1D     		adds	r3, r7, #4
 3846 0fc4 1B68     		ldr	r3, [r3]
 3847 0fc6 C7F8D430 		str	r3, [r7, #212]
 3848 0fca 3B1D     		adds	r3, r7, #4
 3849 0fcc 1B68     		ldr	r3, [r3]
 3850 0fce B3F85030 		ldrh	r3, [r3, #80]	@ movhi
 3851 0fd2 9BB2     		uxth	r3, r3
 3852 0fd4 1A46     		mov	r2, r3
 3853 0fd6 D7F8D430 		ldr	r3, [r7, #212]
 3854 0fda 1344     		add	r3, r3, r2
 3855 0fdc C7F8D430 		str	r3, [r7, #212]
 3856 0fe0 3B46     		mov	r3, r7
 3857 0fe2 1B68     		ldr	r3, [r3]
 3858 0fe4 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3859 0fe6 DA00     		lsls	r2, r3, #3
 3860 0fe8 D7F8D430 		ldr	r3, [r7, #212]
 3861 0fec 1344     		add	r3, r3, r2
 3862 0fee 03F20243 		addw	r3, r3, #1026
 3863 0ff2 C7F8D030 		str	r3, [r7, #208]
 3864 0ff6 D7F80431 		ldr	r3, [r7, #260]
 3865 0ffa 9AB2     		uxth	r2, r3
 3866 0ffc D7F8D030 		ldr	r3, [r7, #208]
 3867 1000 1A80     		strh	r2, [r3]	@ movhi
 3868              	.L138:
 3869              	.LBE86:
 3870              	.LBB87:
 3871              		.loc 1 2527 9 discriminator 15
 3872 1002 3B1D     		adds	r3, r7, #4
 3873 1004 1B68     		ldr	r3, [r3]
 3874 1006 C7F8C430 		str	r3, [r7, #196]
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 113


 3875 100a 3B46     		mov	r3, r7
 3876 100c 1B68     		ldr	r3, [r3]
 3877 100e 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3878 1010 002B     		cmp	r3, #0
 3879 1012 6FD1     		bne	.L141
 3880              	.LBB88:
 3881              		.loc 1 2527 9 discriminator 16
 3882 1014 3B1D     		adds	r3, r7, #4
 3883 1016 1B68     		ldr	r3, [r3]
 3884 1018 C7F8BC30 		str	r3, [r7, #188]
 3885 101c 3B1D     		adds	r3, r7, #4
 3886 101e 1B68     		ldr	r3, [r3]
 3887 1020 B3F85030 		ldrh	r3, [r3, #80]	@ movhi
 3888 1024 9BB2     		uxth	r3, r3
 3889 1026 1A46     		mov	r2, r3
 3890 1028 D7F8BC30 		ldr	r3, [r7, #188]
 3891 102c 1344     		add	r3, r3, r2
 3892 102e C7F8BC30 		str	r3, [r7, #188]
 3893 1032 3B46     		mov	r3, r7
 3894 1034 1B68     		ldr	r3, [r3]
 3895 1036 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3896 1038 DA00     		lsls	r2, r3, #3
 3897 103a D7F8BC30 		ldr	r3, [r7, #188]
 3898 103e 1344     		add	r3, r3, r2
 3899 1040 03F20643 		addw	r3, r3, #1030
 3900 1044 C7F8B830 		str	r3, [r7, #184]
 3901              	.LBB89:
 3902 1048 D7F80431 		ldr	r3, [r7, #260]
 3903 104c 3E2B     		cmp	r3, #62
 3904 104e 1DD9     		bls	.L142
 3905              		.loc 1 2527 9 discriminator 18
 3906 1050 D7F80431 		ldr	r3, [r7, #260]
 3907 1054 5B09     		lsrs	r3, r3, #5
 3908 1056 C7F8D830 		str	r3, [r7, #216]
 3909 105a D7F80431 		ldr	r3, [r7, #260]
 3910 105e 03F01F03 		and	r3, r3, #31
 3911 1062 002B     		cmp	r3, #0
 3912 1064 04D1     		bne	.L143
 3913              		.loc 1 2527 9 discriminator 20
 3914 1066 D7F8D830 		ldr	r3, [r7, #216]
 3915 106a 013B     		subs	r3, r3, #1
 3916 106c C7F8D830 		str	r3, [r7, #216]
 3917              	.L143:
 3918              		.loc 1 2527 9 discriminator 22
 3919 1070 D7F8D830 		ldr	r3, [r7, #216]
 3920 1074 9BB2     		uxth	r3, r3
 3921 1076 9B02     		lsls	r3, r3, #10
 3922 1078 9BB2     		uxth	r3, r3
 3923 107a 6FEA4343 		mvn	r3, r3, lsl #17
 3924 107e 6FEA5343 		mvn	r3, r3, lsr #17
 3925 1082 9AB2     		uxth	r2, r3
 3926 1084 D7F8B830 		ldr	r3, [r7, #184]
 3927 1088 1A80     		strh	r2, [r3]	@ movhi
 3928 108a 57E0     		b	.L114
 3929              	.L142:
 3930              		.loc 1 2527 9 discriminator 19
 3931 108c D7F80431 		ldr	r3, [r7, #260]
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 114


 3932 1090 002B     		cmp	r3, #0
 3933 1092 16D1     		bne	.L144
 3934              		.loc 1 2527 9 discriminator 23
 3935 1094 D7F8B830 		ldr	r3, [r7, #184]
 3936 1098 1B88     		ldrh	r3, [r3]	@ movhi
 3937 109a 9BB2     		uxth	r3, r3
 3938 109c 23F4F843 		bic	r3, r3, #31744
 3939 10a0 9AB2     		uxth	r2, r3
 3940 10a2 D7F8B830 		ldr	r3, [r7, #184]
 3941 10a6 1A80     		strh	r2, [r3]	@ movhi
 3942 10a8 D7F8B830 		ldr	r3, [r7, #184]
 3943 10ac 1B88     		ldrh	r3, [r3]	@ movhi
 3944 10ae 9BB2     		uxth	r3, r3
 3945 10b0 6FEA4343 		mvn	r3, r3, lsl #17
 3946 10b4 6FEA5343 		mvn	r3, r3, lsr #17
 3947 10b8 9AB2     		uxth	r2, r3
 3948 10ba D7F8B830 		ldr	r3, [r7, #184]
 3949 10be 1A80     		strh	r2, [r3]	@ movhi
 3950 10c0 3CE0     		b	.L114
 3951              	.L144:
 3952              		.loc 1 2527 9 discriminator 24
 3953 10c2 D7F80431 		ldr	r3, [r7, #260]
 3954 10c6 5B08     		lsrs	r3, r3, #1
 3955 10c8 C7F8D830 		str	r3, [r7, #216]
 3956 10cc D7F80431 		ldr	r3, [r7, #260]
 3957 10d0 03F00103 		and	r3, r3, #1
 3958 10d4 002B     		cmp	r3, #0
 3959 10d6 04D0     		beq	.L145
 3960              		.loc 1 2527 9 discriminator 25
 3961 10d8 D7F8D830 		ldr	r3, [r7, #216]
 3962 10dc 0133     		adds	r3, r3, #1
 3963 10de C7F8D830 		str	r3, [r7, #216]
 3964              	.L145:
 3965              		.loc 1 2527 9 discriminator 27
 3966 10e2 D7F8D830 		ldr	r3, [r7, #216]
 3967 10e6 9BB2     		uxth	r3, r3
 3968 10e8 9B02     		lsls	r3, r3, #10
 3969 10ea 9AB2     		uxth	r2, r3
 3970 10ec D7F8B830 		ldr	r3, [r7, #184]
 3971 10f0 1A80     		strh	r2, [r3]	@ movhi
 3972 10f2 23E0     		b	.L114
 3973              	.L141:
 3974              	.LBE89:
 3975              	.LBE88:
 3976              		.loc 1 2527 9 discriminator 17
 3977 10f4 3B46     		mov	r3, r7
 3978 10f6 1B68     		ldr	r3, [r3]
 3979 10f8 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3980 10fa 012B     		cmp	r3, #1
 3981 10fc 1ED1     		bne	.L114
 3982              		.loc 1 2527 9 discriminator 28
 3983 10fe 3B1D     		adds	r3, r7, #4
 3984 1100 1B68     		ldr	r3, [r3]
 3985 1102 B3F85030 		ldrh	r3, [r3, #80]	@ movhi
 3986 1106 9BB2     		uxth	r3, r3
 3987 1108 1A46     		mov	r2, r3
 3988 110a D7F8C430 		ldr	r3, [r7, #196]
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 115


 3989 110e 1344     		add	r3, r3, r2
 3990 1110 C7F8C430 		str	r3, [r7, #196]
 3991 1114 3B46     		mov	r3, r7
 3992 1116 1B68     		ldr	r3, [r3]
 3993 1118 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3994 111a DA00     		lsls	r2, r3, #3
 3995 111c D7F8C430 		ldr	r3, [r7, #196]
 3996 1120 1344     		add	r3, r3, r2
 3997 1122 03F20643 		addw	r3, r3, #1030
 3998 1126 C7F8C030 		str	r3, [r7, #192]
 3999 112a D7F80431 		ldr	r3, [r7, #260]
 4000 112e 9AB2     		uxth	r2, r3
 4001 1130 D7F8C030 		ldr	r3, [r7, #192]
 4002 1134 1A80     		strh	r2, [r3]	@ movhi
 4003 1136 01E0     		b	.L114
 4004              	.L132:
 4005              	.LBE87:
2528:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
2529:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       else
2530:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
2531:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         return HAL_ERROR;
 4006              		.loc 1 2531 16 is_stmt 1
 4007 1138 0123     		movs	r3, #1
 4008 113a 2EE0     		b	.L146
 4009              	.L114:
 4010              	.LBB90:
2532:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
2533:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
2534:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** #endif /* (USE_USB_DOUBLE_BUFFER == 1U) */
2535:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2536:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     PCD_SET_EP_RX_STATUS(USBx, ep->num, USB_EP_RX_VALID);
 4011              		.loc 1 2536 5
 4012 113c 3B1D     		adds	r3, r7, #4
 4013 113e 1A68     		ldr	r2, [r3]
 4014 1140 3B46     		mov	r3, r7
 4015 1142 1B68     		ldr	r3, [r3]
 4016 1144 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4017 1146 9B00     		lsls	r3, r3, #2
 4018 1148 1344     		add	r3, r3, r2
 4019 114a 1B88     		ldrh	r3, [r3]	@ movhi
 4020 114c 9BB2     		uxth	r3, r3
 4021 114e 23F48043 		bic	r3, r3, #16384
 4022 1152 23F07003 		bic	r3, r3, #112
 4023 1156 A7F88A30 		strh	r3, [r7, #138]	@ movhi
 4024 115a B7F88A30 		ldrh	r3, [r7, #138]	@ movhi
 4025 115e 83F48053 		eor	r3, r3, #4096
 4026 1162 A7F88A30 		strh	r3, [r7, #138]	@ movhi
 4027 1166 B7F88A30 		ldrh	r3, [r7, #138]	@ movhi
 4028 116a 83F40053 		eor	r3, r3, #8192
 4029 116e A7F88A30 		strh	r3, [r7, #138]	@ movhi
 4030 1172 3B1D     		adds	r3, r7, #4
 4031 1174 1A68     		ldr	r2, [r3]
 4032 1176 3B46     		mov	r3, r7
 4033 1178 1B68     		ldr	r3, [r3]
 4034 117a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4035 117c 9B00     		lsls	r3, r3, #2
 4036 117e 1A44     		add	r2, r2, r3
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 116


 4037 1180 B7F88A30 		ldrh	r3, [r7, #138]	@ movhi
 4038 1184 43F07F43 		orr	r3, r3, #-16777216
 4039 1188 43F47F03 		orr	r3, r3, #16711680
 4040 118c 43F40043 		orr	r3, r3, #32768
 4041 1190 43F08003 		orr	r3, r3, #128
 4042 1194 9BB2     		uxth	r3, r3
 4043 1196 1380     		strh	r3, [r2]	@ movhi
 4044              	.L108:
 4045              	.LBE90:
2537:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
2538:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2539:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 4046              		.loc 1 2539 10
 4047 1198 0023     		movs	r3, #0
 4048              	.L146:
2540:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 4049              		.loc 1 2540 1
 4050 119a 1846     		mov	r0, r3
 4051 119c 07F58477 		add	r7, r7, #264
 4052              	.LCFI61:
 4053              		.cfi_def_cfa_offset 8
 4054 11a0 BD46     		mov	sp, r7
 4055              	.LCFI62:
 4056              		.cfi_def_cfa_register 13
 4057              		@ sp needed
 4058 11a2 80BD     		pop	{r7, pc}
 4059              		.cfi_endproc
 4060              	.LFE301:
 4062              		.section	.text.USB_EPSetStall,"ax",%progbits
 4063              		.align	1
 4064              		.global	USB_EPSetStall
 4065              		.syntax unified
 4066              		.thumb
 4067              		.thumb_func
 4068              		.fpu fpv4-sp-d16
 4070              	USB_EPSetStall:
 4071              	.LFB302:
2541:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2542:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2543:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
2544:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_EPSetStall set a stall condition over an EP
2545:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx Selected device
2546:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
2547:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
2548:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
2549:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_EPSetStall(USB_TypeDef *USBx, USB_EPTypeDef *ep)
2550:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 4072              		.loc 1 2550 1
 4073              		.cfi_startproc
 4074              		@ args = 0, pretend = 0, frame = 16
 4075              		@ frame_needed = 1, uses_anonymous_args = 0
 4076              		@ link register save eliminated.
 4077 0000 80B4     		push	{r7}
 4078              	.LCFI63:
 4079              		.cfi_def_cfa_offset 4
 4080              		.cfi_offset 7, -4
 4081 0002 85B0     		sub	sp, sp, #20
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 117


 4082              	.LCFI64:
 4083              		.cfi_def_cfa_offset 24
 4084 0004 00AF     		add	r7, sp, #0
 4085              	.LCFI65:
 4086              		.cfi_def_cfa_register 7
 4087 0006 7860     		str	r0, [r7, #4]
 4088 0008 3960     		str	r1, [r7]
2551:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (ep->is_in != 0U)
 4089              		.loc 1 2551 9
 4090 000a 3B68     		ldr	r3, [r7]
 4091 000c 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 4092              		.loc 1 2551 6
 4093 000e 002B     		cmp	r3, #0
 4094 0010 20D0     		beq	.L148
 4095              	.LBB91:
2552:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
2553:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     PCD_SET_EP_TX_STATUS(USBx, ep->num, USB_EP_TX_STALL);
 4096              		.loc 1 2553 5
 4097 0012 7A68     		ldr	r2, [r7, #4]
 4098 0014 3B68     		ldr	r3, [r7]
 4099 0016 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4100 0018 9B00     		lsls	r3, r3, #2
 4101 001a 1344     		add	r3, r3, r2
 4102 001c 1B88     		ldrh	r3, [r3]	@ movhi
 4103 001e 9BB2     		uxth	r3, r3
 4104 0020 23F4E043 		bic	r3, r3, #28672
 4105 0024 23F04003 		bic	r3, r3, #64
 4106 0028 BB81     		strh	r3, [r7, #12]	@ movhi
 4107 002a BB89     		ldrh	r3, [r7, #12]	@ movhi
 4108 002c 83F01003 		eor	r3, r3, #16
 4109 0030 BB81     		strh	r3, [r7, #12]	@ movhi
 4110 0032 7A68     		ldr	r2, [r7, #4]
 4111 0034 3B68     		ldr	r3, [r7]
 4112 0036 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4113 0038 9B00     		lsls	r3, r3, #2
 4114 003a 1A44     		add	r2, r2, r3
 4115 003c BB89     		ldrh	r3, [r7, #12]	@ movhi
 4116 003e 43F07F43 		orr	r3, r3, #-16777216
 4117 0042 43F47F03 		orr	r3, r3, #16711680
 4118 0046 43F40043 		orr	r3, r3, #32768
 4119 004a 43F08003 		orr	r3, r3, #128
 4120 004e 9BB2     		uxth	r3, r3
 4121 0050 1380     		strh	r3, [r2]	@ movhi
 4122              	.LBE91:
 4123 0052 1FE0     		b	.L149
 4124              	.L148:
 4125              	.LBB92:
2554:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
2555:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else
2556:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
2557:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     PCD_SET_EP_RX_STATUS(USBx, ep->num, USB_EP_RX_STALL);
 4126              		.loc 1 2557 5
 4127 0054 7A68     		ldr	r2, [r7, #4]
 4128 0056 3B68     		ldr	r3, [r7]
 4129 0058 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4130 005a 9B00     		lsls	r3, r3, #2
 4131 005c 1344     		add	r3, r3, r2
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 118


 4132 005e 1B88     		ldrh	r3, [r3]	@ movhi
 4133 0060 9BB2     		uxth	r3, r3
 4134 0062 23F48043 		bic	r3, r3, #16384
 4135 0066 23F07003 		bic	r3, r3, #112
 4136 006a FB81     		strh	r3, [r7, #14]	@ movhi
 4137 006c FB89     		ldrh	r3, [r7, #14]	@ movhi
 4138 006e 83F48053 		eor	r3, r3, #4096
 4139 0072 FB81     		strh	r3, [r7, #14]	@ movhi
 4140 0074 7A68     		ldr	r2, [r7, #4]
 4141 0076 3B68     		ldr	r3, [r7]
 4142 0078 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4143 007a 9B00     		lsls	r3, r3, #2
 4144 007c 1A44     		add	r2, r2, r3
 4145 007e FB89     		ldrh	r3, [r7, #14]	@ movhi
 4146 0080 43F07F43 		orr	r3, r3, #-16777216
 4147 0084 43F47F03 		orr	r3, r3, #16711680
 4148 0088 43F40043 		orr	r3, r3, #32768
 4149 008c 43F08003 		orr	r3, r3, #128
 4150 0090 9BB2     		uxth	r3, r3
 4151 0092 1380     		strh	r3, [r2]	@ movhi
 4152              	.L149:
 4153              	.LBE92:
2558:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
2559:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2560:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 4154              		.loc 1 2560 10
 4155 0094 0023     		movs	r3, #0
2561:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 4156              		.loc 1 2561 1
 4157 0096 1846     		mov	r0, r3
 4158 0098 1437     		adds	r7, r7, #20
 4159              	.LCFI66:
 4160              		.cfi_def_cfa_offset 4
 4161 009a BD46     		mov	sp, r7
 4162              	.LCFI67:
 4163              		.cfi_def_cfa_register 13
 4164              		@ sp needed
 4165 009c 5DF8047B 		ldr	r7, [sp], #4
 4166              	.LCFI68:
 4167              		.cfi_restore 7
 4168              		.cfi_def_cfa_offset 0
 4169 00a0 7047     		bx	lr
 4170              		.cfi_endproc
 4171              	.LFE302:
 4173              		.section	.text.USB_EPClearStall,"ax",%progbits
 4174              		.align	1
 4175              		.global	USB_EPClearStall
 4176              		.syntax unified
 4177              		.thumb
 4178              		.thumb_func
 4179              		.fpu fpv4-sp-d16
 4181              	USB_EPClearStall:
 4182              	.LFB303:
2562:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2563:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
2564:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_EPClearStall Clear a stall condition over an EP
2565:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx Selected device
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 119


2566:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
2567:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
2568:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
2569:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_EPClearStall(USB_TypeDef *USBx, USB_EPTypeDef *ep)
2570:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 4183              		.loc 1 2570 1
 4184              		.cfi_startproc
 4185              		@ args = 0, pretend = 0, frame = 24
 4186              		@ frame_needed = 1, uses_anonymous_args = 0
 4187              		@ link register save eliminated.
 4188 0000 80B4     		push	{r7}
 4189              	.LCFI69:
 4190              		.cfi_def_cfa_offset 4
 4191              		.cfi_offset 7, -4
 4192 0002 87B0     		sub	sp, sp, #28
 4193              	.LCFI70:
 4194              		.cfi_def_cfa_offset 32
 4195 0004 00AF     		add	r7, sp, #0
 4196              	.LCFI71:
 4197              		.cfi_def_cfa_register 7
 4198 0006 7860     		str	r0, [r7, #4]
 4199 0008 3960     		str	r1, [r7]
2571:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (ep->doublebuffer == 0U)
 4200              		.loc 1 2571 9
 4201 000a 3B68     		ldr	r3, [r7]
 4202 000c 1B7B     		ldrb	r3, [r3, #12]	@ zero_extendqisi2
 4203              		.loc 1 2571 6
 4204 000e 002B     		cmp	r3, #0
 4205 0010 40F09D80 		bne	.L152
2572:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
2573:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (ep->is_in != 0U)
 4206              		.loc 1 2573 11
 4207 0014 3B68     		ldr	r3, [r7]
 4208 0016 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 4209              		.loc 1 2573 8
 4210 0018 002B     		cmp	r3, #0
 4211 001a 4CD0     		beq	.L153
 4212              	.LBB93:
2574:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
2575:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       PCD_CLEAR_TX_DTOG(USBx, ep->num);
 4213              		.loc 1 2575 7
 4214 001c 7A68     		ldr	r2, [r7, #4]
 4215 001e 3B68     		ldr	r3, [r7]
 4216 0020 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4217 0022 9B00     		lsls	r3, r3, #2
 4218 0024 1344     		add	r3, r3, r2
 4219 0026 1B88     		ldrh	r3, [r3]	@ movhi
 4220 0028 3B82     		strh	r3, [r7, #16]	@ movhi
 4221 002a 3B8A     		ldrh	r3, [r7, #16]
 4222 002c 03F04003 		and	r3, r3, #64
 4223 0030 002B     		cmp	r3, #0
 4224 0032 1BD0     		beq	.L154
 4225              	.LBB94:
 4226              		.loc 1 2575 7 is_stmt 0 discriminator 1
 4227 0034 7A68     		ldr	r2, [r7, #4]
 4228 0036 3B68     		ldr	r3, [r7]
 4229 0038 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 120


 4230 003a 9B00     		lsls	r3, r3, #2
 4231 003c 1344     		add	r3, r3, r2
 4232 003e 1B88     		ldrh	r3, [r3]	@ movhi
 4233 0040 9BB2     		uxth	r3, r3
 4234 0042 23F4E043 		bic	r3, r3, #28672
 4235 0046 23F07003 		bic	r3, r3, #112
 4236 004a FB81     		strh	r3, [r7, #14]	@ movhi
 4237 004c 7A68     		ldr	r2, [r7, #4]
 4238 004e 3B68     		ldr	r3, [r7]
 4239 0050 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4240 0052 9B00     		lsls	r3, r3, #2
 4241 0054 1A44     		add	r2, r2, r3
 4242 0056 FB89     		ldrh	r3, [r7, #14]	@ movhi
 4243 0058 43F07F43 		orr	r3, r3, #-16777216
 4244 005c 43F47F03 		orr	r3, r3, #16711680
 4245 0060 43F40043 		orr	r3, r3, #32768
 4246 0064 43F0C003 		orr	r3, r3, #192
 4247 0068 9BB2     		uxth	r3, r3
 4248 006a 1380     		strh	r3, [r2]	@ movhi
 4249              	.L154:
 4250              	.LBE94:
 4251              	.LBE93:
2576:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2577:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       if (ep->type != EP_TYPE_ISOC)
 4252              		.loc 1 2577 13 is_stmt 1
 4253 006c 3B68     		ldr	r3, [r7]
 4254 006e DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 4255              		.loc 1 2577 10
 4256 0070 012B     		cmp	r3, #1
 4257 0072 6CD0     		beq	.L152
 4258              	.LBB95:
2578:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
2579:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         /* Configure NAK status for the Endpoint */
2580:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         PCD_SET_EP_TX_STATUS(USBx, ep->num, USB_EP_TX_NAK);
 4259              		.loc 1 2580 9
 4260 0074 7A68     		ldr	r2, [r7, #4]
 4261 0076 3B68     		ldr	r3, [r7]
 4262 0078 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4263 007a 9B00     		lsls	r3, r3, #2
 4264 007c 1344     		add	r3, r3, r2
 4265 007e 1B88     		ldrh	r3, [r3]	@ movhi
 4266 0080 9BB2     		uxth	r3, r3
 4267 0082 23F4E043 		bic	r3, r3, #28672
 4268 0086 23F04003 		bic	r3, r3, #64
 4269 008a BB81     		strh	r3, [r7, #12]	@ movhi
 4270 008c BB89     		ldrh	r3, [r7, #12]	@ movhi
 4271 008e 83F02003 		eor	r3, r3, #32
 4272 0092 BB81     		strh	r3, [r7, #12]	@ movhi
 4273 0094 7A68     		ldr	r2, [r7, #4]
 4274 0096 3B68     		ldr	r3, [r7]
 4275 0098 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4276 009a 9B00     		lsls	r3, r3, #2
 4277 009c 1A44     		add	r2, r2, r3
 4278 009e BB89     		ldrh	r3, [r7, #12]	@ movhi
 4279 00a0 43F07F43 		orr	r3, r3, #-16777216
 4280 00a4 43F47F03 		orr	r3, r3, #16711680
 4281 00a8 43F40043 		orr	r3, r3, #32768
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 121


 4282 00ac 43F08003 		orr	r3, r3, #128
 4283 00b0 9BB2     		uxth	r3, r3
 4284 00b2 1380     		strh	r3, [r2]	@ movhi
 4285 00b4 4BE0     		b	.L152
 4286              	.L153:
 4287              	.LBE95:
 4288              	.LBB96:
2581:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
2582:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
2583:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     else
2584:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
2585:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       PCD_CLEAR_RX_DTOG(USBx, ep->num);
 4289              		.loc 1 2585 7
 4290 00b6 7A68     		ldr	r2, [r7, #4]
 4291 00b8 3B68     		ldr	r3, [r7]
 4292 00ba 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4293 00bc 9B00     		lsls	r3, r3, #2
 4294 00be 1344     		add	r3, r3, r2
 4295 00c0 1B88     		ldrh	r3, [r3]	@ movhi
 4296 00c2 FB82     		strh	r3, [r7, #22]	@ movhi
 4297 00c4 FB8A     		ldrh	r3, [r7, #22]
 4298 00c6 03F48043 		and	r3, r3, #16384
 4299 00ca 002B     		cmp	r3, #0
 4300 00cc 1BD0     		beq	.L155
 4301              	.LBB97:
 4302              		.loc 1 2585 7 is_stmt 0 discriminator 1
 4303 00ce 7A68     		ldr	r2, [r7, #4]
 4304 00d0 3B68     		ldr	r3, [r7]
 4305 00d2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4306 00d4 9B00     		lsls	r3, r3, #2
 4307 00d6 1344     		add	r3, r3, r2
 4308 00d8 1B88     		ldrh	r3, [r3]	@ movhi
 4309 00da 9BB2     		uxth	r3, r3
 4310 00dc 23F4E043 		bic	r3, r3, #28672
 4311 00e0 23F07003 		bic	r3, r3, #112
 4312 00e4 BB82     		strh	r3, [r7, #20]	@ movhi
 4313 00e6 7A68     		ldr	r2, [r7, #4]
 4314 00e8 3B68     		ldr	r3, [r7]
 4315 00ea 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4316 00ec 9B00     		lsls	r3, r3, #2
 4317 00ee 1A44     		add	r2, r2, r3
 4318 00f0 BB8A     		ldrh	r3, [r7, #20]	@ movhi
 4319 00f2 43F07F43 		orr	r3, r3, #-16777216
 4320 00f6 43F47F03 		orr	r3, r3, #16711680
 4321 00fa 43F44043 		orr	r3, r3, #49152
 4322 00fe 43F08003 		orr	r3, r3, #128
 4323 0102 9BB2     		uxth	r3, r3
 4324 0104 1380     		strh	r3, [r2]	@ movhi
 4325              	.L155:
 4326              	.LBE97:
 4327              	.LBE96:
 4328              	.LBB98:
2586:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2587:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       /* Configure VALID status for the Endpoint */
2588:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       PCD_SET_EP_RX_STATUS(USBx, ep->num, USB_EP_RX_VALID);
 4329              		.loc 1 2588 7 is_stmt 1
 4330 0106 7A68     		ldr	r2, [r7, #4]
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 122


 4331 0108 3B68     		ldr	r3, [r7]
 4332 010a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4333 010c 9B00     		lsls	r3, r3, #2
 4334 010e 1344     		add	r3, r3, r2
 4335 0110 1B88     		ldrh	r3, [r3]	@ movhi
 4336 0112 9BB2     		uxth	r3, r3
 4337 0114 23F48043 		bic	r3, r3, #16384
 4338 0118 23F07003 		bic	r3, r3, #112
 4339 011c 7B82     		strh	r3, [r7, #18]	@ movhi
 4340 011e 7B8A     		ldrh	r3, [r7, #18]	@ movhi
 4341 0120 83F48053 		eor	r3, r3, #4096
 4342 0124 7B82     		strh	r3, [r7, #18]	@ movhi
 4343 0126 7B8A     		ldrh	r3, [r7, #18]	@ movhi
 4344 0128 83F40053 		eor	r3, r3, #8192
 4345 012c 7B82     		strh	r3, [r7, #18]	@ movhi
 4346 012e 7A68     		ldr	r2, [r7, #4]
 4347 0130 3B68     		ldr	r3, [r7]
 4348 0132 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4349 0134 9B00     		lsls	r3, r3, #2
 4350 0136 1A44     		add	r2, r2, r3
 4351 0138 7B8A     		ldrh	r3, [r7, #18]	@ movhi
 4352 013a 43F07F43 		orr	r3, r3, #-16777216
 4353 013e 43F47F03 		orr	r3, r3, #16711680
 4354 0142 43F40043 		orr	r3, r3, #32768
 4355 0146 43F08003 		orr	r3, r3, #128
 4356 014a 9BB2     		uxth	r3, r3
 4357 014c 1380     		strh	r3, [r2]	@ movhi
 4358              	.L152:
 4359              	.LBE98:
2589:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
2590:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
2591:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2592:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 4360              		.loc 1 2592 10
 4361 014e 0023     		movs	r3, #0
2593:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 4362              		.loc 1 2593 1
 4363 0150 1846     		mov	r0, r3
 4364 0152 1C37     		adds	r7, r7, #28
 4365              	.LCFI72:
 4366              		.cfi_def_cfa_offset 4
 4367 0154 BD46     		mov	sp, r7
 4368              	.LCFI73:
 4369              		.cfi_def_cfa_register 13
 4370              		@ sp needed
 4371 0156 5DF8047B 		ldr	r7, [sp], #4
 4372              	.LCFI74:
 4373              		.cfi_restore 7
 4374              		.cfi_def_cfa_offset 0
 4375 015a 7047     		bx	lr
 4376              		.cfi_endproc
 4377              	.LFE303:
 4379              		.section	.text.USB_EPStopXfer,"ax",%progbits
 4380              		.align	1
 4381              		.global	USB_EPStopXfer
 4382              		.syntax unified
 4383              		.thumb
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 123


 4384              		.thumb_func
 4385              		.fpu fpv4-sp-d16
 4387              	USB_EPStopXfer:
 4388              	.LFB304:
2594:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2595:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
2596:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****    * @brief  USB_EPStoptXfer  Stop transfer on an EP
2597:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****    * @param  USBx  usb device instance
2598:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****    * @param  ep pointer to endpoint structure
2599:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****    * @retval HAL status
2600:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****    */
2601:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_EPStopXfer(USB_TypeDef *USBx, USB_EPTypeDef *ep)
2602:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 4389              		.loc 1 2602 1
 4390              		.cfi_startproc
 4391              		@ args = 0, pretend = 0, frame = 16
 4392              		@ frame_needed = 1, uses_anonymous_args = 0
 4393              		@ link register save eliminated.
 4394 0000 80B4     		push	{r7}
 4395              	.LCFI75:
 4396              		.cfi_def_cfa_offset 4
 4397              		.cfi_offset 7, -4
 4398 0002 85B0     		sub	sp, sp, #20
 4399              	.LCFI76:
 4400              		.cfi_def_cfa_offset 24
 4401 0004 00AF     		add	r7, sp, #0
 4402              	.LCFI77:
 4403              		.cfi_def_cfa_register 7
 4404 0006 7860     		str	r0, [r7, #4]
 4405 0008 3960     		str	r1, [r7]
2603:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* IN endpoint */
2604:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (ep->is_in == 1U)
 4406              		.loc 1 2604 9
 4407 000a 3B68     		ldr	r3, [r7]
 4408 000c 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 4409              		.loc 1 2604 6
 4410 000e 012B     		cmp	r3, #1
 4411 0010 46D1     		bne	.L158
2605:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
2606:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (ep->doublebuffer == 0U)
 4412              		.loc 1 2606 11
 4413 0012 3B68     		ldr	r3, [r7]
 4414 0014 1B7B     		ldrb	r3, [r3, #12]	@ zero_extendqisi2
 4415              		.loc 1 2606 8
 4416 0016 002B     		cmp	r3, #0
 4417 0018 40F08780 		bne	.L159
2607:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
2608:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       if (ep->type != EP_TYPE_ISOC)
 4418              		.loc 1 2608 13
 4419 001c 3B68     		ldr	r3, [r7]
 4420 001e DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 4421              		.loc 1 2608 10
 4422 0020 012B     		cmp	r3, #1
 4423 0022 20D0     		beq	.L160
 4424              	.LBB99:
2609:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
2610:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         /* Configure NAK status for the Endpoint */
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 124


2611:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         PCD_SET_EP_TX_STATUS(USBx, ep->num, USB_EP_TX_NAK);
 4425              		.loc 1 2611 9
 4426 0024 7A68     		ldr	r2, [r7, #4]
 4427 0026 3B68     		ldr	r3, [r7]
 4428 0028 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4429 002a 9B00     		lsls	r3, r3, #2
 4430 002c 1344     		add	r3, r3, r2
 4431 002e 1B88     		ldrh	r3, [r3]	@ movhi
 4432 0030 9BB2     		uxth	r3, r3
 4433 0032 23F4E043 		bic	r3, r3, #28672
 4434 0036 23F04003 		bic	r3, r3, #64
 4435 003a 3B81     		strh	r3, [r7, #8]	@ movhi
 4436 003c 3B89     		ldrh	r3, [r7, #8]	@ movhi
 4437 003e 83F02003 		eor	r3, r3, #32
 4438 0042 3B81     		strh	r3, [r7, #8]	@ movhi
 4439 0044 7A68     		ldr	r2, [r7, #4]
 4440 0046 3B68     		ldr	r3, [r7]
 4441 0048 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4442 004a 9B00     		lsls	r3, r3, #2
 4443 004c 1A44     		add	r2, r2, r3
 4444 004e 3B89     		ldrh	r3, [r7, #8]	@ movhi
 4445 0050 43F07F43 		orr	r3, r3, #-16777216
 4446 0054 43F47F03 		orr	r3, r3, #16711680
 4447 0058 43F40043 		orr	r3, r3, #32768
 4448 005c 43F08003 		orr	r3, r3, #128
 4449 0060 9BB2     		uxth	r3, r3
 4450 0062 1380     		strh	r3, [r2]	@ movhi
 4451              	.LBE99:
 4452 0064 61E0     		b	.L159
 4453              	.L160:
 4454              	.LBB100:
2612:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
2613:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       else
2614:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
2615:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         /* Configure TX Endpoint to disabled state */
2616:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         PCD_SET_EP_TX_STATUS(USBx, ep->num, USB_EP_TX_DIS);
 4455              		.loc 1 2616 9
 4456 0066 7A68     		ldr	r2, [r7, #4]
 4457 0068 3B68     		ldr	r3, [r7]
 4458 006a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4459 006c 9B00     		lsls	r3, r3, #2
 4460 006e 1344     		add	r3, r3, r2
 4461 0070 1B88     		ldrh	r3, [r3]	@ movhi
 4462 0072 9BB2     		uxth	r3, r3
 4463 0074 23F4E043 		bic	r3, r3, #28672
 4464 0078 23F04003 		bic	r3, r3, #64
 4465 007c 7B81     		strh	r3, [r7, #10]	@ movhi
 4466 007e 7A68     		ldr	r2, [r7, #4]
 4467 0080 3B68     		ldr	r3, [r7]
 4468 0082 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4469 0084 9B00     		lsls	r3, r3, #2
 4470 0086 1A44     		add	r2, r2, r3
 4471 0088 7B89     		ldrh	r3, [r7, #10]	@ movhi
 4472 008a 43F07F43 		orr	r3, r3, #-16777216
 4473 008e 43F47F03 		orr	r3, r3, #16711680
 4474 0092 43F40043 		orr	r3, r3, #32768
 4475 0096 43F08003 		orr	r3, r3, #128
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 125


 4476 009a 9BB2     		uxth	r3, r3
 4477 009c 1380     		strh	r3, [r2]	@ movhi
 4478 009e 44E0     		b	.L159
 4479              	.L158:
 4480              	.LBE100:
2617:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
2618:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
2619:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
2620:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else /* OUT endpoint */
2621:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
2622:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (ep->doublebuffer == 0U)
 4481              		.loc 1 2622 11
 4482 00a0 3B68     		ldr	r3, [r7]
 4483 00a2 1B7B     		ldrb	r3, [r3, #12]	@ zero_extendqisi2
 4484              		.loc 1 2622 8
 4485 00a4 002B     		cmp	r3, #0
 4486 00a6 40D1     		bne	.L159
2623:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
2624:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       if (ep->type != EP_TYPE_ISOC)
 4487              		.loc 1 2624 13
 4488 00a8 3B68     		ldr	r3, [r7]
 4489 00aa DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 4490              		.loc 1 2624 10
 4491 00ac 012B     		cmp	r3, #1
 4492 00ae 20D0     		beq	.L161
 4493              	.LBB101:
2625:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
2626:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         /* Configure NAK status for the Endpoint */
2627:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         PCD_SET_EP_RX_STATUS(USBx, ep->num, USB_EP_RX_NAK);
 4494              		.loc 1 2627 9
 4495 00b0 7A68     		ldr	r2, [r7, #4]
 4496 00b2 3B68     		ldr	r3, [r7]
 4497 00b4 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4498 00b6 9B00     		lsls	r3, r3, #2
 4499 00b8 1344     		add	r3, r3, r2
 4500 00ba 1B88     		ldrh	r3, [r3]	@ movhi
 4501 00bc 9BB2     		uxth	r3, r3
 4502 00be 23F48043 		bic	r3, r3, #16384
 4503 00c2 23F07003 		bic	r3, r3, #112
 4504 00c6 BB81     		strh	r3, [r7, #12]	@ movhi
 4505 00c8 BB89     		ldrh	r3, [r7, #12]	@ movhi
 4506 00ca 83F40053 		eor	r3, r3, #8192
 4507 00ce BB81     		strh	r3, [r7, #12]	@ movhi
 4508 00d0 7A68     		ldr	r2, [r7, #4]
 4509 00d2 3B68     		ldr	r3, [r7]
 4510 00d4 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4511 00d6 9B00     		lsls	r3, r3, #2
 4512 00d8 1A44     		add	r2, r2, r3
 4513 00da BB89     		ldrh	r3, [r7, #12]	@ movhi
 4514 00dc 43F07F43 		orr	r3, r3, #-16777216
 4515 00e0 43F47F03 		orr	r3, r3, #16711680
 4516 00e4 43F40043 		orr	r3, r3, #32768
 4517 00e8 43F08003 		orr	r3, r3, #128
 4518 00ec 9BB2     		uxth	r3, r3
 4519 00ee 1380     		strh	r3, [r2]	@ movhi
 4520              	.LBE101:
 4521 00f0 1BE0     		b	.L159
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 126


 4522              	.L161:
 4523              	.LBB102:
2628:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
2629:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       else
2630:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
2631:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         /* Configure RX Endpoint to disabled state */
2632:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         PCD_SET_EP_RX_STATUS(USBx, ep->num, USB_EP_RX_DIS);
 4524              		.loc 1 2632 9
 4525 00f2 7A68     		ldr	r2, [r7, #4]
 4526 00f4 3B68     		ldr	r3, [r7]
 4527 00f6 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4528 00f8 9B00     		lsls	r3, r3, #2
 4529 00fa 1344     		add	r3, r3, r2
 4530 00fc 1B88     		ldrh	r3, [r3]	@ movhi
 4531 00fe 9BB2     		uxth	r3, r3
 4532 0100 23F48043 		bic	r3, r3, #16384
 4533 0104 23F07003 		bic	r3, r3, #112
 4534 0108 FB81     		strh	r3, [r7, #14]	@ movhi
 4535 010a 7A68     		ldr	r2, [r7, #4]
 4536 010c 3B68     		ldr	r3, [r7]
 4537 010e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4538 0110 9B00     		lsls	r3, r3, #2
 4539 0112 1A44     		add	r2, r2, r3
 4540 0114 FB89     		ldrh	r3, [r7, #14]	@ movhi
 4541 0116 43F07F43 		orr	r3, r3, #-16777216
 4542 011a 43F47F03 		orr	r3, r3, #16711680
 4543 011e 43F40043 		orr	r3, r3, #32768
 4544 0122 43F08003 		orr	r3, r3, #128
 4545 0126 9BB2     		uxth	r3, r3
 4546 0128 1380     		strh	r3, [r2]	@ movhi
 4547              	.L159:
 4548              	.LBE102:
2633:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
2634:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
2635:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
2636:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2637:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 4549              		.loc 1 2637 10
 4550 012a 0023     		movs	r3, #0
2638:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 4551              		.loc 1 2638 1
 4552 012c 1846     		mov	r0, r3
 4553 012e 1437     		adds	r7, r7, #20
 4554              	.LCFI78:
 4555              		.cfi_def_cfa_offset 4
 4556 0130 BD46     		mov	sp, r7
 4557              	.LCFI79:
 4558              		.cfi_def_cfa_register 13
 4559              		@ sp needed
 4560 0132 5DF8047B 		ldr	r7, [sp], #4
 4561              	.LCFI80:
 4562              		.cfi_restore 7
 4563              		.cfi_def_cfa_offset 0
 4564 0136 7047     		bx	lr
 4565              		.cfi_endproc
 4566              	.LFE304:
 4568              		.section	.text.USB_StopDevice,"ax",%progbits
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 127


 4569              		.align	1
 4570              		.global	USB_StopDevice
 4571              		.syntax unified
 4572              		.thumb
 4573              		.thumb_func
 4574              		.fpu fpv4-sp-d16
 4576              	USB_StopDevice:
 4577              	.LFB305:
2639:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** #endif /* defined (HAL_PCD_MODULE_ENABLED) */
2640:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2641:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
2642:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_StopDevice Stop the usb device mode
2643:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx Selected device
2644:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
2645:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
2646:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_StopDevice(USB_TypeDef *USBx)
2647:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 4578              		.loc 1 2647 1
 4579              		.cfi_startproc
 4580              		@ args = 0, pretend = 0, frame = 8
 4581              		@ frame_needed = 1, uses_anonymous_args = 0
 4582              		@ link register save eliminated.
 4583 0000 80B4     		push	{r7}
 4584              	.LCFI81:
 4585              		.cfi_def_cfa_offset 4
 4586              		.cfi_offset 7, -4
 4587 0002 83B0     		sub	sp, sp, #12
 4588              	.LCFI82:
 4589              		.cfi_def_cfa_offset 16
 4590 0004 00AF     		add	r7, sp, #0
 4591              	.LCFI83:
 4592              		.cfi_def_cfa_register 7
 4593 0006 7860     		str	r0, [r7, #4]
2648:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* disable all interrupts and force USB reset */
2649:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->CNTR = (uint16_t)USB_CNTR_FRES;
 4594              		.loc 1 2649 14
 4595 0008 7B68     		ldr	r3, [r7, #4]
 4596 000a 0122     		movs	r2, #1
 4597 000c A3F84020 		strh	r2, [r3, #64]	@ movhi
2650:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2651:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* clear interrupt status register */
2652:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->ISTR = 0U;
 4598              		.loc 1 2652 14
 4599 0010 7B68     		ldr	r3, [r7, #4]
 4600 0012 0022     		movs	r2, #0
 4601 0014 A3F84420 		strh	r2, [r3, #68]	@ movhi
2653:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2654:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* switch-off device */
2655:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->CNTR = (uint16_t)(USB_CNTR_FRES | USB_CNTR_PDWN);
 4602              		.loc 1 2655 14
 4603 0018 7B68     		ldr	r3, [r7, #4]
 4604 001a 0322     		movs	r2, #3
 4605 001c A3F84020 		strh	r2, [r3, #64]	@ movhi
2656:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2657:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 4606              		.loc 1 2657 10
 4607 0020 0023     		movs	r3, #0
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 128


2658:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 4608              		.loc 1 2658 1
 4609 0022 1846     		mov	r0, r3
 4610 0024 0C37     		adds	r7, r7, #12
 4611              	.LCFI84:
 4612              		.cfi_def_cfa_offset 4
 4613 0026 BD46     		mov	sp, r7
 4614              	.LCFI85:
 4615              		.cfi_def_cfa_register 13
 4616              		@ sp needed
 4617 0028 5DF8047B 		ldr	r7, [sp], #4
 4618              	.LCFI86:
 4619              		.cfi_restore 7
 4620              		.cfi_def_cfa_offset 0
 4621 002c 7047     		bx	lr
 4622              		.cfi_endproc
 4623              	.LFE305:
 4625              		.section	.text.USB_SetDevAddress,"ax",%progbits
 4626              		.align	1
 4627              		.global	USB_SetDevAddress
 4628              		.syntax unified
 4629              		.thumb
 4630              		.thumb_func
 4631              		.fpu fpv4-sp-d16
 4633              	USB_SetDevAddress:
 4634              	.LFB306:
2659:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2660:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
2661:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_SetDevAddress Stop the usb device mode
2662:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx Selected device
2663:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  address new device address to be assigned
2664:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *          This parameter can be a value from 0 to 255
2665:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
2666:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
2667:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef  USB_SetDevAddress(USB_TypeDef *USBx, uint8_t address)
2668:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 4635              		.loc 1 2668 1
 4636              		.cfi_startproc
 4637              		@ args = 0, pretend = 0, frame = 8
 4638              		@ frame_needed = 1, uses_anonymous_args = 0
 4639              		@ link register save eliminated.
 4640 0000 80B4     		push	{r7}
 4641              	.LCFI87:
 4642              		.cfi_def_cfa_offset 4
 4643              		.cfi_offset 7, -4
 4644 0002 83B0     		sub	sp, sp, #12
 4645              	.LCFI88:
 4646              		.cfi_def_cfa_offset 16
 4647 0004 00AF     		add	r7, sp, #0
 4648              	.LCFI89:
 4649              		.cfi_def_cfa_register 7
 4650 0006 7860     		str	r0, [r7, #4]
 4651 0008 0B46     		mov	r3, r1
 4652 000a FB70     		strb	r3, [r7, #3]
2669:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (address == 0U)
 4653              		.loc 1 2669 6
 4654 000c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 129


 4655 000e 002B     		cmp	r3, #0
 4656 0010 03D1     		bne	.L166
2670:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
2671:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     /* set device address and enable function */
2672:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx->DADDR = (uint16_t)USB_DADDR_EF;
 4657              		.loc 1 2672 17
 4658 0012 7B68     		ldr	r3, [r7, #4]
 4659 0014 8022     		movs	r2, #128
 4660 0016 A3F84C20 		strh	r2, [r3, #76]	@ movhi
 4661              	.L166:
2673:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
2674:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2675:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 4662              		.loc 1 2675 10
 4663 001a 0023     		movs	r3, #0
2676:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 4664              		.loc 1 2676 1
 4665 001c 1846     		mov	r0, r3
 4666 001e 0C37     		adds	r7, r7, #12
 4667              	.LCFI90:
 4668              		.cfi_def_cfa_offset 4
 4669 0020 BD46     		mov	sp, r7
 4670              	.LCFI91:
 4671              		.cfi_def_cfa_register 13
 4672              		@ sp needed
 4673 0022 5DF8047B 		ldr	r7, [sp], #4
 4674              	.LCFI92:
 4675              		.cfi_restore 7
 4676              		.cfi_def_cfa_offset 0
 4677 0026 7047     		bx	lr
 4678              		.cfi_endproc
 4679              	.LFE306:
 4681              		.section	.text.USB_DevConnect,"ax",%progbits
 4682              		.align	1
 4683              		.global	USB_DevConnect
 4684              		.syntax unified
 4685              		.thumb
 4686              		.thumb_func
 4687              		.fpu fpv4-sp-d16
 4689              	USB_DevConnect:
 4690              	.LFB307:
2677:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2678:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
2679:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_DevConnect Connect the USB device by enabling the pull-up/pull-down
2680:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx Selected device
2681:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
2682:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
2683:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef  USB_DevConnect(USB_TypeDef *USBx)
2684:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 4691              		.loc 1 2684 1
 4692              		.cfi_startproc
 4693              		@ args = 0, pretend = 0, frame = 8
 4694              		@ frame_needed = 1, uses_anonymous_args = 0
 4695              		@ link register save eliminated.
 4696 0000 80B4     		push	{r7}
 4697              	.LCFI93:
 4698              		.cfi_def_cfa_offset 4
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 130


 4699              		.cfi_offset 7, -4
 4700 0002 83B0     		sub	sp, sp, #12
 4701              	.LCFI94:
 4702              		.cfi_def_cfa_offset 16
 4703 0004 00AF     		add	r7, sp, #0
 4704              	.LCFI95:
 4705              		.cfi_def_cfa_register 7
 4706 0006 7860     		str	r0, [r7, #4]
2685:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Enabling DP Pull-UP bit to Connect internal PU resistor on USB DP line */
2686:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->BCDR |= (uint16_t)USB_BCDR_DPPU;
 4707              		.loc 1 2686 14
 4708 0008 7B68     		ldr	r3, [r7, #4]
 4709 000a B3F85830 		ldrh	r3, [r3, #88]	@ movhi
 4710 000e 9BB2     		uxth	r3, r3
 4711 0010 6FEA4343 		mvn	r3, r3, lsl #17
 4712 0014 6FEA5343 		mvn	r3, r3, lsr #17
 4713 0018 9AB2     		uxth	r2, r3
 4714 001a 7B68     		ldr	r3, [r7, #4]
 4715 001c A3F85820 		strh	r2, [r3, #88]	@ movhi
2687:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2688:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 4716              		.loc 1 2688 10
 4717 0020 0023     		movs	r3, #0
2689:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 4718              		.loc 1 2689 1
 4719 0022 1846     		mov	r0, r3
 4720 0024 0C37     		adds	r7, r7, #12
 4721              	.LCFI96:
 4722              		.cfi_def_cfa_offset 4
 4723 0026 BD46     		mov	sp, r7
 4724              	.LCFI97:
 4725              		.cfi_def_cfa_register 13
 4726              		@ sp needed
 4727 0028 5DF8047B 		ldr	r7, [sp], #4
 4728              	.LCFI98:
 4729              		.cfi_restore 7
 4730              		.cfi_def_cfa_offset 0
 4731 002c 7047     		bx	lr
 4732              		.cfi_endproc
 4733              	.LFE307:
 4735              		.section	.text.USB_DevDisconnect,"ax",%progbits
 4736              		.align	1
 4737              		.global	USB_DevDisconnect
 4738              		.syntax unified
 4739              		.thumb
 4740              		.thumb_func
 4741              		.fpu fpv4-sp-d16
 4743              	USB_DevDisconnect:
 4744              	.LFB308:
2690:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2691:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
2692:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_DevDisconnect Disconnect the USB device by disabling the pull-up/pull-down
2693:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx Selected device
2694:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
2695:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
2696:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef  USB_DevDisconnect(USB_TypeDef *USBx)
2697:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 131


 4745              		.loc 1 2697 1
 4746              		.cfi_startproc
 4747              		@ args = 0, pretend = 0, frame = 8
 4748              		@ frame_needed = 1, uses_anonymous_args = 0
 4749              		@ link register save eliminated.
 4750 0000 80B4     		push	{r7}
 4751              	.LCFI99:
 4752              		.cfi_def_cfa_offset 4
 4753              		.cfi_offset 7, -4
 4754 0002 83B0     		sub	sp, sp, #12
 4755              	.LCFI100:
 4756              		.cfi_def_cfa_offset 16
 4757 0004 00AF     		add	r7, sp, #0
 4758              	.LCFI101:
 4759              		.cfi_def_cfa_register 7
 4760 0006 7860     		str	r0, [r7, #4]
2698:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Disable DP Pull-Up bit to disconnect the Internal PU resistor on USB DP line */
2699:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->BCDR &= (uint16_t)(~(USB_BCDR_DPPU));
 4761              		.loc 1 2699 14
 4762 0008 7B68     		ldr	r3, [r7, #4]
 4763 000a B3F85830 		ldrh	r3, [r3, #88]	@ movhi
 4764 000e 9BB2     		uxth	r3, r3
 4765 0010 C3F30E03 		ubfx	r3, r3, #0, #15
 4766 0014 9AB2     		uxth	r2, r3
 4767 0016 7B68     		ldr	r3, [r7, #4]
 4768 0018 A3F85820 		strh	r2, [r3, #88]	@ movhi
2700:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2701:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 4769              		.loc 1 2701 10
 4770 001c 0023     		movs	r3, #0
2702:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 4771              		.loc 1 2702 1
 4772 001e 1846     		mov	r0, r3
 4773 0020 0C37     		adds	r7, r7, #12
 4774              	.LCFI102:
 4775              		.cfi_def_cfa_offset 4
 4776 0022 BD46     		mov	sp, r7
 4777              	.LCFI103:
 4778              		.cfi_def_cfa_register 13
 4779              		@ sp needed
 4780 0024 5DF8047B 		ldr	r7, [sp], #4
 4781              	.LCFI104:
 4782              		.cfi_restore 7
 4783              		.cfi_def_cfa_offset 0
 4784 0028 7047     		bx	lr
 4785              		.cfi_endproc
 4786              	.LFE308:
 4788              		.section	.text.USB_ReadInterrupts,"ax",%progbits
 4789              		.align	1
 4790              		.global	USB_ReadInterrupts
 4791              		.syntax unified
 4792              		.thumb
 4793              		.thumb_func
 4794              		.fpu fpv4-sp-d16
 4796              	USB_ReadInterrupts:
 4797              	.LFB309:
2703:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 132


2704:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
2705:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_ReadInterrupts return the global USB interrupt status
2706:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx Selected device
2707:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
2708:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
2709:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** uint32_t  USB_ReadInterrupts(USB_TypeDef *USBx)
2710:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 4798              		.loc 1 2710 1
 4799              		.cfi_startproc
 4800              		@ args = 0, pretend = 0, frame = 16
 4801              		@ frame_needed = 1, uses_anonymous_args = 0
 4802              		@ link register save eliminated.
 4803 0000 80B4     		push	{r7}
 4804              	.LCFI105:
 4805              		.cfi_def_cfa_offset 4
 4806              		.cfi_offset 7, -4
 4807 0002 85B0     		sub	sp, sp, #20
 4808              	.LCFI106:
 4809              		.cfi_def_cfa_offset 24
 4810 0004 00AF     		add	r7, sp, #0
 4811              	.LCFI107:
 4812              		.cfi_def_cfa_register 7
 4813 0006 7860     		str	r0, [r7, #4]
2711:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t tmpreg;
2712:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2713:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   tmpreg = USBx->ISTR;
 4814              		.loc 1 2713 16
 4815 0008 7B68     		ldr	r3, [r7, #4]
 4816 000a B3F84430 		ldrh	r3, [r3, #68]	@ movhi
 4817 000e 9BB2     		uxth	r3, r3
 4818              		.loc 1 2713 10
 4819 0010 FB60     		str	r3, [r7, #12]
2714:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return tmpreg;
 4820              		.loc 1 2714 10
 4821 0012 FB68     		ldr	r3, [r7, #12]
2715:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 4822              		.loc 1 2715 1
 4823 0014 1846     		mov	r0, r3
 4824 0016 1437     		adds	r7, r7, #20
 4825              	.LCFI108:
 4826              		.cfi_def_cfa_offset 4
 4827 0018 BD46     		mov	sp, r7
 4828              	.LCFI109:
 4829              		.cfi_def_cfa_register 13
 4830              		@ sp needed
 4831 001a 5DF8047B 		ldr	r7, [sp], #4
 4832              	.LCFI110:
 4833              		.cfi_restore 7
 4834              		.cfi_def_cfa_offset 0
 4835 001e 7047     		bx	lr
 4836              		.cfi_endproc
 4837              	.LFE309:
 4839              		.section	.text.USB_ReadDevAllOutEpInterrupt,"ax",%progbits
 4840              		.align	1
 4841              		.global	USB_ReadDevAllOutEpInterrupt
 4842              		.syntax unified
 4843              		.thumb
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 133


 4844              		.thumb_func
 4845              		.fpu fpv4-sp-d16
 4847              	USB_ReadDevAllOutEpInterrupt:
 4848              	.LFB310:
2716:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2717:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
2718:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_ReadDevAllOutEpInterrupt return the USB device OUT endpoints interrupt status
2719:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx Selected device
2720:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
2721:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
2722:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** uint32_t USB_ReadDevAllOutEpInterrupt(USB_TypeDef *USBx)
2723:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 4849              		.loc 1 2723 1
 4850              		.cfi_startproc
 4851              		@ args = 0, pretend = 0, frame = 8
 4852              		@ frame_needed = 1, uses_anonymous_args = 0
 4853              		@ link register save eliminated.
 4854 0000 80B4     		push	{r7}
 4855              	.LCFI111:
 4856              		.cfi_def_cfa_offset 4
 4857              		.cfi_offset 7, -4
 4858 0002 83B0     		sub	sp, sp, #12
 4859              	.LCFI112:
 4860              		.cfi_def_cfa_offset 16
 4861 0004 00AF     		add	r7, sp, #0
 4862              	.LCFI113:
 4863              		.cfi_def_cfa_register 7
 4864 0006 7860     		str	r0, [r7, #4]
2724:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
2725:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   UNUSED(USBx);
2726:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* NOTE : - This function is not required by USB Device FS peripheral, it is used
2727:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****               only by USB OTG FS peripheral.
2728:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****             - This function is added to ensure compatibility across platforms.
2729:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****    */
2730:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return (0);
 4865              		.loc 1 2730 10
 4866 0008 0023     		movs	r3, #0
2731:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 4867              		.loc 1 2731 1
 4868 000a 1846     		mov	r0, r3
 4869 000c 0C37     		adds	r7, r7, #12
 4870              	.LCFI114:
 4871              		.cfi_def_cfa_offset 4
 4872 000e BD46     		mov	sp, r7
 4873              	.LCFI115:
 4874              		.cfi_def_cfa_register 13
 4875              		@ sp needed
 4876 0010 5DF8047B 		ldr	r7, [sp], #4
 4877              	.LCFI116:
 4878              		.cfi_restore 7
 4879              		.cfi_def_cfa_offset 0
 4880 0014 7047     		bx	lr
 4881              		.cfi_endproc
 4882              	.LFE310:
 4884              		.section	.text.USB_ReadDevAllInEpInterrupt,"ax",%progbits
 4885              		.align	1
 4886              		.global	USB_ReadDevAllInEpInterrupt
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 134


 4887              		.syntax unified
 4888              		.thumb
 4889              		.thumb_func
 4890              		.fpu fpv4-sp-d16
 4892              	USB_ReadDevAllInEpInterrupt:
 4893              	.LFB311:
2732:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2733:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
2734:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_ReadDevAllInEpInterrupt return the USB device IN endpoints interrupt status
2735:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx Selected device
2736:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
2737:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
2738:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** uint32_t USB_ReadDevAllInEpInterrupt(USB_TypeDef *USBx)
2739:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 4894              		.loc 1 2739 1
 4895              		.cfi_startproc
 4896              		@ args = 0, pretend = 0, frame = 8
 4897              		@ frame_needed = 1, uses_anonymous_args = 0
 4898              		@ link register save eliminated.
 4899 0000 80B4     		push	{r7}
 4900              	.LCFI117:
 4901              		.cfi_def_cfa_offset 4
 4902              		.cfi_offset 7, -4
 4903 0002 83B0     		sub	sp, sp, #12
 4904              	.LCFI118:
 4905              		.cfi_def_cfa_offset 16
 4906 0004 00AF     		add	r7, sp, #0
 4907              	.LCFI119:
 4908              		.cfi_def_cfa_register 7
 4909 0006 7860     		str	r0, [r7, #4]
2740:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
2741:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   UNUSED(USBx);
2742:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* NOTE : - This function is not required by USB Device FS peripheral, it is used
2743:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****               only by USB OTG FS peripheral.
2744:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****             - This function is added to ensure compatibility across platforms.
2745:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****    */
2746:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return (0);
 4910              		.loc 1 2746 10
 4911 0008 0023     		movs	r3, #0
2747:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 4912              		.loc 1 2747 1
 4913 000a 1846     		mov	r0, r3
 4914 000c 0C37     		adds	r7, r7, #12
 4915              	.LCFI120:
 4916              		.cfi_def_cfa_offset 4
 4917 000e BD46     		mov	sp, r7
 4918              	.LCFI121:
 4919              		.cfi_def_cfa_register 13
 4920              		@ sp needed
 4921 0010 5DF8047B 		ldr	r7, [sp], #4
 4922              	.LCFI122:
 4923              		.cfi_restore 7
 4924              		.cfi_def_cfa_offset 0
 4925 0014 7047     		bx	lr
 4926              		.cfi_endproc
 4927              	.LFE311:
 4929              		.section	.text.USB_ReadDevOutEPInterrupt,"ax",%progbits
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 135


 4930              		.align	1
 4931              		.global	USB_ReadDevOutEPInterrupt
 4932              		.syntax unified
 4933              		.thumb
 4934              		.thumb_func
 4935              		.fpu fpv4-sp-d16
 4937              	USB_ReadDevOutEPInterrupt:
 4938              	.LFB312:
2748:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2749:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
2750:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  Returns Device OUT EP Interrupt register
2751:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx Selected device
2752:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  epnum endpoint number
2753:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *          This parameter can be a value from 0 to 15
2754:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval Device OUT EP Interrupt register
2755:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
2756:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** uint32_t USB_ReadDevOutEPInterrupt(USB_TypeDef *USBx, uint8_t epnum)
2757:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 4939              		.loc 1 2757 1
 4940              		.cfi_startproc
 4941              		@ args = 0, pretend = 0, frame = 8
 4942              		@ frame_needed = 1, uses_anonymous_args = 0
 4943              		@ link register save eliminated.
 4944 0000 80B4     		push	{r7}
 4945              	.LCFI123:
 4946              		.cfi_def_cfa_offset 4
 4947              		.cfi_offset 7, -4
 4948 0002 83B0     		sub	sp, sp, #12
 4949              	.LCFI124:
 4950              		.cfi_def_cfa_offset 16
 4951 0004 00AF     		add	r7, sp, #0
 4952              	.LCFI125:
 4953              		.cfi_def_cfa_register 7
 4954 0006 7860     		str	r0, [r7, #4]
 4955 0008 0B46     		mov	r3, r1
 4956 000a FB70     		strb	r3, [r7, #3]
2758:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
2759:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   UNUSED(USBx);
2760:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   UNUSED(epnum);
2761:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* NOTE : - This function is not required by USB Device FS peripheral, it is used
2762:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****               only by USB OTG FS peripheral.
2763:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****             - This function is added to ensure compatibility across platforms.
2764:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****    */
2765:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return (0);
 4957              		.loc 1 2765 10
 4958 000c 0023     		movs	r3, #0
2766:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 4959              		.loc 1 2766 1
 4960 000e 1846     		mov	r0, r3
 4961 0010 0C37     		adds	r7, r7, #12
 4962              	.LCFI126:
 4963              		.cfi_def_cfa_offset 4
 4964 0012 BD46     		mov	sp, r7
 4965              	.LCFI127:
 4966              		.cfi_def_cfa_register 13
 4967              		@ sp needed
 4968 0014 5DF8047B 		ldr	r7, [sp], #4
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 136


 4969              	.LCFI128:
 4970              		.cfi_restore 7
 4971              		.cfi_def_cfa_offset 0
 4972 0018 7047     		bx	lr
 4973              		.cfi_endproc
 4974              	.LFE312:
 4976              		.section	.text.USB_ReadDevInEPInterrupt,"ax",%progbits
 4977              		.align	1
 4978              		.global	USB_ReadDevInEPInterrupt
 4979              		.syntax unified
 4980              		.thumb
 4981              		.thumb_func
 4982              		.fpu fpv4-sp-d16
 4984              	USB_ReadDevInEPInterrupt:
 4985              	.LFB313:
2767:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2768:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
2769:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  Returns Device IN EP Interrupt register
2770:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx Selected device
2771:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  epnum endpoint number
2772:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *          This parameter can be a value from 0 to 15
2773:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval Device IN EP Interrupt register
2774:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
2775:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** uint32_t USB_ReadDevInEPInterrupt(USB_TypeDef *USBx, uint8_t epnum)
2776:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 4986              		.loc 1 2776 1
 4987              		.cfi_startproc
 4988              		@ args = 0, pretend = 0, frame = 8
 4989              		@ frame_needed = 1, uses_anonymous_args = 0
 4990              		@ link register save eliminated.
 4991 0000 80B4     		push	{r7}
 4992              	.LCFI129:
 4993              		.cfi_def_cfa_offset 4
 4994              		.cfi_offset 7, -4
 4995 0002 83B0     		sub	sp, sp, #12
 4996              	.LCFI130:
 4997              		.cfi_def_cfa_offset 16
 4998 0004 00AF     		add	r7, sp, #0
 4999              	.LCFI131:
 5000              		.cfi_def_cfa_register 7
 5001 0006 7860     		str	r0, [r7, #4]
 5002 0008 0B46     		mov	r3, r1
 5003 000a FB70     		strb	r3, [r7, #3]
2777:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
2778:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   UNUSED(USBx);
2779:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   UNUSED(epnum);
2780:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* NOTE : - This function is not required by USB Device FS peripheral, it is used
2781:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****               only by USB OTG FS peripheral.
2782:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****             - This function is added to ensure compatibility across platforms.
2783:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****    */
2784:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return (0);
 5004              		.loc 1 2784 10
 5005 000c 0023     		movs	r3, #0
2785:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 5006              		.loc 1 2785 1
 5007 000e 1846     		mov	r0, r3
 5008 0010 0C37     		adds	r7, r7, #12
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 137


 5009              	.LCFI132:
 5010              		.cfi_def_cfa_offset 4
 5011 0012 BD46     		mov	sp, r7
 5012              	.LCFI133:
 5013              		.cfi_def_cfa_register 13
 5014              		@ sp needed
 5015 0014 5DF8047B 		ldr	r7, [sp], #4
 5016              	.LCFI134:
 5017              		.cfi_restore 7
 5018              		.cfi_def_cfa_offset 0
 5019 0018 7047     		bx	lr
 5020              		.cfi_endproc
 5021              	.LFE313:
 5023              		.section	.text.USB_ClearInterrupts,"ax",%progbits
 5024              		.align	1
 5025              		.global	USB_ClearInterrupts
 5026              		.syntax unified
 5027              		.thumb
 5028              		.thumb_func
 5029              		.fpu fpv4-sp-d16
 5031              	USB_ClearInterrupts:
 5032              	.LFB314:
2786:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2787:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
2788:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_ClearInterrupts: clear a USB interrupt
2789:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx Selected device
2790:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  interrupt  flag
2791:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval None
2792:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
2793:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** void  USB_ClearInterrupts(USB_TypeDef *USBx, uint32_t interrupt)
2794:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 5033              		.loc 1 2794 1
 5034              		.cfi_startproc
 5035              		@ args = 0, pretend = 0, frame = 8
 5036              		@ frame_needed = 1, uses_anonymous_args = 0
 5037              		@ link register save eliminated.
 5038 0000 80B4     		push	{r7}
 5039              	.LCFI135:
 5040              		.cfi_def_cfa_offset 4
 5041              		.cfi_offset 7, -4
 5042 0002 83B0     		sub	sp, sp, #12
 5043              	.LCFI136:
 5044              		.cfi_def_cfa_offset 16
 5045 0004 00AF     		add	r7, sp, #0
 5046              	.LCFI137:
 5047              		.cfi_def_cfa_register 7
 5048 0006 7860     		str	r0, [r7, #4]
 5049 0008 3960     		str	r1, [r7]
2795:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
2796:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   UNUSED(USBx);
2797:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   UNUSED(interrupt);
2798:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* NOTE : - This function is not required by USB Device FS peripheral, it is used
2799:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****               only by USB OTG FS peripheral.
2800:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****             - This function is added to ensure compatibility across platforms.
2801:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****    */
2802:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 5050              		.loc 1 2802 1
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 138


 5051 000a 00BF     		nop
 5052 000c 0C37     		adds	r7, r7, #12
 5053              	.LCFI138:
 5054              		.cfi_def_cfa_offset 4
 5055 000e BD46     		mov	sp, r7
 5056              	.LCFI139:
 5057              		.cfi_def_cfa_register 13
 5058              		@ sp needed
 5059 0010 5DF8047B 		ldr	r7, [sp], #4
 5060              	.LCFI140:
 5061              		.cfi_restore 7
 5062              		.cfi_def_cfa_offset 0
 5063 0014 7047     		bx	lr
 5064              		.cfi_endproc
 5065              	.LFE314:
 5067              		.section	.text.USB_EP0_OutStart,"ax",%progbits
 5068              		.align	1
 5069              		.global	USB_EP0_OutStart
 5070              		.syntax unified
 5071              		.thumb
 5072              		.thumb_func
 5073              		.fpu fpv4-sp-d16
 5075              	USB_EP0_OutStart:
 5076              	.LFB315:
2803:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2804:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
2805:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  Prepare the EP0 to start the first control setup
2806:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx Selected device
2807:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  psetup pointer to setup packet
2808:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
2809:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
2810:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_EP0_OutStart(USB_TypeDef *USBx, uint8_t *psetup)
2811:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 5077              		.loc 1 2811 1
 5078              		.cfi_startproc
 5079              		@ args = 0, pretend = 0, frame = 8
 5080              		@ frame_needed = 1, uses_anonymous_args = 0
 5081              		@ link register save eliminated.
 5082 0000 80B4     		push	{r7}
 5083              	.LCFI141:
 5084              		.cfi_def_cfa_offset 4
 5085              		.cfi_offset 7, -4
 5086 0002 83B0     		sub	sp, sp, #12
 5087              	.LCFI142:
 5088              		.cfi_def_cfa_offset 16
 5089 0004 00AF     		add	r7, sp, #0
 5090              	.LCFI143:
 5091              		.cfi_def_cfa_register 7
 5092 0006 7860     		str	r0, [r7, #4]
 5093 0008 3960     		str	r1, [r7]
2812:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Prevent unused argument(s) compilation warning */
2813:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   UNUSED(USBx);
2814:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   UNUSED(psetup);
2815:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* NOTE : - This function is not required by USB Device FS peripheral, it is used
2816:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****               only by USB OTG FS peripheral.
2817:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****             - This function is added to ensure compatibility across platforms.
2818:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****    */
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 139


2819:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 5094              		.loc 1 2819 10
 5095 000a 0023     		movs	r3, #0
2820:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 5096              		.loc 1 2820 1
 5097 000c 1846     		mov	r0, r3
 5098 000e 0C37     		adds	r7, r7, #12
 5099              	.LCFI144:
 5100              		.cfi_def_cfa_offset 4
 5101 0010 BD46     		mov	sp, r7
 5102              	.LCFI145:
 5103              		.cfi_def_cfa_register 13
 5104              		@ sp needed
 5105 0012 5DF8047B 		ldr	r7, [sp], #4
 5106              	.LCFI146:
 5107              		.cfi_restore 7
 5108              		.cfi_def_cfa_offset 0
 5109 0016 7047     		bx	lr
 5110              		.cfi_endproc
 5111              	.LFE315:
 5113              		.section	.text.USB_ActivateRemoteWakeup,"ax",%progbits
 5114              		.align	1
 5115              		.global	USB_ActivateRemoteWakeup
 5116              		.syntax unified
 5117              		.thumb
 5118              		.thumb_func
 5119              		.fpu fpv4-sp-d16
 5121              	USB_ActivateRemoteWakeup:
 5122              	.LFB316:
2821:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2822:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
2823:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_ActivateRemoteWakeup : active remote wakeup signalling
2824:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx Selected device
2825:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
2826:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
2827:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_ActivateRemoteWakeup(USB_TypeDef *USBx)
2828:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 5123              		.loc 1 2828 1
 5124              		.cfi_startproc
 5125              		@ args = 0, pretend = 0, frame = 8
 5126              		@ frame_needed = 1, uses_anonymous_args = 0
 5127              		@ link register save eliminated.
 5128 0000 80B4     		push	{r7}
 5129              	.LCFI147:
 5130              		.cfi_def_cfa_offset 4
 5131              		.cfi_offset 7, -4
 5132 0002 83B0     		sub	sp, sp, #12
 5133              	.LCFI148:
 5134              		.cfi_def_cfa_offset 16
 5135 0004 00AF     		add	r7, sp, #0
 5136              	.LCFI149:
 5137              		.cfi_def_cfa_register 7
 5138 0006 7860     		str	r0, [r7, #4]
2829:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->CNTR |= (uint16_t)USB_CNTR_RESUME;
 5139              		.loc 1 2829 14
 5140 0008 7B68     		ldr	r3, [r7, #4]
 5141 000a B3F84030 		ldrh	r3, [r3, #64]	@ movhi
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 140


 5142 000e 9BB2     		uxth	r3, r3
 5143 0010 43F01003 		orr	r3, r3, #16
 5144 0014 9AB2     		uxth	r2, r3
 5145 0016 7B68     		ldr	r3, [r7, #4]
 5146 0018 A3F84020 		strh	r2, [r3, #64]	@ movhi
2830:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2831:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 5147              		.loc 1 2831 10
 5148 001c 0023     		movs	r3, #0
2832:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 5149              		.loc 1 2832 1
 5150 001e 1846     		mov	r0, r3
 5151 0020 0C37     		adds	r7, r7, #12
 5152              	.LCFI150:
 5153              		.cfi_def_cfa_offset 4
 5154 0022 BD46     		mov	sp, r7
 5155              	.LCFI151:
 5156              		.cfi_def_cfa_register 13
 5157              		@ sp needed
 5158 0024 5DF8047B 		ldr	r7, [sp], #4
 5159              	.LCFI152:
 5160              		.cfi_restore 7
 5161              		.cfi_def_cfa_offset 0
 5162 0028 7047     		bx	lr
 5163              		.cfi_endproc
 5164              	.LFE316:
 5166              		.section	.text.USB_DeActivateRemoteWakeup,"ax",%progbits
 5167              		.align	1
 5168              		.global	USB_DeActivateRemoteWakeup
 5169              		.syntax unified
 5170              		.thumb
 5171              		.thumb_func
 5172              		.fpu fpv4-sp-d16
 5174              	USB_DeActivateRemoteWakeup:
 5175              	.LFB317:
2833:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2834:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
2835:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_DeActivateRemoteWakeup de-active remote wakeup signalling
2836:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx Selected device
2837:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
2838:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
2839:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_DeActivateRemoteWakeup(USB_TypeDef *USBx)
2840:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 5176              		.loc 1 2840 1
 5177              		.cfi_startproc
 5178              		@ args = 0, pretend = 0, frame = 8
 5179              		@ frame_needed = 1, uses_anonymous_args = 0
 5180              		@ link register save eliminated.
 5181 0000 80B4     		push	{r7}
 5182              	.LCFI153:
 5183              		.cfi_def_cfa_offset 4
 5184              		.cfi_offset 7, -4
 5185 0002 83B0     		sub	sp, sp, #12
 5186              	.LCFI154:
 5187              		.cfi_def_cfa_offset 16
 5188 0004 00AF     		add	r7, sp, #0
 5189              	.LCFI155:
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 141


 5190              		.cfi_def_cfa_register 7
 5191 0006 7860     		str	r0, [r7, #4]
2841:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->CNTR &= (uint16_t)(~USB_CNTR_RESUME);
 5192              		.loc 1 2841 14
 5193 0008 7B68     		ldr	r3, [r7, #4]
 5194 000a B3F84030 		ldrh	r3, [r3, #64]	@ movhi
 5195 000e 9BB2     		uxth	r3, r3
 5196 0010 23F01003 		bic	r3, r3, #16
 5197 0014 9AB2     		uxth	r2, r3
 5198 0016 7B68     		ldr	r3, [r7, #4]
 5199 0018 A3F84020 		strh	r2, [r3, #64]	@ movhi
2842:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2843:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 5200              		.loc 1 2843 10
 5201 001c 0023     		movs	r3, #0
2844:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 5202              		.loc 1 2844 1
 5203 001e 1846     		mov	r0, r3
 5204 0020 0C37     		adds	r7, r7, #12
 5205              	.LCFI156:
 5206              		.cfi_def_cfa_offset 4
 5207 0022 BD46     		mov	sp, r7
 5208              	.LCFI157:
 5209              		.cfi_def_cfa_register 13
 5210              		@ sp needed
 5211 0024 5DF8047B 		ldr	r7, [sp], #4
 5212              	.LCFI158:
 5213              		.cfi_restore 7
 5214              		.cfi_def_cfa_offset 0
 5215 0028 7047     		bx	lr
 5216              		.cfi_endproc
 5217              	.LFE317:
 5219              		.section	.text.USB_WritePMA,"ax",%progbits
 5220              		.align	1
 5221              		.global	USB_WritePMA
 5222              		.syntax unified
 5223              		.thumb
 5224              		.thumb_func
 5225              		.fpu fpv4-sp-d16
 5227              	USB_WritePMA:
 5228              	.LFB318:
2845:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2846:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
2847:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief Copy a buffer from user memory area to packet memory area (PMA)
2848:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param   USBx USB peripheral instance register address.
2849:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param   pbUsrBuf pointer to user memory area.
2850:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param   wPMABufAddr address into PMA.
2851:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param   wNBytes no. of bytes to be copied.
2852:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval None
2853:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
2854:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** void USB_WritePMA(USB_TypeDef *USBx, uint8_t *pbUsrBuf, uint16_t wPMABufAddr, uint16_t wNBytes)
2855:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 5229              		.loc 1 2855 1
 5230              		.cfi_startproc
 5231              		@ args = 0, pretend = 0, frame = 40
 5232              		@ frame_needed = 1, uses_anonymous_args = 0
 5233              		@ link register save eliminated.
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 142


 5234 0000 80B4     		push	{r7}
 5235              	.LCFI159:
 5236              		.cfi_def_cfa_offset 4
 5237              		.cfi_offset 7, -4
 5238 0002 8BB0     		sub	sp, sp, #44
 5239              	.LCFI160:
 5240              		.cfi_def_cfa_offset 48
 5241 0004 00AF     		add	r7, sp, #0
 5242              	.LCFI161:
 5243              		.cfi_def_cfa_register 7
 5244 0006 F860     		str	r0, [r7, #12]
 5245 0008 B960     		str	r1, [r7, #8]
 5246 000a 1146     		mov	r1, r2
 5247 000c 1A46     		mov	r2, r3
 5248 000e 0B46     		mov	r3, r1	@ movhi
 5249 0010 FB80     		strh	r3, [r7, #6]	@ movhi
 5250 0012 1346     		mov	r3, r2	@ movhi
 5251 0014 BB80     		strh	r3, [r7, #4]	@ movhi
2856:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t n = ((uint32_t)wNBytes + 1U) >> 1;
 5252              		.loc 1 2856 17
 5253 0016 BB88     		ldrh	r3, [r7, #4]
 5254              		.loc 1 2856 35
 5255 0018 0133     		adds	r3, r3, #1
 5256              		.loc 1 2856 12
 5257 001a 5B08     		lsrs	r3, r3, #1
 5258 001c BB61     		str	r3, [r7, #24]
2857:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t BaseAddr = (uint32_t)USBx;
 5259              		.loc 1 2857 12
 5260 001e FB68     		ldr	r3, [r7, #12]
 5261 0020 7B61     		str	r3, [r7, #20]
2858:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t count;
2859:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint16_t WrVal;
2860:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   __IO uint16_t *pdwVal;
2861:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint8_t *pBuf = pbUsrBuf;
 5262              		.loc 1 2861 12
 5263 0022 BB68     		ldr	r3, [r7, #8]
 5264 0024 FB61     		str	r3, [r7, #28]
2862:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2863:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   pdwVal = (__IO uint16_t *)(BaseAddr + 0x400U + ((uint32_t)wPMABufAddr * PMA_ACCESS));
 5265              		.loc 1 2863 73
 5266 0026 FA88     		ldrh	r2, [r7, #6]
 5267              		.loc 1 2863 48
 5268 0028 7B69     		ldr	r3, [r7, #20]
 5269 002a 1344     		add	r3, r3, r2
 5270 002c 03F58063 		add	r3, r3, #1024
 5271              		.loc 1 2863 10
 5272 0030 3B62     		str	r3, [r7, #32]
2864:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2865:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   for (count = n; count != 0U; count--)
 5273              		.loc 1 2865 14
 5274 0032 BB69     		ldr	r3, [r7, #24]
 5275 0034 7B62     		str	r3, [r7, #36]
 5276              		.loc 1 2865 3
 5277 0036 1BE0     		b	.L190
 5278              	.L191:
2866:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
2867:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     WrVal = pBuf[0];
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 143


 5279              		.loc 1 2867 17 discriminator 3
 5280 0038 FB69     		ldr	r3, [r7, #28]
 5281 003a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 5282              		.loc 1 2867 11 discriminator 3
 5283 003c 7B82     		strh	r3, [r7, #18]	@ movhi
2868:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     WrVal |= (uint16_t)pBuf[1] << 8;
 5284              		.loc 1 2868 28 discriminator 3
 5285 003e FB69     		ldr	r3, [r7, #28]
 5286 0040 0133     		adds	r3, r3, #1
 5287 0042 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 5288              		.loc 1 2868 32 discriminator 3
 5289 0044 1B02     		lsls	r3, r3, #8
 5290              		.loc 1 2868 11 discriminator 3
 5291 0046 1AB2     		sxth	r2, r3
 5292 0048 B7F91230 		ldrsh	r3, [r7, #18]
 5293 004c 1343     		orrs	r3, r3, r2
 5294 004e 1BB2     		sxth	r3, r3
 5295 0050 7B82     		strh	r3, [r7, #18]	@ movhi
2869:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     *pdwVal = (WrVal & 0xFFFFU);
 5296              		.loc 1 2869 13 discriminator 3
 5297 0052 3B6A     		ldr	r3, [r7, #32]
 5298 0054 7A8A     		ldrh	r2, [r7, #18]	@ movhi
 5299 0056 1A80     		strh	r2, [r3]	@ movhi
2870:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     pdwVal++;
 5300              		.loc 1 2870 11 discriminator 3
 5301 0058 3B6A     		ldr	r3, [r7, #32]
 5302 005a 0233     		adds	r3, r3, #2
 5303 005c 3B62     		str	r3, [r7, #32]
2871:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2872:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** #if PMA_ACCESS > 1U
2873:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     pdwVal++;
2874:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** #endif /* PMA_ACCESS */
2875:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2876:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     pBuf++;
 5304              		.loc 1 2876 9 discriminator 3
 5305 005e FB69     		ldr	r3, [r7, #28]
 5306 0060 0133     		adds	r3, r3, #1
 5307 0062 FB61     		str	r3, [r7, #28]
2877:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     pBuf++;
 5308              		.loc 1 2877 9 discriminator 3
 5309 0064 FB69     		ldr	r3, [r7, #28]
 5310 0066 0133     		adds	r3, r3, #1
 5311 0068 FB61     		str	r3, [r7, #28]
2865:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 5312              		.loc 1 2865 37 discriminator 3
 5313 006a 7B6A     		ldr	r3, [r7, #36]
 5314 006c 013B     		subs	r3, r3, #1
 5315 006e 7B62     		str	r3, [r7, #36]
 5316              	.L190:
2865:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 5317              		.loc 1 2865 3 discriminator 1
 5318 0070 7B6A     		ldr	r3, [r7, #36]
 5319 0072 002B     		cmp	r3, #0
 5320 0074 E0D1     		bne	.L191
2878:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
2879:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 5321              		.loc 1 2879 1
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 144


 5322 0076 00BF     		nop
 5323 0078 00BF     		nop
 5324 007a 2C37     		adds	r7, r7, #44
 5325              	.LCFI162:
 5326              		.cfi_def_cfa_offset 4
 5327 007c BD46     		mov	sp, r7
 5328              	.LCFI163:
 5329              		.cfi_def_cfa_register 13
 5330              		@ sp needed
 5331 007e 5DF8047B 		ldr	r7, [sp], #4
 5332              	.LCFI164:
 5333              		.cfi_restore 7
 5334              		.cfi_def_cfa_offset 0
 5335 0082 7047     		bx	lr
 5336              		.cfi_endproc
 5337              	.LFE318:
 5339              		.section	.text.USB_ReadPMA,"ax",%progbits
 5340              		.align	1
 5341              		.global	USB_ReadPMA
 5342              		.syntax unified
 5343              		.thumb
 5344              		.thumb_func
 5345              		.fpu fpv4-sp-d16
 5347              	USB_ReadPMA:
 5348              	.LFB319:
2880:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2881:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
2882:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief Copy data from packet memory area (PMA) to user memory buffer
2883:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param   USBx USB peripheral instance register address.
2884:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param   pbUsrBuf pointer to user memory area.
2885:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param   wPMABufAddr address into PMA.
2886:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param   wNBytes no. of bytes to be copied.
2887:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval None
2888:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
2889:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** void USB_ReadPMA(USB_TypeDef *USBx, uint8_t *pbUsrBuf, uint16_t wPMABufAddr, uint16_t wNBytes)
2890:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 5349              		.loc 1 2890 1
 5350              		.cfi_startproc
 5351              		@ args = 0, pretend = 0, frame = 40
 5352              		@ frame_needed = 1, uses_anonymous_args = 0
 5353              		@ link register save eliminated.
 5354 0000 80B4     		push	{r7}
 5355              	.LCFI165:
 5356              		.cfi_def_cfa_offset 4
 5357              		.cfi_offset 7, -4
 5358 0002 8BB0     		sub	sp, sp, #44
 5359              	.LCFI166:
 5360              		.cfi_def_cfa_offset 48
 5361 0004 00AF     		add	r7, sp, #0
 5362              	.LCFI167:
 5363              		.cfi_def_cfa_register 7
 5364 0006 F860     		str	r0, [r7, #12]
 5365 0008 B960     		str	r1, [r7, #8]
 5366 000a 1146     		mov	r1, r2
 5367 000c 1A46     		mov	r2, r3
 5368 000e 0B46     		mov	r3, r1	@ movhi
 5369 0010 FB80     		strh	r3, [r7, #6]	@ movhi
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 145


 5370 0012 1346     		mov	r3, r2	@ movhi
 5371 0014 BB80     		strh	r3, [r7, #4]	@ movhi
2891:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t n = (uint32_t)wNBytes >> 1;
 5372              		.loc 1 2891 34
 5373 0016 BB88     		ldrh	r3, [r7, #4]
 5374 0018 5B08     		lsrs	r3, r3, #1
 5375 001a 9BB2     		uxth	r3, r3
 5376              		.loc 1 2891 12
 5377 001c BB61     		str	r3, [r7, #24]
2892:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t BaseAddr = (uint32_t)USBx;
 5378              		.loc 1 2892 12
 5379 001e FB68     		ldr	r3, [r7, #12]
 5380 0020 7B61     		str	r3, [r7, #20]
2893:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t count;
2894:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t RdVal;
2895:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   __IO uint16_t *pdwVal;
2896:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint8_t *pBuf = pbUsrBuf;
 5381              		.loc 1 2896 12
 5382 0022 BB68     		ldr	r3, [r7, #8]
 5383 0024 FB61     		str	r3, [r7, #28]
2897:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2898:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   pdwVal = (__IO uint16_t *)(BaseAddr + 0x400U + ((uint32_t)wPMABufAddr * PMA_ACCESS));
 5384              		.loc 1 2898 73
 5385 0026 FA88     		ldrh	r2, [r7, #6]
 5386              		.loc 1 2898 48
 5387 0028 7B69     		ldr	r3, [r7, #20]
 5388 002a 1344     		add	r3, r3, r2
 5389 002c 03F58063 		add	r3, r3, #1024
 5390              		.loc 1 2898 10
 5391 0030 3B62     		str	r3, [r7, #32]
2899:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2900:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   for (count = n; count != 0U; count--)
 5392              		.loc 1 2900 14
 5393 0032 BB69     		ldr	r3, [r7, #24]
 5394 0034 7B62     		str	r3, [r7, #36]
 5395              		.loc 1 2900 3
 5396 0036 18E0     		b	.L193
 5397              	.L194:
2901:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
2902:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     RdVal = *(__IO uint16_t *)pdwVal;
 5398              		.loc 1 2902 13 discriminator 3
 5399 0038 3B6A     		ldr	r3, [r7, #32]
 5400 003a 1B88     		ldrh	r3, [r3]	@ movhi
 5401 003c 9BB2     		uxth	r3, r3
 5402              		.loc 1 2902 11 discriminator 3
 5403 003e 3B61     		str	r3, [r7, #16]
2903:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     pdwVal++;
 5404              		.loc 1 2903 11 discriminator 3
 5405 0040 3B6A     		ldr	r3, [r7, #32]
 5406 0042 0233     		adds	r3, r3, #2
 5407 0044 3B62     		str	r3, [r7, #32]
2904:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     *pBuf = (uint8_t)((RdVal >> 0) & 0xFFU);
 5408              		.loc 1 2904 13 discriminator 3
 5409 0046 3B69     		ldr	r3, [r7, #16]
 5410 0048 DAB2     		uxtb	r2, r3
 5411              		.loc 1 2904 11 discriminator 3
 5412 004a FB69     		ldr	r3, [r7, #28]
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 146


 5413 004c 1A70     		strb	r2, [r3]
2905:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     pBuf++;
 5414              		.loc 1 2905 9 discriminator 3
 5415 004e FB69     		ldr	r3, [r7, #28]
 5416 0050 0133     		adds	r3, r3, #1
 5417 0052 FB61     		str	r3, [r7, #28]
2906:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     *pBuf = (uint8_t)((RdVal >> 8) & 0xFFU);
 5418              		.loc 1 2906 30 discriminator 3
 5419 0054 3B69     		ldr	r3, [r7, #16]
 5420 0056 1B0A     		lsrs	r3, r3, #8
 5421              		.loc 1 2906 13 discriminator 3
 5422 0058 DAB2     		uxtb	r2, r3
 5423              		.loc 1 2906 11 discriminator 3
 5424 005a FB69     		ldr	r3, [r7, #28]
 5425 005c 1A70     		strb	r2, [r3]
2907:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     pBuf++;
 5426              		.loc 1 2907 9 discriminator 3
 5427 005e FB69     		ldr	r3, [r7, #28]
 5428 0060 0133     		adds	r3, r3, #1
 5429 0062 FB61     		str	r3, [r7, #28]
2900:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 5430              		.loc 1 2900 37 discriminator 3
 5431 0064 7B6A     		ldr	r3, [r7, #36]
 5432 0066 013B     		subs	r3, r3, #1
 5433 0068 7B62     		str	r3, [r7, #36]
 5434              	.L193:
2900:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 5435              		.loc 1 2900 3 discriminator 1
 5436 006a 7B6A     		ldr	r3, [r7, #36]
 5437 006c 002B     		cmp	r3, #0
 5438 006e E3D1     		bne	.L194
2908:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2909:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** #if PMA_ACCESS > 1U
2910:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     pdwVal++;
2911:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** #endif /* PMA_ACCESS */
2912:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
2913:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2914:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if ((wNBytes % 2U) != 0U)
 5439              		.loc 1 2914 22
 5440 0070 BB88     		ldrh	r3, [r7, #4]	@ movhi
 5441 0072 03F00103 		and	r3, r3, #1
 5442 0076 9BB2     		uxth	r3, r3
 5443              		.loc 1 2914 6
 5444 0078 002B     		cmp	r3, #0
 5445 007a 07D0     		beq	.L196
2915:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
2916:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     RdVal = *pdwVal;
 5446              		.loc 1 2916 13
 5447 007c 3B6A     		ldr	r3, [r7, #32]
 5448 007e 1B88     		ldrh	r3, [r3]	@ movhi
 5449 0080 9BB2     		uxth	r3, r3
 5450              		.loc 1 2916 11
 5451 0082 3B61     		str	r3, [r7, #16]
2917:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     *pBuf = (uint8_t)((RdVal >> 0) & 0xFFU);
 5452              		.loc 1 2917 13
 5453 0084 3B69     		ldr	r3, [r7, #16]
 5454 0086 DAB2     		uxtb	r2, r3
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 147


 5455              		.loc 1 2917 11
 5456 0088 FB69     		ldr	r3, [r7, #28]
 5457 008a 1A70     		strb	r2, [r3]
 5458              	.L196:
2918:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
2919:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 5459              		.loc 1 2919 1
 5460 008c 00BF     		nop
 5461 008e 2C37     		adds	r7, r7, #44
 5462              	.LCFI168:
 5463              		.cfi_def_cfa_offset 4
 5464 0090 BD46     		mov	sp, r7
 5465              	.LCFI169:
 5466              		.cfi_def_cfa_register 13
 5467              		@ sp needed
 5468 0092 5DF8047B 		ldr	r7, [sp], #4
 5469              	.LCFI170:
 5470              		.cfi_restore 7
 5471              		.cfi_def_cfa_offset 0
 5472 0096 7047     		bx	lr
 5473              		.cfi_endproc
 5474              	.LFE319:
 5476              		.text
 5477              	.Letext0:
 5478              		.file 2 "/Users/isikcanyilmaz/KODMOD/b607/test/mcu/tools/gcc9.2.1/mac/arm-none-eabi/include/machin
 5479              		.file 3 "/Users/isikcanyilmaz/KODMOD/b607/test/mcu/tools/gcc9.2.1/mac/arm-none-eabi/include/sys/_s
 5480              		.file 4 "Drivers/CMSIS/Include/core_cm4.h"
 5481              		.file 5 "Drivers/CMSIS/Device/ST/STM32L4xx/Include/system_stm32l4xx.h"
 5482              		.file 6 "Drivers/CMSIS/Device/ST/STM32L4xx/Include/stm32l452xx.h"
 5483              		.file 7 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_def.h"
 5484              		.file 8 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_flash.h"
 5485              		.file 9 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_ll_usb.h"
 5486              		.file 10 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal.h"
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 148


DEFINED SYMBOLS
                            *ABS*:0000000000000000 stm32l4xx_ll_usb.c
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s:18     .text.USB_CoreInit:0000000000000000 $t
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s:26     .text.USB_CoreInit:0000000000000000 USB_CoreInit
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s:73     .text.USB_EnableGlobalInt:0000000000000000 $t
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s:80     .text.USB_EnableGlobalInt:0000000000000000 USB_EnableGlobalInt
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s:131    .text.USB_DisableGlobalInt:0000000000000000 $t
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s:138    .text.USB_DisableGlobalInt:0000000000000000 USB_DisableGlobalInt
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s:193    .text.USB_SetCurrentMode:0000000000000000 $t
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s:200    .text.USB_SetCurrentMode:0000000000000000 USB_SetCurrentMode
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s:240    .text.USB_DevInit:0000000000000000 $t
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s:247    .text.USB_DevInit:0000000000000000 USB_DevInit
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s:309    .text.USB_FlushTxFifo:0000000000000000 $t
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s:316    .text.USB_FlushTxFifo:0000000000000000 USB_FlushTxFifo
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s:355    .text.USB_FlushRxFifo:0000000000000000 $t
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s:362    .text.USB_FlushRxFifo:0000000000000000 USB_FlushRxFifo
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s:400    .text.USB_ActivateEndpoint:0000000000000000 $t
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s:407    .text.USB_ActivateEndpoint:0000000000000000 USB_ActivateEndpoint
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s:451    .text.USB_ActivateEndpoint:0000000000000038 $d
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s:455    .text.USB_ActivateEndpoint:0000000000000048 $t
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s:1352   .text.USB_DeactivateEndpoint:0000000000000000 $t
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s:1359   .text.USB_DeactivateEndpoint:0000000000000000 USB_DeactivateEndpoint
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s:1863   .text.USB_EPStartXfer:0000000000000000 $t
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s:1870   .text.USB_EPStartXfer:0000000000000000 USB_EPStartXfer
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s:5227   .text.USB_WritePMA:0000000000000000 USB_WritePMA
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s:4063   .text.USB_EPSetStall:0000000000000000 $t
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s:4070   .text.USB_EPSetStall:0000000000000000 USB_EPSetStall
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s:4174   .text.USB_EPClearStall:0000000000000000 $t
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s:4181   .text.USB_EPClearStall:0000000000000000 USB_EPClearStall
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s:4380   .text.USB_EPStopXfer:0000000000000000 $t
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s:4387   .text.USB_EPStopXfer:0000000000000000 USB_EPStopXfer
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s:4569   .text.USB_StopDevice:0000000000000000 $t
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s:4576   .text.USB_StopDevice:0000000000000000 USB_StopDevice
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s:4626   .text.USB_SetDevAddress:0000000000000000 $t
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s:4633   .text.USB_SetDevAddress:0000000000000000 USB_SetDevAddress
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s:4682   .text.USB_DevConnect:0000000000000000 $t
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s:4689   .text.USB_DevConnect:0000000000000000 USB_DevConnect
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s:4736   .text.USB_DevDisconnect:0000000000000000 $t
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s:4743   .text.USB_DevDisconnect:0000000000000000 USB_DevDisconnect
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s:4789   .text.USB_ReadInterrupts:0000000000000000 $t
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s:4796   .text.USB_ReadInterrupts:0000000000000000 USB_ReadInterrupts
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s:4840   .text.USB_ReadDevAllOutEpInterrupt:0000000000000000 $t
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s:4847   .text.USB_ReadDevAllOutEpInterrupt:0000000000000000 USB_ReadDevAllOutEpInterrupt
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s:4885   .text.USB_ReadDevAllInEpInterrupt:0000000000000000 $t
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s:4892   .text.USB_ReadDevAllInEpInterrupt:0000000000000000 USB_ReadDevAllInEpInterrupt
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s:4930   .text.USB_ReadDevOutEPInterrupt:0000000000000000 $t
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s:4937   .text.USB_ReadDevOutEPInterrupt:0000000000000000 USB_ReadDevOutEPInterrupt
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s:4977   .text.USB_ReadDevInEPInterrupt:0000000000000000 $t
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s:4984   .text.USB_ReadDevInEPInterrupt:0000000000000000 USB_ReadDevInEPInterrupt
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s:5024   .text.USB_ClearInterrupts:0000000000000000 $t
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s:5031   .text.USB_ClearInterrupts:0000000000000000 USB_ClearInterrupts
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s:5068   .text.USB_EP0_OutStart:0000000000000000 $t
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s:5075   .text.USB_EP0_OutStart:0000000000000000 USB_EP0_OutStart
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s:5114   .text.USB_ActivateRemoteWakeup:0000000000000000 $t
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s:5121   .text.USB_ActivateRemoteWakeup:0000000000000000 USB_ActivateRemoteWakeup
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s:5167   .text.USB_DeActivateRemoteWakeup:0000000000000000 $t
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s:5174   .text.USB_DeActivateRemoteWakeup:0000000000000000 USB_DeActivateRemoteWakeup
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s 			page 149


/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s:5220   .text.USB_WritePMA:0000000000000000 $t
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s:5340   .text.USB_ReadPMA:0000000000000000 $t
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//ccTxWJ3L.s:5347   .text.USB_ReadPMA:0000000000000000 USB_ReadPMA

NO UNDEFINED SYMBOLS
