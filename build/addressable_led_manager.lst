ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//cc00WOWL.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"addressable_led_manager.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.global	ledStrip1Size
  18              		.section	.rodata.ledStrip1Size,"a"
  19              		.align	1
  22              	ledStrip1Size:
  23 0000 5000     		.short	80
  24              		.comm	ledStrip1,20,4
  25              		.comm	ledStrip1Pixels,15360,4
  26              		.comm	ledStrip1PacketBuffer,1921,4
  27              		.comm	refreshTimer,24,4
  28              		.global	animationSkipInProgress
  29              		.section	.bss.animationSkipInProgress,"aw",%nobits
  32              	animationSkipInProgress:
  33 0000 00       		.space	1
  34              		.global	animationIndex
  35              		.section	.bss.animationIndex,"aw",%nobits
  38              	animationIndex:
  39 0000 00       		.space	1
  40              		.comm	panels,160,4
  41              		.comm	randomFadePixelData,400,4
  42              		.comm	randomTrianglesPixelData,400,4
  43              		.global	animations
  44              		.section	.data.animations,"aw"
  45              		.align	2
  48              	animations:
  49 0000 00000000 		.word	Animation_RandomTriangles_Init
  50 0004 00000000 		.word	Animation_RandomTriangles_Update
  51 0008 00000000 		.word	Animation_RandomTriangles_GetState
  52 000c 00000000 		.word	Animation_RandomTriangles_SendMessage
  53 0010 00000000 		.word	Animation_RandomFade_Init
  54 0014 00000000 		.word	Animation_RandomFade_Update
  55 0018 00000000 		.word	Animation_RandomFade_GetState
  56 001c 00000000 		.word	Animation_RandomFade_SendMessage
  57              		.section	.text.InitPanel,"ax",%progbits
  58              		.align	1
  59              		.arch armv7e-m
  60              		.syntax unified
  61              		.thumb
  62              		.thumb_func
  63              		.fpu fpv4-sp-d16
  65              	InitPanel:
  66              	.LFB292:
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//cc00WOWL.s 			page 2


  67              		.file 1 "Src/addressable_led_manager.c"
   1:Src/addressable_led_manager.c **** #include "main.h"
   2:Src/addressable_led_manager.c **** #include "addressable_led_manager.h"
   3:Src/addressable_led_manager.c **** #include "tim.h"
   4:Src/addressable_led_manager.c **** #include "utils.h"
   5:Src/addressable_led_manager.c **** #include "random_fade_animation.h"
   6:Src/addressable_led_manager.c **** #include "random_triangles_animation.h"
   7:Src/addressable_led_manager.c **** #include "sw_timers.h"
   8:Src/addressable_led_manager.c **** #include <string.h>
   9:Src/addressable_led_manager.c **** #include <stdlib.h>
  10:Src/addressable_led_manager.c **** 
  11:Src/addressable_led_manager.c **** #define LEDS_BEGIN_AT_BOTTOM    1
  12:Src/addressable_led_manager.c **** 
  13:Src/addressable_led_manager.c **** /*
  14:Src/addressable_led_manager.c ****  * ADDRESSABLE LED MANAGER
  15:Src/addressable_led_manager.c ****  *
  16:Src/addressable_led_manager.c ****  * This module is to handle abstract neopixel usage. It will handle the initialization of the AddrL
  17:Src/addressable_led_manager.c ****  * the AddrLEDStrip_t abstractions, initialize Pixel_ts with their coordinate data, etc. The neopix
  18:Src/addressable_led_manager.c ****  * not aware of the overall shape and structure of the strips. The manger module has awareness of t
  19:Src/addressable_led_manager.c ****  * purposes is to provide functions to make addressing the pixels easier.
  20:Src/addressable_led_manager.c ****  *
  21:Src/addressable_led_manager.c ****  * The manager module also initializes and plays "Animation" modules. 
  22:Src/addressable_led_manager.c ****  *
  23:Src/addressable_led_manager.c ****  */
  24:Src/addressable_led_manager.c **** 
  25:Src/addressable_led_manager.c **** // PRIVATE VARIBLES -------------------------------------------------
  26:Src/addressable_led_manager.c **** 
  27:Src/addressable_led_manager.c **** const uint16_t ledStrip1Size = NUM_LEDS_TOTAL;
  28:Src/addressable_led_manager.c **** AddrLEDStrip_t ledStrip1;
  29:Src/addressable_led_manager.c **** Pixel_t ledStrip1Pixels[sizeof(PixelPacket_t) * NUM_LEDS_PER_PANEL * NUM_PANELS];
  30:Src/addressable_led_manager.c **** uint8_t ledStrip1PacketBuffer[sizeof(PixelPacket_t) * NUM_LEDS_PER_PANEL * NUM_PANELS + 1]; // (3 *
  31:Src/addressable_led_manager.c **** SwTimer_t refreshTimer;
  32:Src/addressable_led_manager.c **** 
  33:Src/addressable_led_manager.c **** volatile bool animationSkipInProgress = false;
  34:Src/addressable_led_manager.c **** volatile uint8_t animationIndex = 0; // TODO // this is a temporary gimmick. 
  35:Src/addressable_led_manager.c **** 
  36:Src/addressable_led_manager.c **** AddrLEDPanel_t panels[5];
  37:Src/addressable_led_manager.c **** 
  38:Src/addressable_led_manager.c **** // PixelData_t arrays are for animation modules to hold misc data about every pixel.
  39:Src/addressable_led_manager.c **** // They are to be instantiated here and a pointer of them to be passed to aniation
  40:Src/addressable_led_manager.c **** // modules during their inits.
  41:Src/addressable_led_manager.c **** RandomFadePixelData_t randomFadePixelData[NUM_LEDS_TOTAL];
  42:Src/addressable_led_manager.c **** RandomTrianglesPixelData_t randomTrianglesPixelData[NUM_LEDS_TOTAL];
  43:Src/addressable_led_manager.c **** 
  44:Src/addressable_led_manager.c **** AnimationInterface_t animations[NUM_ANIMATIONS] = 
  45:Src/addressable_led_manager.c **** {
  46:Src/addressable_led_manager.c ****   [ANIMATION_RANDOMFADE] = {
  47:Src/addressable_led_manager.c ****                             .init = Animation_RandomFade_Init, 
  48:Src/addressable_led_manager.c ****                             .update = Animation_RandomFade_Update,  
  49:Src/addressable_led_manager.c ****                             .getState = Animation_RandomFade_GetState,
  50:Src/addressable_led_manager.c ****                             .sendMessage = Animation_RandomFade_SendMessage
  51:Src/addressable_led_manager.c ****                            },
  52:Src/addressable_led_manager.c ****   [ANIMATION_RANDOMTRIANGLES] = {
  53:Src/addressable_led_manager.c ****                             .init = Animation_RandomTriangles_Init, 
  54:Src/addressable_led_manager.c ****                             .update = Animation_RandomTriangles_Update,  
  55:Src/addressable_led_manager.c ****                             .getState = Animation_RandomTriangles_GetState,
  56:Src/addressable_led_manager.c ****                             .sendMessage = Animation_RandomTriangles_SendMessage
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//cc00WOWL.s 			page 3


  57:Src/addressable_led_manager.c ****                            },
  58:Src/addressable_led_manager.c **** 
  59:Src/addressable_led_manager.c **** };
  60:Src/addressable_led_manager.c **** 
  61:Src/addressable_led_manager.c **** // PRIVATE FUNCTIONS -------------------------------------------------
  62:Src/addressable_led_manager.c **** 
  63:Src/addressable_led_manager.c **** static void InitPanel(AddrLEDPanel_t *p)
  64:Src/addressable_led_manager.c **** {
  68              		.loc 1 64 1
  69              		.cfi_startproc
  70              		@ args = 0, pretend = 0, frame = 24
  71              		@ frame_needed = 1, uses_anonymous_args = 0
  72              		@ link register save eliminated.
  73 0000 80B4     		push	{r7}
  74              	.LCFI0:
  75              		.cfi_def_cfa_offset 4
  76              		.cfi_offset 7, -4
  77 0002 87B0     		sub	sp, sp, #28
  78              	.LCFI1:
  79              		.cfi_def_cfa_offset 32
  80 0004 00AF     		add	r7, sp, #0
  81              	.LCFI2:
  82              		.cfi_def_cfa_register 7
  83 0006 7860     		str	r0, [r7, #4]
  65:Src/addressable_led_manager.c ****   // Set local coordinates of this panel
  66:Src/addressable_led_manager.c ****   Pixel_t *pixels = p->strip->pixels;
  84              		.loc 1 66 22
  85 0008 7B68     		ldr	r3, [r7, #4]
  86 000a 1B68     		ldr	r3, [r3]
  87              		.loc 1 66 12
  88 000c 5B68     		ldr	r3, [r3, #4]
  89 000e 3B61     		str	r3, [r7, #16]
  90              	.LBB2:
  67:Src/addressable_led_manager.c ****   for (int i = 0; i < p->numLeds; i++)
  91              		.loc 1 67 12
  92 0010 0023     		movs	r3, #0
  93 0012 7B61     		str	r3, [r7, #20]
  94              		.loc 1 67 3
  95 0014 24E0     		b	.L2
  96              	.L4:
  97              	.LBB3:
  68:Src/addressable_led_manager.c ****   {
  69:Src/addressable_led_manager.c ****     Pixel_t *pixel = &pixels[p->stripRange[0] + i];
  98              		.loc 1 69 43 discriminator 3
  99 0016 7B68     		ldr	r3, [r7, #4]
 100 0018 5B89     		ldrh	r3, [r3, #10]
 101 001a 1A46     		mov	r2, r3
 102              		.loc 1 69 47 discriminator 3
 103 001c 7B69     		ldr	r3, [r7, #20]
 104 001e 1344     		add	r3, r3, r2
 105              		.loc 1 69 29 discriminator 3
 106 0020 DB00     		lsls	r3, r3, #3
 107              		.loc 1 69 14 discriminator 3
 108 0022 3A69     		ldr	r2, [r7, #16]
 109 0024 1344     		add	r3, r3, r2
 110 0026 FB60     		str	r3, [r7, #12]
  70:Src/addressable_led_manager.c ****     pixel->localX = NUM_LEDS_PER_PANEL_SIDE - (i / NUM_LEDS_PER_PANEL_SIDE);
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//cc00WOWL.s 			page 4


 111              		.loc 1 70 50 discriminator 3
 112 0028 7B69     		ldr	r3, [r7, #20]
 113 002a 002B     		cmp	r3, #0
 114 002c 00DA     		bge	.L3
 115 002e 0333     		adds	r3, r3, #3
 116              	.L3:
 117 0030 9B10     		asrs	r3, r3, #2
 118 0032 5B42     		rsbs	r3, r3, #0
 119              		.loc 1 70 45 discriminator 3
 120 0034 DBB2     		uxtb	r3, r3
 121 0036 0433     		adds	r3, r3, #4
 122 0038 DAB2     		uxtb	r2, r3
 123              		.loc 1 70 19 discriminator 3
 124 003a FB68     		ldr	r3, [r7, #12]
 125 003c DA70     		strb	r2, [r3, #3]
  71:Src/addressable_led_manager.c ****     pixel->localY = NUM_LEDS_PER_PANEL_SIDE - (i % NUM_LEDS_PER_PANEL_SIDE);
 126              		.loc 1 71 50 discriminator 3
 127 003e 7B69     		ldr	r3, [r7, #20]
 128 0040 5A42     		rsbs	r2, r3, #0
 129 0042 03F00303 		and	r3, r3, #3
 130 0046 02F00302 		and	r2, r2, #3
 131 004a 58BF     		it	pl
 132 004c 5342     		rsbpl	r3, r2, #0
 133              		.loc 1 71 45 discriminator 3
 134 004e DBB2     		uxtb	r3, r3
 135 0050 C3F10403 		rsb	r3, r3, #4
 136 0054 DAB2     		uxtb	r2, r3
 137              		.loc 1 71 19 discriminator 3
 138 0056 FB68     		ldr	r3, [r7, #12]
 139 0058 1A71     		strb	r2, [r3, #4]
 140              	.LBE3:
  67:Src/addressable_led_manager.c ****   {
 141              		.loc 1 67 36 discriminator 3
 142 005a 7B69     		ldr	r3, [r7, #20]
 143 005c 0133     		adds	r3, r3, #1
 144 005e 7B61     		str	r3, [r7, #20]
 145              	.L2:
  67:Src/addressable_led_manager.c ****   {
 146              		.loc 1 67 24 discriminator 1
 147 0060 7B68     		ldr	r3, [r7, #4]
 148 0062 1B89     		ldrh	r3, [r3, #8]
 149 0064 1A46     		mov	r2, r3
  67:Src/addressable_led_manager.c ****   {
 150              		.loc 1 67 3 discriminator 1
 151 0066 7B69     		ldr	r3, [r7, #20]
 152 0068 9342     		cmp	r3, r2
 153 006a D4DB     		blt	.L4
 154              	.LBE2:
  72:Src/addressable_led_manager.c ****     
  73:Src/addressable_led_manager.c ****     // TODO // HANDLE GLOBAL COORDINATES
  74:Src/addressable_led_manager.c ****   }
  75:Src/addressable_led_manager.c **** 
  76:Src/addressable_led_manager.c ****   // Set global coordinates of this panel
  77:Src/addressable_led_manager.c **** 
  78:Src/addressable_led_manager.c **** }
 155              		.loc 1 78 1
 156 006c 00BF     		nop
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//cc00WOWL.s 			page 5


 157 006e 00BF     		nop
 158 0070 1C37     		adds	r7, r7, #28
 159              	.LCFI3:
 160              		.cfi_def_cfa_offset 4
 161 0072 BD46     		mov	sp, r7
 162              	.LCFI4:
 163              		.cfi_def_cfa_register 13
 164              		@ sp needed
 165 0074 5DF8047B 		ldr	r7, [sp], #4
 166              	.LCFI5:
 167              		.cfi_restore 7
 168              		.cfi_def_cfa_offset 0
 169 0078 7047     		bx	lr
 170              		.cfi_endproc
 171              	.LFE292:
 173              		.section	.text.AddrLEDManager_RefreshCallback,"ax",%progbits
 174              		.align	1
 175              		.syntax unified
 176              		.thumb
 177              		.thumb_func
 178              		.fpu fpv4-sp-d16
 180              	AddrLEDManager_RefreshCallback:
 181              	.LFB293:
  79:Src/addressable_led_manager.c **** 
  80:Src/addressable_led_manager.c **** static uint32_t AddrLEDManager_RefreshCallback(void)
  81:Src/addressable_led_manager.c **** {
 182              		.loc 1 81 1
 183              		.cfi_startproc
 184              		@ args = 0, pretend = 0, frame = 0
 185              		@ frame_needed = 1, uses_anonymous_args = 0
 186 0000 80B5     		push	{r7, lr}
 187              	.LCFI6:
 188              		.cfi_def_cfa_offset 8
 189              		.cfi_offset 7, -8
 190              		.cfi_offset 14, -4
 191 0002 00AF     		add	r7, sp, #0
 192              	.LCFI7:
 193              		.cfi_def_cfa_register 7
  82:Src/addressable_led_manager.c ****   TOGGLE_ONBOARD_LED();
 194              		.loc 1 82 3
 195 0004 2021     		movs	r1, #32
 196 0006 4FF09040 		mov	r0, #1207959552
 197 000a FFF7FEFF 		bl	HAL_GPIO_TogglePin
  83:Src/addressable_led_manager.c ****   switch (animationIndex % 2)
 198              		.loc 1 83 26
 199 000e 0B4B     		ldr	r3, .L10
 200 0010 1B78     		ldrb	r3, [r3]
 201 0012 DBB2     		uxtb	r3, r3
 202 0014 03F00103 		and	r3, r3, #1
 203              		.loc 1 83 3
 204 0018 002B     		cmp	r3, #0
 205 001a 02D0     		beq	.L6
 206 001c 012B     		cmp	r3, #1
 207 001e 03D0     		beq	.L7
 208 0020 05E0     		b	.L8
 209              	.L6:
  84:Src/addressable_led_manager.c ****   {
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//cc00WOWL.s 			page 6


  85:Src/addressable_led_manager.c ****     case 0:
  86:Src/addressable_led_manager.c ****       {
  87:Src/addressable_led_manager.c ****         Animation_RandomTriangles_Update();
 210              		.loc 1 87 9
 211 0022 FFF7FEFF 		bl	Animation_RandomTriangles_Update
  88:Src/addressable_led_manager.c ****         break;
 212              		.loc 1 88 9
 213 0026 02E0     		b	.L8
 214              	.L7:
  89:Src/addressable_led_manager.c ****       }
  90:Src/addressable_led_manager.c ****     case 1:
  91:Src/addressable_led_manager.c ****       {
  92:Src/addressable_led_manager.c ****         Animation_RandomFade_Update();
 215              		.loc 1 92 9
 216 0028 FFF7FEFF 		bl	Animation_RandomFade_Update
  93:Src/addressable_led_manager.c ****         break;
 217              		.loc 1 93 9
 218 002c 00BF     		nop
 219              	.L8:
  94:Src/addressable_led_manager.c ****       }
  95:Src/addressable_led_manager.c ****   }
  96:Src/addressable_led_manager.c ****   HAL_Delay(1);
 220              		.loc 1 96 3
 221 002e 0120     		movs	r0, #1
 222 0030 FFF7FEFF 		bl	HAL_Delay
  97:Src/addressable_led_manager.c ****   //AddrLED_DisplayStrip(&ledStrip1);
  98:Src/addressable_led_manager.c ****   return 100;
 223              		.loc 1 98 10
 224 0034 6423     		movs	r3, #100
  99:Src/addressable_led_manager.c **** }
 225              		.loc 1 99 1
 226 0036 1846     		mov	r0, r3
 227 0038 80BD     		pop	{r7, pc}
 228              	.L11:
 229 003a 00BF     		.align	2
 230              	.L10:
 231 003c 00000000 		.word	animationIndex
 232              		.cfi_endproc
 233              	.LFE293:
 235              		.section	.text.AddrLEDManager_Init,"ax",%progbits
 236              		.align	1
 237              		.global	AddrLEDManager_Init
 238              		.syntax unified
 239              		.thumb
 240              		.thumb_func
 241              		.fpu fpv4-sp-d16
 243              	AddrLEDManager_Init:
 244              	.LFB294:
 100:Src/addressable_led_manager.c **** 
 101:Src/addressable_led_manager.c **** // PUBLIC FUNCTIONS -------------------------------------------------
 102:Src/addressable_led_manager.c **** 
 103:Src/addressable_led_manager.c **** void AddrLEDManager_Init(void)
 104:Src/addressable_led_manager.c **** {
 245              		.loc 1 104 1
 246              		.cfi_startproc
 247              		@ args = 0, pretend = 0, frame = 64
 248              		@ frame_needed = 1, uses_anonymous_args = 0
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//cc00WOWL.s 			page 7


 249 0000 B0B5     		push	{r4, r5, r7, lr}
 250              	.LCFI8:
 251              		.cfi_def_cfa_offset 16
 252              		.cfi_offset 4, -16
 253              		.cfi_offset 5, -12
 254              		.cfi_offset 7, -8
 255              		.cfi_offset 14, -4
 256 0002 90B0     		sub	sp, sp, #64
 257              	.LCFI9:
 258              		.cfi_def_cfa_offset 80
 259 0004 00AF     		add	r7, sp, #0
 260              	.LCFI10:
 261              		.cfi_def_cfa_register 7
 105:Src/addressable_led_manager.c ****   // Initialize the strip(s). This initialize one continuous strip. 
 106:Src/addressable_led_manager.c ****   // If multiple panels are daisychained, that counts as one strip.
 107:Src/addressable_led_manager.c ****   ledStrip1 = (AddrLEDStrip_t) {
 262              		.loc 1 107 13
 263 0006 5022     		movs	r2, #80
 264 0008 334B     		ldr	r3, .L15
 265 000a 1A80     		strh	r2, [r3]	@ movhi
 266 000c 324B     		ldr	r3, .L15
 267 000e 334A     		ldr	r2, .L15+4
 268 0010 5A60     		str	r2, [r3, #4]
 269 0012 314B     		ldr	r3, .L15
 270 0014 324A     		ldr	r2, .L15+8
 271 0016 9A60     		str	r2, [r3, #8]
 272 0018 2F4B     		ldr	r3, .L15
 273 001a 324A     		ldr	r2, .L15+12
 274 001c DA60     		str	r2, [r3, #12]
 275 001e 2E4B     		ldr	r3, .L15
 276 0020 0C22     		movs	r2, #12
 277 0022 1A61     		str	r2, [r3, #16]
 108:Src/addressable_led_manager.c ****     .numLeds                 = ledStrip1Size,
 109:Src/addressable_led_manager.c ****       .pwmTimerHandle        = &LED_PANEL_1_PWM_TIMER_HANDLE,
 110:Src/addressable_led_manager.c ****       .pwmTimerHandleChannel = LED_PANEL_1_PWM_TIMER_CHANNEL,
 111:Src/addressable_led_manager.c ****       .pixels                = (Pixel_t *) &ledStrip1Pixels,
 112:Src/addressable_led_manager.c ****       .pixelPacketBuffer     = (uint8_t *) &ledStrip1PacketBuffer,
 113:Src/addressable_led_manager.c ****   };
 114:Src/addressable_led_manager.c ****   memset(&ledStrip1PacketBuffer, 0x0, sizeof(ledStrip1PacketBuffer));
 278              		.loc 1 114 3
 279 0024 40F28172 		movw	r2, #1921
 280 0028 0021     		movs	r1, #0
 281 002a 2D48     		ldr	r0, .L15+8
 282 002c FFF7FEFF 		bl	memset
 115:Src/addressable_led_manager.c ****   AddrLED_Init(&ledStrip1);
 283              		.loc 1 115 3
 284 0030 2948     		ldr	r0, .L15
 285 0032 FFF7FEFF 		bl	AddrLED_Init
 286              	.LBB4:
 116:Src/addressable_led_manager.c **** 
 117:Src/addressable_led_manager.c ****   // Initialize the panel structures
 118:Src/addressable_led_manager.c ****   for (int panelIdx = 0; panelIdx < NUM_PANELS; panelIdx++)
 287              		.loc 1 118 12
 288 0036 0023     		movs	r3, #0
 289 0038 FB63     		str	r3, [r7, #60]
 290              		.loc 1 118 3
 291 003a 36E0     		b	.L13
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//cc00WOWL.s 			page 8


 292              	.L14:
 293              	.LBB5:
 119:Src/addressable_led_manager.c ****   {
 120:Src/addressable_led_manager.c ****     Position_e pos = (Position_e) panelIdx;
 294              		.loc 1 120 16 discriminator 3
 295 003c FB6B     		ldr	r3, [r7, #60]
 296 003e 87F83B30 		strb	r3, [r7, #59]
 121:Src/addressable_led_manager.c ****     AddrLEDPanel_t p = {
 297              		.loc 1 121 20 discriminator 3
 298 0042 3B1D     		adds	r3, r7, #4
 299 0044 2022     		movs	r2, #32
 300 0046 0021     		movs	r1, #0
 301 0048 1846     		mov	r0, r3
 302 004a FFF7FEFF 		bl	memset
 303 004e 224B     		ldr	r3, .L15
 304 0050 7B60     		str	r3, [r7, #4]
 305 0052 1023     		movs	r3, #16
 306 0054 BB81     		strh	r3, [r7, #12]	@ movhi
 307 0056 FB6B     		ldr	r3, [r7, #60]
 308 0058 9BB2     		uxth	r3, r3
 309 005a 1B01     		lsls	r3, r3, #4
 310 005c 9BB2     		uxth	r3, r3
 311 005e FB81     		strh	r3, [r7, #14]	@ movhi
 122:Src/addressable_led_manager.c ****       .strip = &ledStrip1,
 123:Src/addressable_led_manager.c ****       .numLeds = NUM_LEDS_PER_PANEL,
 124:Src/addressable_led_manager.c ****       .stripRange = {(panelIdx * NUM_LEDS_PER_PANEL), ((panelIdx + 1)* NUM_LEDS_PER_PANEL - 1)},
 312              		.loc 1 124 66 discriminator 3
 313 0060 FB6B     		ldr	r3, [r7, #60]
 314 0062 0133     		adds	r3, r3, #1
 315              		.loc 1 124 91 discriminator 3
 316 0064 9BB2     		uxth	r3, r3
 317 0066 1B01     		lsls	r3, r3, #4
 318 0068 9BB2     		uxth	r3, r3
 319 006a 013B     		subs	r3, r3, #1
 320 006c 9BB2     		uxth	r3, r3
 121:Src/addressable_led_manager.c ****     AddrLEDPanel_t p = {
 321              		.loc 1 121 20 discriminator 3
 322 006e 3B82     		strh	r3, [r7, #16]	@ movhi
 323 0070 97F83B30 		ldrb	r3, [r7, #59]
 324 0074 BB74     		strb	r3, [r7, #18]
 125:Src/addressable_led_manager.c ****       .position = pos,
 126:Src/addressable_led_manager.c ****       .neighborPanels = {NULL, NULL, NULL, NULL},
 127:Src/addressable_led_manager.c ****     };
 128:Src/addressable_led_manager.c ****     p.stripFirstPixel = &(p.strip->pixels[p.stripRange[0]]);
 325              		.loc 1 128 28 discriminator 3
 326 0076 7B68     		ldr	r3, [r7, #4]
 327              		.loc 1 128 34 discriminator 3
 328 0078 5A68     		ldr	r2, [r3, #4]
 329              		.loc 1 128 55 discriminator 3
 330 007a FB89     		ldrh	r3, [r7, #14]
 331              		.loc 1 128 42 discriminator 3
 332 007c DB00     		lsls	r3, r3, #3
 333              		.loc 1 128 25 discriminator 3
 334 007e 1344     		add	r3, r3, r2
 335              		.loc 1 128 23 discriminator 3
 336 0080 BB60     		str	r3, [r7, #8]
 129:Src/addressable_led_manager.c ****     InitPanel(&p);
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//cc00WOWL.s 			page 9


 337              		.loc 1 129 5 discriminator 3
 338 0082 3B1D     		adds	r3, r7, #4
 339 0084 1846     		mov	r0, r3
 340 0086 FFF7FEFF 		bl	InitPanel
 130:Src/addressable_led_manager.c ****     panels[pos] = p;
 341              		.loc 1 130 11 discriminator 3
 342 008a 97F83B30 		ldrb	r3, [r7, #59]	@ zero_extendqisi2
 343              		.loc 1 130 17 discriminator 3
 344 008e 164A     		ldr	r2, .L15+16
 345 0090 5B01     		lsls	r3, r3, #5
 346 0092 1344     		add	r3, r3, r2
 347 0094 1D46     		mov	r5, r3
 348 0096 3C1D     		adds	r4, r7, #4
 349 0098 0FCC     		ldmia	r4!, {r0, r1, r2, r3}
 350 009a 0FC5     		stmia	r5!, {r0, r1, r2, r3}
 351 009c 94E80F00 		ldm	r4, {r0, r1, r2, r3}
 352 00a0 85E80F00 		stm	r5, {r0, r1, r2, r3}
 353              	.LBE5:
 118:Src/addressable_led_manager.c ****   {
 354              		.loc 1 118 57 discriminator 3
 355 00a4 FB6B     		ldr	r3, [r7, #60]
 356 00a6 0133     		adds	r3, r3, #1
 357 00a8 FB63     		str	r3, [r7, #60]
 358              	.L13:
 118:Src/addressable_led_manager.c ****   {
 359              		.loc 1 118 3 discriminator 1
 360 00aa FB6B     		ldr	r3, [r7, #60]
 361 00ac 042B     		cmp	r3, #4
 362 00ae C5DD     		ble	.L14
 363              	.LBE4:
 131:Src/addressable_led_manager.c ****   }
 132:Src/addressable_led_manager.c **** 
 133:Src/addressable_led_manager.c ****   // Initialize our animations
 134:Src/addressable_led_manager.c ****   Animation_RandomFade_Init((AddrLEDPanel_t *) &panels, NUM_PANELS, (RandomFadePixelData_t *) &rand
 364              		.loc 1 134 3
 365 00b0 0E4A     		ldr	r2, .L15+20
 366 00b2 0521     		movs	r1, #5
 367 00b4 0C48     		ldr	r0, .L15+16
 368 00b6 FFF7FEFF 		bl	Animation_RandomFade_Init
 135:Src/addressable_led_manager.c ****   Animation_RandomTriangles_Init((AddrLEDPanel_t *) &panels, NUM_PANELS, (RandomTrianglesPixelData_
 369              		.loc 1 135 3
 370 00ba 0D4A     		ldr	r2, .L15+24
 371 00bc 0521     		movs	r1, #5
 372 00be 0A48     		ldr	r0, .L15+16
 373 00c0 FFF7FEFF 		bl	Animation_RandomTriangles_Init
 136:Src/addressable_led_manager.c **** 
 137:Src/addressable_led_manager.c ****   // Initialize refresh timer
 138:Src/addressable_led_manager.c ****   refreshTimer.fn = AddrLEDManager_RefreshCallback;
 374              		.loc 1 138 19
 375 00c4 0B4B     		ldr	r3, .L15+28
 376 00c6 0C4A     		ldr	r2, .L15+32
 377 00c8 DA60     		str	r2, [r3, #12]
 139:Src/addressable_led_manager.c ****   refreshTimer.Ms = 100;
 378              		.loc 1 139 19
 379 00ca 0A4B     		ldr	r3, .L15+28
 380 00cc 6422     		movs	r2, #100
 381 00ce 5A60     		str	r2, [r3, #4]
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//cc00WOWL.s 			page 10


 140:Src/addressable_led_manager.c **** }
 382              		.loc 1 140 1
 383 00d0 00BF     		nop
 384 00d2 4037     		adds	r7, r7, #64
 385              	.LCFI11:
 386              		.cfi_def_cfa_offset 16
 387 00d4 BD46     		mov	sp, r7
 388              	.LCFI12:
 389              		.cfi_def_cfa_register 13
 390              		@ sp needed
 391 00d6 B0BD     		pop	{r4, r5, r7, pc}
 392              	.L16:
 393              		.align	2
 394              	.L15:
 395 00d8 00000000 		.word	ledStrip1
 396 00dc 00000000 		.word	ledStrip1Pixels
 397 00e0 00000000 		.word	ledStrip1PacketBuffer
 398 00e4 00000000 		.word	htim3
 399 00e8 00000000 		.word	panels
 400 00ec 00000000 		.word	randomFadePixelData
 401 00f0 00000000 		.word	randomTrianglesPixelData
 402 00f4 00000000 		.word	refreshTimer
 403 00f8 00000000 		.word	AddrLEDManager_RefreshCallback
 404              		.cfi_endproc
 405              	.LFE294:
 407              		.section	.text.GetPixelByLocalCoordinate,"ax",%progbits
 408              		.align	1
 409              		.global	GetPixelByLocalCoordinate
 410              		.syntax unified
 411              		.thumb
 412              		.thumb_func
 413              		.fpu fpv4-sp-d16
 415              	GetPixelByLocalCoordinate:
 416              	.LFB295:
 141:Src/addressable_led_manager.c **** 
 142:Src/addressable_led_manager.c **** Pixel_t* GetPixelByLocalCoordinate(Position_e pos, uint8_t x, uint8_t y)
 143:Src/addressable_led_manager.c **** {
 417              		.loc 1 143 1
 418              		.cfi_startproc
 419              		@ args = 0, pretend = 0, frame = 24
 420              		@ frame_needed = 1, uses_anonymous_args = 0
 421              		@ link register save eliminated.
 422 0000 80B4     		push	{r7}
 423              	.LCFI13:
 424              		.cfi_def_cfa_offset 4
 425              		.cfi_offset 7, -4
 426 0002 87B0     		sub	sp, sp, #28
 427              	.LCFI14:
 428              		.cfi_def_cfa_offset 32
 429 0004 00AF     		add	r7, sp, #0
 430              	.LCFI15:
 431              		.cfi_def_cfa_register 7
 432 0006 0346     		mov	r3, r0
 433 0008 FB71     		strb	r3, [r7, #7]
 434 000a 0B46     		mov	r3, r1
 435 000c BB71     		strb	r3, [r7, #6]
 436 000e 1346     		mov	r3, r2
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//cc00WOWL.s 			page 11


 437 0010 7B71     		strb	r3, [r7, #5]
 144:Src/addressable_led_manager.c ****   AddrLEDPanel_t *panel = &panels[pos];
 438              		.loc 1 144 34
 439 0012 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 440              		.loc 1 144 19
 441 0014 5B01     		lsls	r3, r3, #5
 442 0016 154A     		ldr	r2, .L21
 443 0018 1344     		add	r3, r3, r2
 444 001a 3B61     		str	r3, [r7, #16]
 145:Src/addressable_led_manager.c ****   AddrLEDStrip_t *strip = panel->strip;
 445              		.loc 1 145 19
 446 001c 3B69     		ldr	r3, [r7, #16]
 447 001e 1B68     		ldr	r3, [r3]
 448 0020 FB60     		str	r3, [r7, #12]
 146:Src/addressable_led_manager.c ****   uint8_t ledIdx;
 147:Src/addressable_led_manager.c **** #if LEDS_BEGIN_AT_BOTTOM
 148:Src/addressable_led_manager.c ****   y = NUM_LEDS_PER_PANEL_SIDE - y - 1;
 449              		.loc 1 148 5
 450 0022 7B79     		ldrb	r3, [r7, #5]
 451 0024 C3F10303 		rsb	r3, r3, #3
 452 0028 7B71     		strb	r3, [r7, #5]
 149:Src/addressable_led_manager.c **** #endif
 150:Src/addressable_led_manager.c ****   if (y % 2 == 0)
 453              		.loc 1 150 13
 454 002a 7B79     		ldrb	r3, [r7, #5]
 455 002c 03F00103 		and	r3, r3, #1
 456 0030 DBB2     		uxtb	r3, r3
 457              		.loc 1 150 6
 458 0032 002B     		cmp	r3, #0
 459 0034 06D1     		bne	.L18
 151:Src/addressable_led_manager.c ****   {
 152:Src/addressable_led_manager.c ****     ledIdx = x + (NUM_LEDS_PER_PANEL_SIDE * y);
 460              		.loc 1 152 16
 461 0036 7B79     		ldrb	r3, [r7, #5]
 462 0038 9B00     		lsls	r3, r3, #2
 463 003a DAB2     		uxtb	r2, r3
 464              		.loc 1 152 12
 465 003c BB79     		ldrb	r3, [r7, #6]
 466 003e 1344     		add	r3, r3, r2
 467 0040 FB75     		strb	r3, [r7, #23]
 468 0042 07E0     		b	.L19
 469              	.L18:
 153:Src/addressable_led_manager.c ****   }
 154:Src/addressable_led_manager.c ****   else
 155:Src/addressable_led_manager.c ****   {
 156:Src/addressable_led_manager.c ****     ledIdx = (NUM_LEDS_PER_PANEL_SIDE - 1 - x) + (NUM_LEDS_PER_PANEL_SIDE * y);
 470              		.loc 1 156 48
 471 0044 7B79     		ldrb	r3, [r7, #5]
 472 0046 9B00     		lsls	r3, r3, #2
 473 0048 DAB2     		uxtb	r2, r3
 474 004a BB79     		ldrb	r3, [r7, #6]
 475 004c D31A     		subs	r3, r2, r3
 476 004e DBB2     		uxtb	r3, r3
 477              		.loc 1 156 12
 478 0050 0333     		adds	r3, r3, #3
 479 0052 FB75     		strb	r3, [r7, #23]
 480              	.L19:
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//cc00WOWL.s 			page 12


 157:Src/addressable_led_manager.c ****   }
 158:Src/addressable_led_manager.c ****   return &(panel->stripFirstPixel[ledIdx]);
 481              		.loc 1 158 17
 482 0054 3B69     		ldr	r3, [r7, #16]
 483 0056 5A68     		ldr	r2, [r3, #4]
 484              		.loc 1 158 34
 485 0058 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 486 005a DB00     		lsls	r3, r3, #3
 487              		.loc 1 158 10
 488 005c 1344     		add	r3, r3, r2
 159:Src/addressable_led_manager.c **** }
 489              		.loc 1 159 1
 490 005e 1846     		mov	r0, r3
 491 0060 1C37     		adds	r7, r7, #28
 492              	.LCFI16:
 493              		.cfi_def_cfa_offset 4
 494 0062 BD46     		mov	sp, r7
 495              	.LCFI17:
 496              		.cfi_def_cfa_register 13
 497              		@ sp needed
 498 0064 5DF8047B 		ldr	r7, [sp], #4
 499              	.LCFI18:
 500              		.cfi_restore 7
 501              		.cfi_def_cfa_offset 0
 502 0068 7047     		bx	lr
 503              	.L22:
 504 006a 00BF     		.align	2
 505              	.L21:
 506 006c 00000000 		.word	panels
 507              		.cfi_endproc
 508              	.LFE295:
 510              		.section	.text.GetPixelByGlobalCoordinate,"ax",%progbits
 511              		.align	1
 512              		.global	GetPixelByGlobalCoordinate
 513              		.syntax unified
 514              		.thumb
 515              		.thumb_func
 516              		.fpu fpv4-sp-d16
 518              	GetPixelByGlobalCoordinate:
 519              	.LFB296:
 160:Src/addressable_led_manager.c **** 
 161:Src/addressable_led_manager.c **** Pixel_t* GetPixelByGlobalCoordinate(uint8_t x, uint8_t y, uint8_t z)
 162:Src/addressable_led_manager.c **** {
 520              		.loc 1 162 1
 521              		.cfi_startproc
 522              		@ args = 0, pretend = 0, frame = 8
 523              		@ frame_needed = 1, uses_anonymous_args = 0
 524              		@ link register save eliminated.
 525 0000 80B4     		push	{r7}
 526              	.LCFI19:
 527              		.cfi_def_cfa_offset 4
 528              		.cfi_offset 7, -4
 529 0002 83B0     		sub	sp, sp, #12
 530              	.LCFI20:
 531              		.cfi_def_cfa_offset 16
 532 0004 00AF     		add	r7, sp, #0
 533              	.LCFI21:
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//cc00WOWL.s 			page 13


 534              		.cfi_def_cfa_register 7
 535 0006 0346     		mov	r3, r0
 536 0008 FB71     		strb	r3, [r7, #7]
 537 000a 0B46     		mov	r3, r1
 538 000c BB71     		strb	r3, [r7, #6]
 539 000e 1346     		mov	r3, r2
 540 0010 7B71     		strb	r3, [r7, #5]
 163:Src/addressable_led_manager.c ****   return NULL;
 541              		.loc 1 163 10
 542 0012 0023     		movs	r3, #0
 164:Src/addressable_led_manager.c **** } 
 543              		.loc 1 164 1
 544 0014 1846     		mov	r0, r3
 545 0016 0C37     		adds	r7, r7, #12
 546              	.LCFI22:
 547              		.cfi_def_cfa_offset 4
 548 0018 BD46     		mov	sp, r7
 549              	.LCFI23:
 550              		.cfi_def_cfa_register 13
 551              		@ sp needed
 552 001a 5DF8047B 		ldr	r7, [sp], #4
 553              	.LCFI24:
 554              		.cfi_restore 7
 555              		.cfi_def_cfa_offset 0
 556 001e 7047     		bx	lr
 557              		.cfi_endproc
 558              	.LFE296:
 560              		.section	.text.AddrLEDManager_RefreshTimerStart,"ax",%progbits
 561              		.align	1
 562              		.global	AddrLEDManager_RefreshTimerStart
 563              		.syntax unified
 564              		.thumb
 565              		.thumb_func
 566              		.fpu fpv4-sp-d16
 568              	AddrLEDManager_RefreshTimerStart:
 569              	.LFB298:
 165:Src/addressable_led_manager.c **** 
 166:Src/addressable_led_manager.c **** inline AddrLEDPanel_t* GetPanelByLocation(Position_e pos)
 167:Src/addressable_led_manager.c **** {
 168:Src/addressable_led_manager.c ****   return NULL;
 169:Src/addressable_led_manager.c **** }
 170:Src/addressable_led_manager.c **** 
 171:Src/addressable_led_manager.c **** void AddrLEDManager_RefreshTimerStart(void)
 172:Src/addressable_led_manager.c **** {
 570              		.loc 1 172 1
 571              		.cfi_startproc
 572              		@ args = 0, pretend = 0, frame = 0
 573              		@ frame_needed = 1, uses_anonymous_args = 0
 574 0000 80B5     		push	{r7, lr}
 575              	.LCFI25:
 576              		.cfi_def_cfa_offset 8
 577              		.cfi_offset 7, -8
 578              		.cfi_offset 14, -4
 579 0002 00AF     		add	r7, sp, #0
 580              	.LCFI26:
 581              		.cfi_def_cfa_register 7
 173:Src/addressable_led_manager.c ****   SwTimer_Start(&refreshTimer);
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//cc00WOWL.s 			page 14


 582              		.loc 1 173 3
 583 0004 0248     		ldr	r0, .L26
 584 0006 FFF7FEFF 		bl	SwTimer_Start
 174:Src/addressable_led_manager.c **** }
 585              		.loc 1 174 1
 586 000a 00BF     		nop
 587 000c 80BD     		pop	{r7, pc}
 588              	.L27:
 589 000e 00BF     		.align	2
 590              	.L26:
 591 0010 00000000 		.word	refreshTimer
 592              		.cfi_endproc
 593              	.LFE298:
 595              		.section	.text.AddrLEDManager_PlayNextAnimation,"ax",%progbits
 596              		.align	1
 597              		.global	AddrLEDManager_PlayNextAnimation
 598              		.syntax unified
 599              		.thumb
 600              		.thumb_func
 601              		.fpu fpv4-sp-d16
 603              	AddrLEDManager_PlayNextAnimation:
 604              	.LFB299:
 175:Src/addressable_led_manager.c **** 
 176:Src/addressable_led_manager.c **** void AddrLEDManager_PlayNextAnimation(void)
 177:Src/addressable_led_manager.c **** {
 605              		.loc 1 177 1
 606              		.cfi_startproc
 607              		@ args = 0, pretend = 0, frame = 16
 608              		@ frame_needed = 1, uses_anonymous_args = 0
 609 0000 80B5     		push	{r7, lr}
 610              	.LCFI27:
 611              		.cfi_def_cfa_offset 8
 612              		.cfi_offset 7, -8
 613              		.cfi_offset 14, -4
 614 0002 84B0     		sub	sp, sp, #16
 615              	.LCFI28:
 616              		.cfi_def_cfa_offset 24
 617 0004 00AF     		add	r7, sp, #0
 618              	.LCFI29:
 619              		.cfi_def_cfa_register 7
 178:Src/addressable_led_manager.c ****   // Tell current animation to start ramping down
 179:Src/addressable_led_manager.c ****   AnimationMessage_t pauseMsg = {PAUSE, NULL};
 620              		.loc 1 179 22
 621 0006 0123     		movs	r3, #1
 622 0008 3B70     		strb	r3, [r7]
 623 000a 4FF00002 		mov	r2, #0
 624 000e 4FF00003 		mov	r3, #0
 625 0012 C7E90223 		strd	r2, [r7, #8]
 180:Src/addressable_led_manager.c ****   animations[animationIndex % NUM_ANIMATIONS].sendMessage(&pauseMsg);
 626              		.loc 1 180 29
 627 0016 0A4B     		ldr	r3, .L29
 628 0018 1B78     		ldrb	r3, [r3]
 629 001a DBB2     		uxtb	r3, r3
 630 001c 03F00103 		and	r3, r3, #1
 631              		.loc 1 180 46
 632 0020 084A     		ldr	r2, .L29+4
 633 0022 1B01     		lsls	r3, r3, #4
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//cc00WOWL.s 			page 15


 634 0024 1344     		add	r3, r3, r2
 635 0026 0C33     		adds	r3, r3, #12
 636 0028 1B68     		ldr	r3, [r3]
 637              		.loc 1 180 3
 638 002a 3A46     		mov	r2, r7
 639 002c 1046     		mov	r0, r2
 640 002e 9847     		blx	r3
 641              	.LVL0:
 181:Src/addressable_led_manager.c **** 
 182:Src/addressable_led_manager.c ****   // Set our state machine to "transitioning from animation to animation"
 183:Src/addressable_led_manager.c ****   animationSkipInProgress = true;
 642              		.loc 1 183 27
 643 0030 054B     		ldr	r3, .L29+8
 644 0032 0122     		movs	r2, #1
 645 0034 1A70     		strb	r2, [r3]
 184:Src/addressable_led_manager.c **** }
 646              		.loc 1 184 1
 647 0036 00BF     		nop
 648 0038 1037     		adds	r7, r7, #16
 649              	.LCFI30:
 650              		.cfi_def_cfa_offset 8
 651 003a BD46     		mov	sp, r7
 652              	.LCFI31:
 653              		.cfi_def_cfa_register 13
 654              		@ sp needed
 655 003c 80BD     		pop	{r7, pc}
 656              	.L30:
 657 003e 00BF     		.align	2
 658              	.L29:
 659 0040 00000000 		.word	animationIndex
 660 0044 00000000 		.word	animations
 661 0048 00000000 		.word	animationSkipInProgress
 662              		.cfi_endproc
 663              	.LFE299:
 665              		.section	.text.AddrLEDManager_SanityTest,"ax",%progbits
 666              		.align	1
 667              		.global	AddrLEDManager_SanityTest
 668              		.syntax unified
 669              		.thumb
 670              		.thumb_func
 671              		.fpu fpv4-sp-d16
 673              	AddrLEDManager_SanityTest:
 674              	.LFB300:
 185:Src/addressable_led_manager.c **** 
 186:Src/addressable_led_manager.c **** void AddrLEDManager_SanityTest(void)
 187:Src/addressable_led_manager.c **** {
 675              		.loc 1 187 1
 676              		.cfi_startproc
 677              		@ args = 0, pretend = 0, frame = 24
 678              		@ frame_needed = 1, uses_anonymous_args = 0
 679 0000 80B5     		push	{r7, lr}
 680              	.LCFI32:
 681              		.cfi_def_cfa_offset 8
 682              		.cfi_offset 7, -8
 683              		.cfi_offset 14, -4
 684 0002 86B0     		sub	sp, sp, #24
 685              	.LCFI33:
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//cc00WOWL.s 			page 16


 686              		.cfi_def_cfa_offset 32
 687 0004 00AF     		add	r7, sp, #0
 688              	.LCFI34:
 689              		.cfi_def_cfa_register 7
 690              	.L33:
 188:Src/addressable_led_manager.c ****   while(1){
 189:Src/addressable_led_manager.c ****     TOGGLE_ONBOARD_LED();
 691              		.loc 1 189 5
 692 0006 2021     		movs	r1, #32
 693 0008 4FF09040 		mov	r0, #1207959552
 694 000c FFF7FEFF 		bl	HAL_GPIO_TogglePin
 190:Src/addressable_led_manager.c ****     
 191:Src/addressable_led_manager.c ****     // If we're in process of skipping, wait for current animation to ramp down
 192:Src/addressable_led_manager.c ****     if (animationSkipInProgress)
 695              		.loc 1 192 9
 696 0010 224B     		ldr	r3, .L34
 697 0012 1B78     		ldrb	r3, [r3]
 698 0014 DBB2     		uxtb	r3, r3
 699              		.loc 1 192 8
 700 0016 002B     		cmp	r3, #0
 701 0018 2ED0     		beq	.L32
 702              	.LBB6:
 193:Src/addressable_led_manager.c ****     {
 194:Src/addressable_led_manager.c ****       AnimationState_e animState = animations[animationIndex % NUM_ANIMATIONS].getState();
 703              		.loc 1 194 62
 704 001a 214B     		ldr	r3, .L34+4
 705 001c 1B78     		ldrb	r3, [r3]
 706 001e DBB2     		uxtb	r3, r3
 707 0020 03F00103 		and	r3, r3, #1
 708              		.loc 1 194 79
 709 0024 1F4A     		ldr	r2, .L34+8
 710 0026 1B01     		lsls	r3, r3, #4
 711 0028 1344     		add	r3, r3, r2
 712 002a 0833     		adds	r3, r3, #8
 713 002c 1B68     		ldr	r3, [r3]
 714              		.loc 1 194 36
 715 002e 9847     		blx	r3
 716              	.LVL1:
 717 0030 0346     		mov	r3, r0
 718 0032 FB75     		strb	r3, [r7, #23]
 195:Src/addressable_led_manager.c ****       if (animState == STOPPED)
 719              		.loc 1 195 10
 720 0034 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 721 0036 032B     		cmp	r3, #3
 722 0038 1ED1     		bne	.L32
 723              	.LBB7:
 196:Src/addressable_led_manager.c ****       {
 197:Src/addressable_led_manager.c ****         animationIndex++;
 724              		.loc 1 197 23
 725 003a 194B     		ldr	r3, .L34+4
 726 003c 1B78     		ldrb	r3, [r3]
 727 003e DBB2     		uxtb	r3, r3
 728 0040 0133     		adds	r3, r3, #1
 729 0042 DAB2     		uxtb	r2, r3
 730 0044 164B     		ldr	r3, .L34+4
 731 0046 1A70     		strb	r2, [r3]
 198:Src/addressable_led_manager.c ****         AnimationMessage_t start = {BEGIN, NULL};
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//cc00WOWL.s 			page 17


 732              		.loc 1 198 28
 733 0048 0023     		movs	r3, #0
 734 004a 3B70     		strb	r3, [r7]
 735 004c 4FF00002 		mov	r2, #0
 736 0050 4FF00003 		mov	r3, #0
 737 0054 C7E90223 		strd	r2, [r7, #8]
 199:Src/addressable_led_manager.c ****         animations[animationIndex % NUM_ANIMATIONS].sendMessage(&start);
 738              		.loc 1 199 35
 739 0058 114B     		ldr	r3, .L34+4
 740 005a 1B78     		ldrb	r3, [r3]
 741 005c DBB2     		uxtb	r3, r3
 742 005e 03F00103 		and	r3, r3, #1
 743              		.loc 1 199 52
 744 0062 104A     		ldr	r2, .L34+8
 745 0064 1B01     		lsls	r3, r3, #4
 746 0066 1344     		add	r3, r3, r2
 747 0068 0C33     		adds	r3, r3, #12
 748 006a 1B68     		ldr	r3, [r3]
 749              		.loc 1 199 9
 750 006c 3A46     		mov	r2, r7
 751 006e 1046     		mov	r0, r2
 752 0070 9847     		blx	r3
 753              	.LVL2:
 200:Src/addressable_led_manager.c ****         animationSkipInProgress = false;
 754              		.loc 1 200 33
 755 0072 0A4B     		ldr	r3, .L34
 756 0074 0022     		movs	r2, #0
 757 0076 1A70     		strb	r2, [r3]
 758              	.L32:
 759              	.LBE7:
 760              	.LBE6:
 201:Src/addressable_led_manager.c ****       }
 202:Src/addressable_led_manager.c ****     }
 203:Src/addressable_led_manager.c ****     animations[animationIndex % NUM_ANIMATIONS].update();
 761              		.loc 1 203 31
 762 0078 094B     		ldr	r3, .L34+4
 763 007a 1B78     		ldrb	r3, [r3]
 764 007c DBB2     		uxtb	r3, r3
 765 007e 03F00103 		and	r3, r3, #1
 766              		.loc 1 203 48
 767 0082 084A     		ldr	r2, .L34+8
 768 0084 1B01     		lsls	r3, r3, #4
 769 0086 1344     		add	r3, r3, r2
 770 0088 0433     		adds	r3, r3, #4
 771 008a 1B68     		ldr	r3, [r3]
 772              		.loc 1 203 5
 773 008c 9847     		blx	r3
 774              	.LVL3:
 204:Src/addressable_led_manager.c ****     AddrLED_DisplayStrip(&ledStrip1);
 775              		.loc 1 204 5
 776 008e 0648     		ldr	r0, .L34+12
 777 0090 FFF7FEFF 		bl	AddrLED_DisplayStrip
 205:Src/addressable_led_manager.c ****     HAL_Delay(10);
 778              		.loc 1 205 5
 779 0094 0A20     		movs	r0, #10
 780 0096 FFF7FEFF 		bl	HAL_Delay
 189:Src/addressable_led_manager.c ****     
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//cc00WOWL.s 			page 18


 781              		.loc 1 189 5
 782 009a B4E7     		b	.L33
 783              	.L35:
 784              		.align	2
 785              	.L34:
 786 009c 00000000 		.word	animationSkipInProgress
 787 00a0 00000000 		.word	animationIndex
 788 00a4 00000000 		.word	animations
 789 00a8 00000000 		.word	ledStrip1
 790              		.cfi_endproc
 791              	.LFE300:
 793              		.text
 794              	.Letext0:
 795              		.file 2 "/Users/isikcanyilmaz/KODMOD/b607/test/mcu/tools/gcc9.2.1/mac/arm-none-eabi/include/machin
 796              		.file 3 "/Users/isikcanyilmaz/KODMOD/b607/test/mcu/tools/gcc9.2.1/mac/arm-none-eabi/include/sys/_s
 797              		.file 4 "Drivers/CMSIS/Include/core_cm4.h"
 798              		.file 5 "Drivers/CMSIS/Device/ST/STM32L4xx/Include/system_stm32l4xx.h"
 799              		.file 6 "Drivers/CMSIS/Device/ST/STM32L4xx/Include/stm32l452xx.h"
 800              		.file 7 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_def.h"
 801              		.file 8 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_dma.h"
 802              		.file 9 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_flash.h"
 803              		.file 10 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_tim.h"
 804              		.file 11 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal.h"
 805              		.file 12 "Inc/tim.h"
 806              		.file 13 "Inc/addressable_led_driver.h"
 807              		.file 14 "Inc/addressable_led_manager.h"
 808              		.file 15 "Inc/random_fade_animation.h"
 809              		.file 16 "Inc/random_triangles_animation.h"
 810              		.file 17 "Inc/sw_timers.h"
 811              		.file 18 "/Users/isikcanyilmaz/KODMOD/b607/test/mcu/tools/gcc9.2.1/mac/arm-none-eabi/include/sys/l
 812              		.file 19 "/Users/isikcanyilmaz/KODMOD/b607/test/mcu/tools/gcc9.2.1/mac/arm-none-eabi/include/sys/_
 813              		.file 20 "/Users/isikcanyilmaz/KODMOD/b607/test/mcu/tools/gcc9.2.1/mac/lib/gcc/arm-none-eabi/9.2.1
 814              		.file 21 "/Users/isikcanyilmaz/KODMOD/b607/test/mcu/tools/gcc9.2.1/mac/arm-none-eabi/include/sys/r
 815              		.file 22 "/Users/isikcanyilmaz/KODMOD/b607/test/mcu/tools/gcc9.2.1/mac/arm-none-eabi/include/stdli
ARM GAS  /var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//cc00WOWL.s 			page 19


DEFINED SYMBOLS
                            *ABS*:0000000000000000 addressable_led_manager.c
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//cc00WOWL.s:22     .rodata.ledStrip1Size:0000000000000000 ledStrip1Size
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//cc00WOWL.s:19     .rodata.ledStrip1Size:0000000000000000 $d
                            *COM*:0000000000000014 ledStrip1
                            *COM*:0000000000003c00 ledStrip1Pixels
                            *COM*:0000000000000781 ledStrip1PacketBuffer
                            *COM*:0000000000000018 refreshTimer
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//cc00WOWL.s:32     .bss.animationSkipInProgress:0000000000000000 animationSkipInProgress
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//cc00WOWL.s:33     .bss.animationSkipInProgress:0000000000000000 $d
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//cc00WOWL.s:38     .bss.animationIndex:0000000000000000 animationIndex
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//cc00WOWL.s:39     .bss.animationIndex:0000000000000000 $d
                            *COM*:00000000000000a0 panels
                            *COM*:0000000000000190 randomFadePixelData
                            *COM*:0000000000000190 randomTrianglesPixelData
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//cc00WOWL.s:48     .data.animations:0000000000000000 animations
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//cc00WOWL.s:45     .data.animations:0000000000000000 $d
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//cc00WOWL.s:58     .text.InitPanel:0000000000000000 $t
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//cc00WOWL.s:65     .text.InitPanel:0000000000000000 InitPanel
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//cc00WOWL.s:174    .text.AddrLEDManager_RefreshCallback:0000000000000000 $t
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//cc00WOWL.s:180    .text.AddrLEDManager_RefreshCallback:0000000000000000 AddrLEDManager_RefreshCallback
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//cc00WOWL.s:231    .text.AddrLEDManager_RefreshCallback:000000000000003c $d
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//cc00WOWL.s:236    .text.AddrLEDManager_Init:0000000000000000 $t
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//cc00WOWL.s:243    .text.AddrLEDManager_Init:0000000000000000 AddrLEDManager_Init
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//cc00WOWL.s:395    .text.AddrLEDManager_Init:00000000000000d8 $d
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//cc00WOWL.s:408    .text.GetPixelByLocalCoordinate:0000000000000000 $t
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//cc00WOWL.s:415    .text.GetPixelByLocalCoordinate:0000000000000000 GetPixelByLocalCoordinate
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//cc00WOWL.s:506    .text.GetPixelByLocalCoordinate:000000000000006c $d
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//cc00WOWL.s:511    .text.GetPixelByGlobalCoordinate:0000000000000000 $t
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//cc00WOWL.s:518    .text.GetPixelByGlobalCoordinate:0000000000000000 GetPixelByGlobalCoordinate
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//cc00WOWL.s:561    .text.AddrLEDManager_RefreshTimerStart:0000000000000000 $t
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//cc00WOWL.s:568    .text.AddrLEDManager_RefreshTimerStart:0000000000000000 AddrLEDManager_RefreshTimerStart
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//cc00WOWL.s:591    .text.AddrLEDManager_RefreshTimerStart:0000000000000010 $d
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//cc00WOWL.s:596    .text.AddrLEDManager_PlayNextAnimation:0000000000000000 $t
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//cc00WOWL.s:603    .text.AddrLEDManager_PlayNextAnimation:0000000000000000 AddrLEDManager_PlayNextAnimation
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//cc00WOWL.s:659    .text.AddrLEDManager_PlayNextAnimation:0000000000000040 $d
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//cc00WOWL.s:666    .text.AddrLEDManager_SanityTest:0000000000000000 $t
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//cc00WOWL.s:673    .text.AddrLEDManager_SanityTest:0000000000000000 AddrLEDManager_SanityTest
/var/folders/k7/81v8fz9j4v98_s0dd31l1wsr0000gn/T//cc00WOWL.s:786    .text.AddrLEDManager_SanityTest:000000000000009c $d

UNDEFINED SYMBOLS
Animation_RandomTriangles_Init
Animation_RandomTriangles_Update
Animation_RandomTriangles_GetState
Animation_RandomTriangles_SendMessage
Animation_RandomFade_Init
Animation_RandomFade_Update
Animation_RandomFade_GetState
Animation_RandomFade_SendMessage
HAL_GPIO_TogglePin
HAL_Delay
memset
AddrLED_Init
htim3
SwTimer_Start
AddrLED_DisplayStrip
